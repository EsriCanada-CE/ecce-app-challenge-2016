// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"esri/dijit/TimeSlider":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/connect dojo/_base/kernel dojo/has dojo/dom-class dojo/dom-construct dojo/dom-style dojo/dom-geometry dijit/_Widget dijit/_Templated dijit/form/HorizontalSlider dijit/form/HorizontalRule dijit/form/HorizontalRuleLabels dojox/timing/_base dojox/form/RangeSlider dojo/text!dojox/form/resources/HorizontalRangeSlider.html ../kernel ../lang ../TimeExtent ./_EventedWidget dojo/text!./templates/TimeSlider.html dojo/i18n!../nls/jsapi".split(" "),
function(g,e,d,k,q,r,s,p,m,f,t,l,n,v,u,z,x,A,y,h,a,c,b){return g([a,f,t],{declaredClass:"esri.dijit.TimeSlider",widgetsInTemplate:!0,templateString:c,_slideDuration:1E3,_defaultCount:10,_eventMap:{"time-extent-change":!0,play:!0,pause:!0,next:!0,previous:!0},constructor:function(a,c){e.mixin(this,b.widgets.timeSlider);this._iconClass="tsButton tsPlayButton";this.loop=this.playing=!1;this.thumbCount=1;this.thumbMovingRate=1E3;this._createTimeInstants=!1;this._options=e.mixin({excludeDataAtTrailingThumb:!1,
excludeDataAtLeadingThumb:!1},a.options||{})},postCreate:function(){this.inherited(arguments);m.isBodyLtr()||(this.playPauseBtn.domNode.parentNode.align="left",this.previousBtn.domNode.parentNode.align="right",this.nextBtn.domNode.parentNode.align="right",r.add(this.playPauseBtn.iconNode,"tsFlipImage"),r.add(this.previousBtn.iconNode,"tsFlipImage"),r.add(this.nextBtn.iconNode,"tsFlipImage"))},startup:function(){this.inherited(arguments);this._timer=new u.Timer;this._timer.setInterval(this.thumbMovingRate);
this._timer.onTick=e.hitch(this,"_bumpSlider",1);this._createSlider()},destroy:function(){this._timer.stop();this.timeStops=this._timer=null;this._slider.destroy();this._slider=null;this._hTicks&&(this._hTicks.destroyRecursive(),this._hTicks=null);this._hLabels&&(this._hLabels.destroyRecursive(),this._hLabels=null);this.inherited(arguments)},onTimeExtentChange:function(){},onPlay:function(){},onPause:function(){},onNext:function(){},onPrevious:function(){},_onHorizontalChange:function(){var a=this._sliderToTimeExtent();
this.onTimeExtentChange(a)},_onPlay:function(){this.playing=!this.playing;this._updateUI();this.playing?(this._timer.start(),this.onPlay(this._sliderToTimeExtent())):(this._timer.stop(),this.onPause(this._sliderToTimeExtent()));var a=this._getSliderValue();this._offset=e.isArray(a)?a[1]-a[0]:0},_onNext:function(){this.playing||(this._bumpSlider(1),this.onNext(this._sliderToTimeExtent()))},_onPrev:function(){this.playing||(this._bumpSlider(-1),this.onPrevious(this._sliderToTimeExtent()))},createTimeStopsByCount:function(a,
b){if(!a||!a.startTime||!a.endTime)console.log(this.NLS_invalidTimeExtent);else{b=b||this._defaultCount;var c=Math.ceil((a.endTime-a.startTime)/(b-1));this.createTimeStopsByTimeInterval(a,c,"esriTimeUnitsMilliseconds")}},createTimeStopsByTimeInterval:function(a,b,c,e){if(!a||!a.startTime||!a.endTime)console.log(this.NLS_invalidTimeExtent);else{this.fullTimeExtent=new h(a.startTime,a.endTime);e&&!0===e.resetStartTime&&this._resetStartTime(this.fullTimeExtent,c);this._timeIntervalUnits=c;e=this.fullTimeExtent.startTime;
for(var d=[];e<=a.endTime;)d.push(e),e=a._getOffsettedDate(e,b,c);0<d.length&&d[d.length-1]<a.endTime&&d.push(e);this.setTimeStops(d)}},getCurrentTimeExtent:function(){return this._sliderToTimeExtent()},setTimeStops:function(a){this.timeStops=a||[];this._numTicks=this._numStops=this.timeStops.length;!1===y.isDefined(this.fullTimeExtent)&&(this.fullTimeExtent=new h(a[0],a[a.length-1]))},setLoop:function(a){this.loop=a},setThumbCount:function(a){this.thumbCount=a;this.singleThumbAsTimeInstant(this._createTimeInstants);
this._slider&&this._createSlider()},setThumbIndexes:function(a){this.thumbIndexes=e.clone(a)||[0,1];this._initializeThumbs()},setThumbMovingRate:function(a){this.thumbMovingRate=a;this._timer&&this._timer.setInterval(this.thumbMovingRate)},setLabels:function(a){this.labels=a;this._slider&&this._createSlider()},setTickCount:function(a){this._numTicks=a;this._slider&&this._createSlider()},singleThumbAsTimeInstant:function(a){this._createTimeInstants=a&&1===this.thumbCount},next:function(){this._onNext()},
pause:function(){this.playing=!1;this._updateUI();this._timer.stop()},play:function(){!0!==this.playing&&(this.playing=!1,this._onPlay())},previous:function(){this._onPrev()},_updateUI:function(){r.remove(this.playPauseBtn.iconNode,this._iconClass);this._iconClass=this.playing?"tsButton tsPauseButton":"tsButton tsPlayButton";r.add(this.playPauseBtn.iconNode,this._iconClass);this.previousBtn.set("disabled",this.playing);this.nextBtn.set("disabled",this.playing)},_createSlider:function(){this._slider&&
(this._slider.destroy(),this._slider=null);for(var a=this.domNode;a.parentNode&&!a.dir;)a=a.parentNode;a={onChange:e.hitch(this,"_onHorizontalChange"),showButtons:!1,discreteValues:this._numStops,slideDuration:this._slideDuration,"class":"ts",dir:m.isBodyLtr()?"ltr":"rtl"};this._ts=s.create("div",{},k.query(".tsTmp",this.domNode)[0],"first");this._timeSliderTicks=s.create("div",{},this._ts,"first");this._timeSliderLabels=s.create("div",{},this._ts);2===this.thumbCount?this._createRangeSlider(a):this._createSingleSlider(a);
this.thumbIndexes=this.thumbIndexes||[0,1];this._createHorizRule();this._createLabels();!0===this._createTimeInstants&&k.query(".dijitSliderProgressBarH, .dijitSliderLeftBumper, .dijitSliderRightBumper",this._ts).forEach(function(a){p.set(a,{background:"none"})});this._initializeThumbs();d.disconnect(this._onChangeConnect);this._onChangeConnect=d.connect(this._slider,"onChange",e.hitch(this,"_updateThumbIndexes"))},_createRangeSlider:function(a){this._isRangeSlider=!0;this._slider=new (g([l,z],{templateString:x}))(a,
this._ts)},_createSingleSlider:function(a){this._isRangeSlider=!1;this._slider=new l(a,this._ts)},_createHorizRule:function(){this._hTicks&&(this._hTicks.destroyRecursive(),this._hTicks=null);2>this._numTicks||(this._hTicks=new n({container:"topDecoration",ruleStyle:"","class":"tsTicks",count:this._numTicks},this._timeSliderTicks))},_createLabels:function(){this._hLabels&&(this._hLabels.destroyRecursive(),this._hLabels=null);this.labels&&0<this.labels.length&&(this._hLabels=new v({labels:this.labels,
labelStyle:"","class":"tsLabels"},this._timeSliderLabels))},_initializeThumbs:function(){if(this._slider){this._offset=this._toSliderValue(this.thumbIndexes[1])||0;var a=this._toSliderValue(this.thumbIndexes[0]),a=a>this._slider.maximum||a<this._slider.minimum?this._slider.minimum:a;if(!0===this._isRangeSlider){var b=this._toSliderValue(this.thumbIndexes[1]),b=b>this._slider.maximum||b<this._slider.minimum?this._slider.maximum:b;this._setSliderValue([a,b<a?a:b])}else this._setSliderValue(a);this._onHorizontalChange()}},
_bumpSlider:function(a){var b=this._getSliderValue(),c=b,h=c,d=a;e.isArray(b)&&(h=b[0],c=b[1],d=[{change:a,useMaxValue:!0},{change:a,useMaxValue:!1}]);1E-10>Math.abs(h-this._slider.minimum)&&0>a||1E-10>Math.abs(c-this._slider.maximum)&&0<a?this._timer.isRunning&&(this.loop?(this._timer.stop(),this._setSliderValue(this._getSliderMinValue()),a=this._sliderToTimeExtent(),this.onTimeExtentChange(a),this._timer.start(),this.playing=!0):this.pause()):this._slider._bumpValue(d)},_updateThumbIndexes:function(){var a=
this._getSliderValue();e.isArray(a)?(this.thumbIndexes[0]=this._toSliderIndex(a[0]),this.thumbIndexes[1]=this._toSliderIndex(a[1])):this.thumbIndexes[0]=this._toSliderIndex(a)},_sliderToTimeExtent:function(){if(this.timeStops&&0!==this.timeStops.length){var a=new h,b=this._getSliderValue(),c,d;e.isArray(b)?(b[0]>b[1]?(d=b[0],c=b[1]):(c=b[0],d=b[1]),a.startTime=new Date(this.timeStops[this._toSliderIndex(c)]),a.endTime=new Date(this.timeStops[this._toSliderIndex(d)]),this._adjustTimeExtent(a)):(a.startTime=
!0===this._createTimeInstants?new Date(this.timeStops[this._toSliderIndex(b)]):new Date(this.fullTimeExtent.startTime),a.endTime=!0===this._createTimeInstants?a.startTime:new Date(this.timeStops[this._toSliderIndex(b)]));return a}},_adjustTimeExtent:function(a){if(!(!1===this._options.excludeDataAtTrailingThumb&&!1===this._options.excludeDataAtLeadingThumb)&&a.startTime.getTime()!==a.endTime.getTime()){if(this._options.excludeDataAtTrailingThumb){var b=a.startTime;b.setUTCSeconds(b.getUTCSeconds()+
1)}this._options.excludeDataAtLeadingThumb&&(a=a.endTime,a.setUTCSeconds(a.getUTCSeconds()-1))}},_resetStartTime:function(a,b){switch(b){case "esriTimeUnitsSeconds":a.startTime.setUTCMilliseconds(0);break;case "esriTimeUnitsMinutes":a.startTime.setUTCSeconds(0,0,0);break;case "esriTimeUnitsHours":a.startTime.setUTCMinutes(0,0,0);break;case "esriTimeUnitsDays":a.startTime.setUTCHours(0,0,0,0);break;case "esriTimeUnitsWeeks":a.startTime.setUTCDate(a.startTime.getUTCDate()-a.startTime.getUTCDay());break;
case "esriTimeUnitsMonths":a.startTime.setUTCDate(1);a.startTime.setUTCHours(0,0,0,0);break;case "esriTimeUnitsDecades":a.startTime.setUTCFullYear(a.startTime.getUTCFullYear()-a.startTime.getUTCFullYear()%10);break;case "esriTimeUnitsCenturies":a.startTime.setUTCFullYear(a.startTime.getUTCFullYear()-a.startTime.getUTCFullYear()%100)}},_getSliderMinValue:function(){return this._isRangeSlider?[this._slider.minimum,this._slider.minimum+this._offset]:this._slider.minimum},_toSliderIndex:function(a){a=
Math.floor((a-this._slider.minimum)*this._numStops/(this._slider.maximum-this._slider.minimum));0>a&&(a=0);a>=this._numStops&&(a=this._numStops-1);return a},_toSliderValue:function(a){return a*(this._slider.maximum-this._slider.minimum)/(this._numStops-1)+this._slider.minimum},_getSliderValue:function(){return this._slider.get("value")},_setSliderValue:function(a){this._slider._setValueAttr(a,!1,!1)}})})},"dojox/timing/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang"],function(g){g.experimental("dojox.timing");
g.getObject("timing",!0,dojox);dojox.timing.Timer=function(e){this.timer=null;this.isRunning=!1;this.interval=e;this.onStop=this.onStart=null};g.extend(dojox.timing.Timer,{onTick:function(){},setInterval:function(e){this.isRunning&&window.clearInterval(this.timer);this.interval=e;this.isRunning&&(this.timer=window.setInterval(g.hitch(this,"onTick"),this.interval))},start:function(){if("function"==typeof this.onStart)this.onStart();this.isRunning=!0;this.timer=window.setInterval(g.hitch(this,"onTick"),
this.interval)},stop:function(){if("function"==typeof this.onStop)this.onStop();this.isRunning=!1;window.clearInterval(this.timer)}});return dojox.timing})},"dojox/form/RangeSlider":function(){define(["dojo/_base/kernel","./_RangeSliderMixin","./HorizontalRangeSlider","./VerticalRangeSlider"],function(g,e){g.deprecated("Call require() for HorizontalRangeSlider / VerticalRangeSlider, explicitly rather than 'dojox.form.RangeSlider' itself","","2.0");return e})},"dojox/form/_RangeSliderMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/fx dojo/_base/event dojo/_base/sniff dojo/dom-style dojo/dom-geometry dojo/keys dijit dojo/dnd/Mover dojo/dnd/Moveable dijit/form/_FormValueWidget dijit/focus dojo/fx dojox/fx".split(" "),
function(g,e,d,k,q,r,s,p,m,f,t,l,n,v,u){var z=function(h,a){return a-h},x=function(h,a){return h-a};f=g("dojox.form._RangeSliderMixin",null,{_setTabIndexAttr:["sliderHandle","sliderHandleMax"],value:[0,100],postMixInProperties:function(){this.inherited(arguments);this.value=d.map(this.value,function(h){return parseInt(h,10)})},postCreate:function(){this.inherited(arguments);this.value.sort(this._isReversed()?z:x);var h=this,a=g(A,{constructor:function(){this.widget=h}});this._movableMax=new l(this.sliderHandleMax,
{mover:a});this.sliderHandle.setAttribute("aria-valuemin",this.minimum);this.sliderHandle.setAttribute("aria-valuemax",this.maximum);this.sliderHandleMax.setAttribute("aria-valuemin",this.minimum);this.sliderHandleMax.setAttribute("aria-valuemax",this.maximum);a=g(y,{constructor:function(){this.widget=h}});this._movableBar=new l(this.progressBar,{mover:a});this.focusNode.removeAttribute("aria-valuemin");this.focusNode.removeAttribute("aria-valuemax");this.focusNode.removeAttribute("aria-valuenow")},
destroy:function(){this.inherited(arguments);this._movableMax.destroy();this._movableBar.destroy()},_onKeyPress:function(h){if(!this.disabled&&!this.readOnly&&!h.altKey&&!h.ctrlKey){var a=h.target===this.sliderHandleMax,c=h.target===this.progressBar,b=e.delegate(m,this.isLeftToRight()?{PREV_ARROW:m.LEFT_ARROW,NEXT_ARROW:m.RIGHT_ARROW}:{PREV_ARROW:m.RIGHT_ARROW,NEXT_ARROW:m.LEFT_ARROW}),w=0,d=!1;switch(h.keyCode){case b.HOME:this._setValueAttr(this.minimum,!0,a);q.stop(h);return;case b.END:this._setValueAttr(this.maximum,
!0,a);q.stop(h);return;case b.PREV_ARROW:case b.DOWN_ARROW:d=!0;case b.NEXT_ARROW:case b.UP_ARROW:w=1;break;case b.PAGE_DOWN:d=!0;case b.PAGE_UP:w=this.pageIncrement;break;default:this.inherited(arguments);return}d&&(w=-w);w&&(c?this._bumpValue([{change:w,useMaxValue:!1},{change:w,useMaxValue:!0}]):this._bumpValue(w,a),q.stop(h))}},_onHandleClickMax:function(h){!this.disabled&&!this.readOnly&&(r("ie")||v.focus(this.sliderHandleMax),q.stop(h))},_onClkIncBumper:function(){this._setValueAttr(!1===this._descending?
this.minimum:this.maximum,!0,!0)},_bumpValue:function(h,a){var c=e.isArray(h)?[this._getBumpValue(h[0].change,h[0].useMaxValue),this._getBumpValue(h[1].change,h[1].useMaxValue)]:this._getBumpValue(h,a);this._setValueAttr(c,!0,a)},_getBumpValue:function(h,a){var c=a?1:0;this._isReversed()&&(c=1-c);var b=s.getComputedStyle(this.sliderBarContainer),d=p.getContentBox(this.sliderBarContainer,b),b=this.discreteValues,c=this.value[c];if(1>=b||Infinity==b)b=d[this._pixelCount];b--;c=this.maximum>this.minimum?
(c-this.minimum)*b/(this.maximum-this.minimum)+h:0;0>c&&(c=0);c>b&&(c=b);return c*(this.maximum-this.minimum)/b+this.minimum},_onBarClick:function(h){!this.disabled&&!this.readOnly&&(r("ie")||v.focus(this.progressBar),q.stop(h))},_onRemainingBarClick:function(h){if(!this.disabled&&!this.readOnly){r("ie")||v.focus(this.progressBar);var a=p.position(this.sliderBarContainer,!0),c=p.position(this.progressBar,!0),b=h[this._mousePixelCoord],d=c[this._startingPixelCoord],c=d+c[this._pixelCount],d=this._isReversed()?
b<=d:b>=c,b=this._isReversed()?a[this._pixelCount]-b+a[this._startingPixelCoord]:b-a[this._startingPixelCoord];this._setPixelValue(b,a[this._pixelCount],!0,d);q.stop(h)}},_setPixelValue:function(h,a,c,b){!this.disabled&&!this.readOnly&&(h=this._getValueByPixelValue(h,a),this._setValueAttr(h,c,b))},_getValueByPixelValue:function(h,a){var c=this.discreteValues;if(1>=c||Infinity==c)c=a;c--;var b=Math.round((0>h?0:a<h?a:h)/(a/c));return(this.maximum-this.minimum)*b/c+this.minimum},_setValueAttr:function(h,
a,c){var b=this.value;e.isArray(h)?b=h:c?this._isReversed()?b[0]=h:b[1]=h:this._isReversed()?b[1]=h:b[0]=h;this._lastValueReported="";this.valueNode.value=this.value=h=b;this.value.sort(this._isReversed()?z:x);this.sliderHandle.setAttribute("aria-valuenow",b[0]);this.sliderHandleMax.setAttribute("aria-valuenow",b[1]);n.prototype._setValueAttr.apply(this,arguments);this._printSliderBar(a,c)},_printSliderBar:function(h,a){var c=this.maximum>this.minimum?(this.value[0]-this.minimum)/(this.maximum-this.minimum):
0,b=this.maximum>this.minimum?(this.value[1]-this.minimum)/(this.maximum-this.minimum):0,d=c;c>b&&(c=b,b=d);var e=this._isReversed()?100*(1-c):100*c,f=this._isReversed()?100*(1-b):100*b,g=this._isReversed()?100*(1-b):100*c;if(h&&0<this.slideDuration&&this.progressBar.style[this._progressPixelSize]){if(parseFloat(this.progressBar.style[this._handleOffsetCoord]),d=this.slideDuration/10,0!==d){0>d&&(d=0-d);var l={},n={},t={};l[this._handleOffsetCoord]={start:this.sliderHandle.parentNode.style[this._handleOffsetCoord],
end:e,units:"%"};n[this._handleOffsetCoord]={start:this.sliderHandleMax.parentNode.style[this._handleOffsetCoord],end:f,units:"%"};t[this._handleOffsetCoord]={start:this.progressBar.style[this._handleOffsetCoord],end:g,units:"%"};t[this._progressPixelSize]={start:this.progressBar.style[this._progressPixelSize],end:100*(b-c),units:"%"};c=k.animateProperty({node:this.sliderHandle.parentNode,duration:d,properties:l});b=k.animateProperty({node:this.sliderHandleMax.parentNode,duration:d,properties:n});
d=k.animateProperty({node:this.progressBar,duration:d,properties:t});u.combine([c,b,d]).play()}}else this.sliderHandle.parentNode.style[this._handleOffsetCoord]=e+"%",this.sliderHandleMax.parentNode.style[this._handleOffsetCoord]=f+"%",this.progressBar.style[this._handleOffsetCoord]=g+"%",this.progressBar.style[this._progressPixelSize]=100*(b-c)+"%"}});var A=g("dijit.form._SliderMoverMax",t,{onMouseMove:function(d){var a=this.widget,c=a._abspos;c||(c=a._abspos=p.position(a.sliderBarContainer,!0),
a._setPixelValue_=e.hitch(a,"_setPixelValue"),a._isReversed_=a._isReversed());d=d[a._mousePixelCoord]-c[a._startingPixelCoord];a._setPixelValue_(a._isReversed_?c[a._pixelCount]-d:d,c[a._pixelCount],!1,!0)},destroy:function(d){t.prototype.destroy.apply(this,arguments);var a=this.widget;a._abspos=null;a._setValueAttr(a.value,!0)}}),y=g("dijit.form._SliderBarMover",t,{onMouseMove:function(d){var a=this.widget;if(!a.disabled&&!a.readOnly){var c=a._abspos,b=a._bar,f=a._mouseOffset;c||(c=a._abspos=p.position(a.sliderBarContainer,
!0),a._setPixelValue_=e.hitch(a,"_setPixelValue"),a._getValueByPixelValue_=e.hitch(a,"_getValueByPixelValue"),a._isReversed_=a._isReversed());b||(b=a._bar=p.position(a.progressBar,!0));f||(f=a._mouseOffset=d[a._mousePixelCoord]-b[a._startingPixelCoord]);d=d[a._mousePixelCoord]-c[a._startingPixelCoord]-f;pixelValues=[d,d+b[a._pixelCount]];pixelValues.sort(x);0>=pixelValues[0]&&(pixelValues[0]=0,pixelValues[1]=b[a._pixelCount]);pixelValues[1]>=c[a._pixelCount]&&(pixelValues[1]=c[a._pixelCount],pixelValues[0]=
c[a._pixelCount]-b[a._pixelCount]);c=[a._getValueByPixelValue(a._isReversed_?c[a._pixelCount]-pixelValues[0]:pixelValues[0],c[a._pixelCount]),a._getValueByPixelValue(a._isReversed_?c[a._pixelCount]-pixelValues[1]:pixelValues[1],c[a._pixelCount])];a._setValueAttr(c,!1,!1)}},destroy:function(){t.prototype.destroy.apply(this,arguments);var d=this.widget;d._abspos=null;d._bar=null;d._mouseOffset=null;d._setValueAttr(d.value,!0)}});return f})},"dojox/fx":function(){define(["./fx/_base"],function(g){return g})},
"dojox/fx/_base":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/fx dojo/fx dojo/dom dojo/dom-style dojo/dom-geometry dojo/_base/connect dojo/_base/html".split(" "),function(g,e,d,k,q,r,s,p,m){g=e.getObject("dojox.fx",!0);e.mixin(g,{anim:d.anim,animateProperty:d.animateProperty,fadeTo:d._fade,fadeIn:d.fadeIn,fadeOut:d.fadeOut,combine:k.combine,chain:k.chain,slideTo:k.slideTo,wipeIn:k.wipeIn,wipeOut:k.wipeOut});g.sizeTo=function(f){var g=f.node=q.byId(f.node),l=f.method||"chain";f.duration||
(f.duration=500);"chain"==l&&(f.duration=Math.floor(f.duration/2));var n,v,u,p,m,s=null,y=function(d){return function(){var a=r.getComputedStyle(d),c=a.position,b=a.width,e=a.height;n="absolute"==c?d.offsetTop:parseInt(a.top)||0;u="absolute"==c?d.offsetLeft:parseInt(a.left)||0;m="auto"==b?0:parseInt(b);s="auto"==e?0:parseInt(e);p=u-Math.floor((f.width-m)/2);v=n-Math.floor((f.height-s)/2);"absolute"!=c&&"relative"!=c&&(a=r.coords(d,!0),n=a.y,u=a.x,d.style.position="absolute",d.style.top=n+"px",d.style.left=
u+"px")}}(g),g=d.animateProperty(e.mixin({properties:{height:function(){y();return{end:f.height||0,start:s}},top:function(){return{start:n,end:v}}}},f)),l=d.animateProperty(e.mixin({properties:{width:function(){return{start:m,end:f.width||0}},left:function(){return{start:u,end:p}}}},f));return k["combine"==f.method?"combine":"chain"]([g,l])};g.slideBy=function(f){var g,l,n=function(d){return function(){var e=r.getComputedStyle(d),f=e.position;g="absolute"==f?d.offsetTop:parseInt(e.top)||0;l="absolute"==
f?d.offsetLeft:parseInt(e.left)||0;"absolute"!=f&&"relative"!=f&&(e=s.coords(d,!0),g=e.y,l=e.x,d.style.position="absolute",d.style.top=g+"px",d.style.left=l+"px")}}(f.node=q.byId(f.node));n();f=d.animateProperty(e.mixin({properties:{top:g+(f.top||0),left:l+(f.left||0)}},f));p.connect(f,"beforeBegin",f,n);return f};g.crossFade=function(f){var g=f.nodes[0]=q.byId(f.nodes[0]),l=m.style(g,"opacity"),n=f.nodes[1]=q.byId(f.nodes[1]);m.style(n,"opacity");return k.combine([d[0==l?"fadeIn":"fadeOut"](e.mixin({node:g},
f)),d[0==l?"fadeOut":"fadeIn"](e.mixin({node:n},f))])};g.highlight=function(f){var g=f.node=q.byId(f.node);f.duration=f.duration||400;var l=f.color||"#ffff99",n=m.style(g,"backgroundColor");"rgba(0, 0, 0, 0)"==n&&(n="transparent");f=d.animateProperty(e.mixin({properties:{backgroundColor:{start:l,end:n}}},f));"transparent"==n&&p.connect(f,"onEnd",f,function(){g.style.backgroundColor=n});return f};g.wipeTo=function(f){f.node=q.byId(f.node);var g=f.node,l=g.style,n=f.width?"width":"height",k={};k[n]=
{start:function(){l.overflow="hidden";if("hidden"==l.visibility||"none"==l.display)return l[n]="1px",l.display="",l.visibility="",1;var d=m.style(g,n);return Math.max(d,1)},end:f[n]};return d.animateProperty(e.mixin({properties:k},f))};return g})},"dojox/form/HorizontalRangeSlider":function(){define(["dojo/_base/declare","dojox/form/_RangeSliderMixin","dojo/text!./resources/HorizontalRangeSlider.html","dijit/form/HorizontalSlider"],function(g,e,d,k){return g("dojox.form.HorizontalRangeSlider",[k,
e],{templateString:d})})},"dojox/form/VerticalRangeSlider":function(){define(["dojo/_base/declare","dojox/form/_RangeSliderMixin","dojo/text!./resources/VerticalRangeSlider.html","dijit/form/VerticalSlider"],function(g,e,d,k){return g("dojox.form.VerticalRangeSlider",[k,e],{templateString:d})})},"dijit/form/VerticalSlider":function(){define(["dojo/_base/declare","./HorizontalSlider","dojo/text!./templates/VerticalSlider.html"],function(g,e,d){return g("dijit.form.VerticalSlider",e,{templateString:d,
_mousePixelCoord:"pageY",_pixelCount:"h",_startingPixelCoord:"y",_handleOffsetCoord:"top",_progressPixelSize:"height",_descending:!0,_isReversed:function(){return this._descending}})})},"widgets/TimeSlider/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings","dojo/text!./config.json"],function(){})},"url:dojox/form/resources/HorizontalRangeSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH dojoxRangeSlider" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onkeyup:_onKeyUp" role\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" dojoAttachEvent\x3d"onmousedown:_onClkDecBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cinput dojoAttachPoint\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3cdiv role\x3d"presentation" class\x3d"dojoxRangeSliderBarContainer" dojoAttachPoint\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" dojoAttachPoint\x3d"sliderHandle,focusNode" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onmousedown:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" dojoAttachEvent\x3d"onmousedown:_onBarClick"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" dojoAttachPoint\x3d"sliderHandleMax" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onmousedown:_onHandleClickMax" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" dojoAttachEvent\x3d"onmousedown:_onRemainingBarClick"\x3e\x3c/div\r\n\t\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" dojoAttachEvent\x3d"onmousedown:_onClkIncBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:dojox/form/resources/VerticalRangeSlider.html":'\x3ctable class\x3d"dijitReset dijitSlider dijitSliderV dojoxRangeSlider" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none"\r\n\trole\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconV" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"decrementButton" dojoAttachEvent\x3d"onclick: increment"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3ccenter\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderTopBumper" dojoAttachEvent\x3d"onclick:_onClkIncBumper"\x3e\x3c/div\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"leftDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationL dijitSliderDecorationV" style\x3d"text-align:center;height:100%;"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" style\x3d"height:100%;"\r\n\t\t\t\x3e\x3cinput dojoAttachPoint\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3ccenter role\x3d"presentation" style\x3d"position:relative;height:100%;" dojoAttachPoint\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarV dijitSliderRemainingBar dijitSliderRemainingBarV" dojoAttachEvent\x3d"onmousedown:_onRemainingBarClick"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableV" style\x3d"vertical-align:top;" role\x3d"slider"\r\n\t\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleV" dojoAttachPoint\x3d"sliderHandle,focusNode" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onmousedown:_onHandleClick"\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarV dijitSliderProgressBar dijitSliderProgressBarV" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onmousedown:_onBarClick"\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableV" style\x3d"vertical-align:top;" role\x3d"slider"\r\n\t\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleV" dojoAttachPoint\x3d"sliderHandleMax" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onmousedown:_onHandleClickMax"\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"containerNode,rightDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationR dijitSliderDecorationV" style\x3d"text-align:center;height:100%;"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3ccenter\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderBottomBumper" dojoAttachEvent\x3d"onclick:_onClkDecBumper"\x3e\x3c/div\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconV" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"incrementButton" dojoAttachEvent\x3d"onclick: decrement"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:dijit/form/templates/VerticalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderV" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,onkeyup:_onKeyUp"\r\n\trole\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconV" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3ccenter\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderTopBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"leftDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationL dijitSliderDecorationV"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderDecorationC" style\x3d"height:100%;"\r\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3ccenter class\x3d"dijitReset dijitSliderBarContainerV" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarV dijitSliderRemainingBar dijitSliderRemainingBarV" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c!--#5629--\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarV dijitSliderProgressBar dijitSliderProgressBarV" data-dojo-attach-event\x3d"press:_onBarClick"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableV" style\x3d"vertical-align:top;"\r\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleV" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,rightDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationR dijitSliderDecorationV"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3ccenter\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderBottomBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconV" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:esri/dijit/templates/TimeSlider.html":'   \x3cdiv class\x3d"esriTimeSlider"\x3e\r\n   \x3ctable width\x3d"100%" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0"\x3e\r\n   \x3ctr\x3e\r\n   \x3ctd align\x3d"right" valign\x3d"middle"\x3e\x3cbutton dojoType\x3d"dijit.form.Button" showLabel\x3d"false" iconClass\x3d"tsButton tsPlayButton" dojoAttachEvent\x3d"onClick:_onPlay" dojoAttachPoint\x3d"playPauseBtn" type\x3d"button"\x3e${NLS_play}\x3c/button\x3e\x3c/td\x3e\r\n   \x3ctd align\x3d"center" valign\x3d"middle" width\x3d"80%" class\x3d"tsTmp"\x3e\x3c/td\x3e\r\n   \x3ctd align\x3d"left" valign\x3d"middle" width\x3d"30"\x3e\x3cbutton dojoType\x3d"dijit.form.Button" showLabel\x3d"false" iconClass\x3d"tsButton tsPrevButton" dojoAttachEvent\x3d"onClick:_onPrev" dojoAttachPoint\x3d"previousBtn" type\x3d"button"\x3e${NLS_previous}\x3c/button\x3e\x3c/td\x3e\r\n   \x3ctd align\x3d"left" valign\x3d"middle"\x3e\x3cbutton dojoType\x3d"dijit.form.Button" showLabel\x3d"false" iconClass\x3d"tsButton tsNextButton" dojoAttachEvent\x3d"onClick:_onNext" dojoAttachPoint\x3d"nextBtn" type\x3d"button"\x3e${NLS_next}\x3c/button\x3e\x3c/td\x3e\r\n   \x3c/tr\x3e    \r\n   \x3c/table\x3e\r\n   \x3c/div\x3e',
"url:widgets/TimeSlider/Widget.html":'\x3cdiv class\x3d"jimu-widget-timeslider"\x3e\r\n\t\x3cdiv class\x3d"no-time-content" data-dojo-attach-point\x3d"noTimeContentNode"\x3e${nls.disableTips}\x3c/div\x3e\r\n\t\x3cdiv class\x3d"time-content" data-dojo-attach-point\x3d"timeContentNode"\x3e\r\n\t\t\x3cdiv class\x3d"time-extent jimu-ellipsis" data-dojo-attach-point\x3d"timeExtentLabelNode"\x3e${nls.timeExtent}\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"layer-labels jimu-ellipsis" data-dojo-attach-point\x3d"layerLabelsNode"\x3e${nls.layers}\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"slider-content" data-dojo-attach-point\x3d"sliderContent"\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"sliderNode"\x3e\x3c/div\x3e\r\n\t\t\t\x3cdiv class\x3d"speed-container jimu-float-trailing jimu-trailing-margin1" data-dojo-attach-point\x3d"speedContainerNode" data-dojo-attach-event\x3d"mouseenter:_onMouseEnterSpeedContainer,mouseleave:_onMouseLeaveSpeedContainer"\x3e\r\n\t\t\t\t\x3cdiv class\x3d"speed-label" data-dojo-attach-point\x3d"speedLabelNode" data-dojo-attach-event\x3d"click:_onSpeedLabelClick"\x3e1X\x3c/div\x3e\r\n\t\t\t\t\x3cdiv class\x3d"speed-menu" data-dojo-attach-point\x3d"speedMenu" data-dojo-attach-event\x3d"click:_onSelectSpeedItem"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"speed-menu-item item-label jimu-ellipsis" title\x3d"${nls.speedLabel}"\x3e${nls.speedLabel}\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"speed-menu-item" speed\x3d"0.25"\x3e0.25X\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"speed-menu-item" speed\x3d"0.5"\x3e0.5X\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"speed-menu-item" speed\x3d"1"\x3e1X\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"speed-menu-item" speed\x3d"1.5"\x3e1.5X\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"speed-menu-item" speed\x3d"2"\x3e2X\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/TimeSlider/css/style.css":".jimu-widget-timeslider{bottom: 55px; left: 7px; position: absolute; width: 652px !important;}.jimu-widget-timeslider .esriTimeSlider{z-index: 99;}.jimu-widget-timeslider .no-time-content,.jimu-widget-timeslider .time-content{position: relative; display: none; background: #8e8e8e; background: rgba(0,0,0,0.4); z-index: 0;}.jimu-widget-timeslider .no-time-content{height: 30px; padding: 0px 10px; line-height: 30px; font-size: 14px; color: #fff;}.jimu-widget-timeslider .time-content{height: 100px; padding-top: 20px; opacity: 0;}.jimu-widget-timeslider .time-extent{margin-bottom: 5px; font-size: 14px; color: #fff; text-align: center;}.jimu-widget-timeslider .layer-labels{font-size: 12px; color: #fff; text-align: center; margin-bottom: 8px;}.jimu-widget-timeslider .slider-content{position: relative; max-width: 657px; margin: auto;}.jimu-widget-timeslider .slider-content .esriTimeSlider{width: 600px;}.jimu-widget-timeslider .speed-container{position: relative; height: 28px; width: 40px; cursor: pointer;}.jimu-widget-timeslider .speed-menu{display: none; width: 105px; background: #759dc0; color: white; position: absolute; bottom: 27px; text-align: left; border-radius: 4px;}.jimu-rtl .jimu-widget-timeslider .speed-menu{text-align: right;}.jimu-widget-timeslider .speed-menu-item{width: 100%; display: inline-block; height: 20px; line-height: 20px; padding-left: 10px;}.jimu-rtl .jimu-widget-timeslider .speed-menu-item{padding-left: 0; padding-right: 10px;}.jimu-widget-timeslider .item-label {border-bottom: 1px solid #c9e0f6;}.jimu-widget-timeslider .speed-menu-item:hover{background: #485566;}.jimu-widget-timeslider .speed-label{width: 40px; height: 25px; color: white; text-align: center; background: #759dc0; line-height: 25px; position: absolute; bottom: 0; border-radius: 4px;}.mobile-time-slider{left: 5px !important; right: 5px !important; width: auto !important;}.jimu-widget-timeslider .mobile .slider-content{width: 100% !important;}",
"url:widgets/TimeSlider/config.json":'{\r\n\t"showLabels": false\r\n}',"*now":function(g){g(['dojo/i18n!*preload*widgets/TimeSlider/nls/Widget*["ar","cs","da","de","en","el","es","et","fi","fr","he","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/_base/array dojo/_base/config dojo/_base/fx dojo/on dojo/sniff dojo/Deferred dojo/when dojo/promise/all dojo/date/locale dojo/i18n jimu/LayerInfos/LayerInfos jimu/BaseWidget esri/lang esri/request esri/TimeExtent esri/dijit/TimeSlider".split(" "),function(g,e,d,k,q,r,s,p,m,f,t,l,n,v,u,z,x,A,y){var h={ar:{datePattern:"dd MMMM, yyyy",yearPattern:"yyyy",hourTimePattern:"h a",minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"},
cs:{datePattern:"MMMM d, yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"h:mm",secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},da:{datePattern:"d. MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"H:mm",secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},de:{datePattern:"d. MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"H:mm",secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},el:{datePattern:"d MMMM yyyy",
yearPattern:"yyyy",hourTimePattern:"h",minuteTimePattern:"hh:mm",secondTimePattern:"hh:mm:ss",millisecondTimePattern:"hh:mm:ss:SSS"},es:{datePattern:"d' de 'MMMM' de 'yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"H:mm",secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},et:{datePattern:"d. MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"H:mm",secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},fi:{datePattern:"d. MMMM yyyy",yearPattern:"yyyy",
hourTimePattern:"t",minuteTimePattern:"t:mm a",secondTimePattern:"t:mm:ss",millisecondTimePattern:"h:mm:ss:SSS"},fr:{datePattern:"d MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"HH",minuteTimePattern:"HH:mm",secondTimePattern:"HH:mm:ss",millisecondTimePattern:"HH:mm:ss:SSS"},he:{datePattern:"d, MMMM ,yyyy",yearPattern:"yyyy",hourTimePattern:"h a",minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"},it:{datePattern:"d MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"H",
minuteTimePattern:"H.mm",secondTimePattern:"H.mm.ss",millisecondTimePattern:"H.mm.ss.SSS"},ja:{datePattern:"yyyy'\u5e74'M'\u6708'd'\u65e5'",yearPattern:"yyyy'\u5e74'",hourTimePattern:"h a",minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"},ko:{datePattern:"yyyy\ub144 M\uc6d4 d\uc77c",yearPattern:"yyyy\ub144",hourTimePattern:"a h\uc2dc",minuteTimePattern:"a h:mm",secondTimePattern:"a h:mm:ss",millisecondTimePattern:"a h:mm:ss:SSS"},lt:{datePattern:"yyyy MMMM dd",
yearPattern:"yyyy",hourTimePattern:"H a",minuteTimePattern:"HH:mm",secondTimePattern:"HH:mm:ss",millisecondTimePattern:"HH:mm:ss:SSS"},lv:{datePattern:"dd.MM.yyyy",yearPattern:"yyyy",hourTimePattern:"H a",minuteTimePattern:"HH:mm",secondTimePattern:"HH:mm:ss",millisecondTimePattern:"HH:mm:ss:SSS"},nb:{datePattern:"d. MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"H.mm",secondTimePattern:"H.mm.ss",millisecondTimePattern:"H.mm.ss.SSS"},nl:{datePattern:"d. MMMM yyyy",yearPattern:"yyyy",
hourTimePattern:"H",minuteTimePattern:"H:mm",secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},pl:{datePattern:"dd-mm-yyyy",yearPattern:"yyyy",hourTimePattern:"hh",minuteTimePattern:"hh:mm",secondTimePattern:"hh:mm:ss",millisecondTimePattern:"hh:mm:ss:SSS"},"pt-br":{datePattern:"d' de 'MMMM' de 'yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"h:mm a",secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},"pt-pt":{datePattern:"d' de 'MMMM' de 'yyyy",yearPattern:"yyyy",
hourTimePattern:"H",minuteTimePattern:"H:mm",secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},ro:{datePattern:"d. MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"H:mm",secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},ru:{datePattern:"MMMM d, yyyy",yearPattern:"yyyy",hourTimePattern:"H",minuteTimePattern:"h:mm",secondTimePattern:"h:mm:ss",millisecondTimePattern:"h:mm:ss:SSS"},sv:{datePattern:"MMMM d, yyyy",yearPattern:"yyyy",hourTimePattern:"h a",
minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"},th:{datePattern:"d MMMM,yyyy",yearPattern:"yyyy",hourTimePattern:"H a",minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"},tr:{datePattern:"d MMMM yyyy",yearPattern:"yyyy",hourTimePattern:"h a",minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"},vi:{datePattern:"d MMMM, yyyy",yearPattern:"yyyy",hourTimePattern:"h a",
minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"},"zh-cn":{datePattern:"yyyy'\u5e74'M'\u6708'd'\u65e5'",yearPattern:"yyyy'\u5e74'",hourTimePattern:"H",minuteTimePattern:"H:mm",secondTimePattern:"H:mm:ss",millisecondTimePattern:"H:mm:ss:SSS"},"zh-hk":{datePattern:"\u5e74\u6708\u65e5",yearPattern:"yyyy",hourTimePattern:"h a",minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"},"zh-tw":{datePattern:"\u5e74\u6708\u65e5",
yearPattern:"yyyy",hourTimePattern:"h a",minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"},en:{datePattern:"MMMM d, yyyy",yearPattern:"yyyy",hourTimePattern:"h a",minuteTimePattern:"h:mm a",secondTimePattern:"h:mm:ss a",millisecondTimePattern:"h:mm:ss:SSS a"}};return g([u],{baseClass:"jimu-widget-timeslider",clasName:"esri.widgets.TimeSlider",_showed:!1,_timeHandles:null,layerInfosObj:null,_layerInfosDef:null,_timeSliderPropsDef:null,postCreate:function(){this.inherited(arguments);
this._timeHandles=[];this._initLayerInfosObj().then(e.hitch(this,function(){this.processTimeDisableLayer()}))},startup:function(){this.inherited(arguments);this.own(s(this.map,"resize",e.hitch(this,this._onMapResize)))},_initLayerInfosObj:function(){this._layerInfosDef||(this._layerInfosDef=new m,this.own(this._layerInfosDef),v.getInstance(this.map,this.map.itemInfo).then(e.hitch(this,function(a){this.domNode&&(this.layerInfosObj=a,this.own(s(a,"layerInfosIsShowInMapChanged",e.hitch(this,this._onLayerInfosIsShowInMapChanged))),
this.own(a.on("layerInfosChanged",e.hitch(this,this._onLayerInfosChanged))),this._layerInfosDef.resolve(this.layerInfosObj))})));return this._layerInfosDef},_isTimeTemporalLayer:function(a,c){var b=a&&a.timeInfo&&a.useMapTime,d=this.layerInfosObj.getLayerInfoById(a.id),d=d&&d.originOperLayer&&!1!==d.originOperLayer.timeAnimation;if(b&&d&&(c?a.visible:1))if("esri.layers.KMLLayer"===a.declaredClass){if(b=a.getLayers(),k.some(b,function(a){return a.timeInfo&&a.timeInfo.timeExtent?!0:!1}))return!0}else if(a.timeInfo&&
a.timeInfo.timeExtent)return!0;return!1},_hasLiveData:function(a){return a&&a.useMapTime&&a.timeInfo&&a.timeInfo.hasLiveData},_processTimeUpdate:function(a){var c=null,c=!0,c=(c=this.layerInfosObj.getLayerInfoById(a.id))&&c.originOperLayer&&!1!==c.originOperLayer.timeAnimation;!c&&"setUseMapTime"in a&&a.setUseMapTime(!1)},processTimeDisableLayer:function(){var a=0,c,b,a=0;for(c=this.map.layerIds.length;a<c;a++)b=this.map.layerIds[a],b=this.map.getLayer(b),this._processTimeUpdate(b);a=0;for(c=this.map.graphicsLayerIds.length;a<
c;a++)b=this.map.graphicsLayerIds[a],b=this.map.getLayer(b),this._processTimeUpdate(b)},hasVisibleTemporalLayer:function(){var a=0,c,b,a=0;for(c=this.map.layerIds.length;a<c;a++)if(b=this.map.layerIds[a],b=this.map.getLayer(b),this._isTimeTemporalLayer(b,!0))return!0;a=0;for(c=this.map.graphicsLayerIds.length;a<c;a++)if(b=this.map.graphicsLayerIds[a],b=this.map.getLayer(b),this._isTimeTemporalLayer(b,!0))return!0;return!1},needUpdateFullTime:function(){var a=0,c,b,a=0;for(c=this.map.layerIds.length;a<
c;a++)if(b=this.map.layerIds[a],b=this.map.getLayer(b),this._hasLiveData(b))return!0;a=0;for(c=this.map.graphicsLayerIds.length;a<c;a++)if(b=this.map.graphicsLayerIds[a],b=this.map.getLayer(b),this._hasLiveData(b))return!0;return!1},_onLayerInfosIsShowInMapChanged:function(a){k.some(a,e.hitch(this,function(a){for(var b=null;!b;)b=this.map.getLayer(a.id),a=a.parentLayerInfo;return this._isTimeTemporalLayer(b)}))&&this._onTimeTemportalLayerChanged()},_onLayerInfosChanged:function(a,c,b){"added"===c?
(a=this.map.getLayer(b.id),this._isTimeTemporalLayer(a,!0)&&this._onTimeTemportalLayerChanged()):"removed"===c&&this._onTimeTemportalLayerChanged()},_onTimeTemportalLayerChanged:function(){"closed"!==this.state&&(this.hasVisibleTemporalLayer()?this.timeSlider?this.updateLayerLabel():this.showTimeSlider():this.timeSlider&&this.closeTimeSlider())},onOpen:function(){this._initLayerInfosObj().then(e.hitch(this,function(){this.hasVisibleTemporalLayer()?this._showed||this.showTimeSlider():(d.setStyle(this.noTimeContentNode,
"display","block"),d.setStyle(this.timeContentNode,"display","none"),this._showed=!0)}))},onClose:function(){this._initLayerInfosObj().then(e.hitch(this,function(){this.hasVisibleTemporalLayer()?this._showed&&this.closeTimeSlider():(d.setStyle(this.noTimeContentNode,"display","none"),this._showed=!1)}))},_isRunInMobile:function(){return window.appInfo.isRunInMobile},showTimeSlider:function(){d.setStyle(this.noTimeContentNode,"display","none");this.createTimeSlider().then(e.hitch(this,function(){d.setStyle(this.timeContentNode,
"display","block");d.addClass(this.domNode,"show-time-slider");this._adaptResponsive();p("ie")&&9>p("ie")?this._showed=!0:r.animateProperty({node:this.timeContentNode,properties:{opacity:{start:0,end:1}},onEnd:e.hitch(this,function(){this._showed=!0;this._setMenuPosition()}),duration:500}).play()}))},closeTimeSlider:function(){d.setStyle(this.domNode,"display","block");p("ie")&&9>p("ie")?this._onCloseTimeSliderEnd():r.animateProperty({node:this.timeContentNode,properties:{opacity:{start:1,end:0}},
onEnd:e.hitch(this,this._onCloseTimeSliderEnd),duration:500}).play()},_onCloseTimeSliderEnd:function(){this._destroyed||(this.removeTimeSlider(),this._showed=!1,d.setStyle(this.timeContentNode,"display","none"),d.removeClass(this.domNode,"show-time-slider"),"closed"!==this.state&&d.setStyle(this.noTimeContentNode,"display","block"),"closed"===this.state&&(d.removeClass(this.domNode,"mobile-time-slider"),d.removeClass(this.timeContentNode,"mobile")))},getTimeSliderProps:function(a){if(!this._timeSliderPropsDef){this._timeSliderPropsDef=
new m;this.own(this._timeSliderPropsDef);a=a&&a.itemInfo;var c=e.getObject("itemData.widgets.timeSlider.properties",!1,a);if(a&&c){var b=e.clone(c);this.needUpdateFullTime()?this._getUpdatedFullTime().then(e.hitch(this,function(a){var c=a.startTime.getTime();a=a.endTime.getTime();b.startTime>a||b.endTime<c?(b.startTime=c,b.endTime=a):(b.startTime<c&&(b.startTime=c),b.endTime>a&&(b.endTime=a));this._timeSliderPropsDef.resolve(b)})):this._timeSliderPropsDef.resolve(b)}else this._timeSliderPropsDef.resolve(null)}return this._timeSliderPropsDef},
_getUpdatedFullTime:function(){var a=0,c,b,d=[],a=0;for(c=this.map.layerIds.length;a<c;a++)b=this.map.layerIds[a],b=this.map.getLayer(b),d.push(this._getUpdatedTime(b));a=0;for(c=this.map.graphicsLayerIds.length;a<c;a++)b=this.map.graphicsLayerIds[a],b=this.map.getLayer(b),d.push(this._getUpdatedTime(b));return t(d).then(e.hitch(this,function(a){return this._getFullTimeExtent(a)}))},_getFullTimeExtent:function(a){var c=null;k.forEach(a,e.hitch(this,function(a){a&&(c?(c.startTime>a.startTime&&(c.startTime=
new Date(a.startTime.getTime())),c.endTime<a.endTime&&(c.endTime=new Date(a.endTime.getTime()))):c=new A(new Date(a.startTime.getTime()),new Date(a.endTime.getTime())))}));return c},_getUpdatedTime:function(a){if(a&&a.url&&this._hasLiveData(a)){var c=null;return x({url:a.url,callbackParamName:"callback",content:{f:"json",returnUpdates:!0}}).then(e.hitch(this,function(a){a.timeExtent&&2===a.timeExtent.length&&(c=new A,c.startTime=new Date(a.timeExtent[0]),c.endTime=new Date(a.timeExtent[1]))})).always(e.hitch(this,
function(){return f(c||e.getObject("timeInfo.timeExtent",!1,a)||null)}))}return f(e.getObject("timeInfo.timeExtent",!1,a)||null)},createTimeSlider:function(){return this.getTimeSliderProps(this.map).then(e.hitch(this,function(a){if(a){if(this.timeSlider)return this.timeSlider;this.timeSlider=new y({},this.sliderNode);this.map.setTimeSlider(this.timeSlider);var c=new A(new Date(a.startTime),new Date(a.endTime));this.timeSlider.setThumbCount(a.thumbCount);a.numberOfStops?this.timeSlider.createTimeStopsByCount(c,
a.numberOfStops+1):this.timeSlider.createTimeStopsByTimeInterval(c,a.timeStopInterval.interval,a.timeStopInterval.units);this.timeSlider.setThumbMovingRate(a.thumbMovingRate);25<this.timeSlider.timeStops.length&&this.timeSlider.setTickCount(0);2===this.timeSlider.thumbCount&&this.timeSlider.setThumbIndexes([0,1]);this.timeSlider.setLoop(!0);this.timeSlider.startup();d.addClass(this.timeSlider.domNode,"jimu-float-leading");this.updateLayerLabel();this.updateTimeExtentLabel();this._timeHandles.push(s(this.timeSlider,
"time-extent-change",e.hitch(this,this.updateTimeExtentLabel)));return this.timeSlider}}))},_onSelectSpeedItem:function(a){if(a.target){var c=d.getAttr(a.target,"speed");this.getTimeSliderProps(this.map).then(e.hitch(this,function(b){b&&c&&(c=parseFloat(c),this.timeSlider.setThumbMovingRate(b.thumbMovingRate/c),this.speedLabelNode.innerHTML=a.target.innerHTML);d.setStyle(this.speedMenu,"display","none")}))}},_setMenuPosition:function(){var a=d.position(this.speedLabelNode);0>a.y-123-2&&d.setStyle(this.speedMenu,
{top:"27px",bottom:"auto"});var c=d.getMarginBox(window.jimuConfig.layoutId);window.isRTL?0>a.x-105&&d.setStyle(this.speedMenu,{left:0}):a.x+105>c.w&&d.setStyle(this.speedMenu,{right:0})},_onSpeedLabelClick:function(){this._onMouseEnterSpeedContainer()},_onMouseEnterSpeedContainer:function(){d.setStyle(this.speedMenu,"display","block")},_onMouseLeaveSpeedContainer:function(){d.setStyle(this.speedMenu,"display","none")},removeTimeSlider:function(){k.forEach(this._timeHandles,function(a){a&&a.remove&&
a.remove()});this.timeSlider&&!this.timeSlider._destroyed&&(this.timeSlider.destroy(),this.timeSlider=null);this.map&&this.map.setTimeExtent(null);this.speedLabelNode.innerHTML="1X";this.sliderNode=d.create("div",{},this.speedContainerNode,"before")},updateLayerLabel:function(){if(this.config.showLabels){d.setStyle(this.layerLabelsNode,"display","block");var a=this.nls.layers,c=this._getVisibleTemporalLayerNames(),a=a+c.join(",");this.layerLabelsNode.innerHTML=a;d.setAttr(this.layerLabelsNode,"title",
a)}else d.setStyle(this.layerLabelsNode,"display","none")},_getVisibleTemporalLayerNames:function(){var a=0,c,b,d=[],a=0;for(c=this.map.layerIds.length;a<c;a++)b=this.map.layerIds[a],b=this.map.getLayer(b),this._isTimeTemporalLayer(b,!0)&&d.push(b.id);a=0;for(c=this.map.graphicsLayerIds.length;a<c;a++)b=this.map.graphicsLayerIds[a],b=this.map.getLayer(b),this._isTimeTemporalLayer(b,!0)&&d.push(b.id);return k.map(d,e.hitch(this,function(a){return this.layerInfosObj.getLayerInfoById(a).title||""}))},
updateTimeExtentLabel:function(a){var c=this.nls.timeExtent,b=null,e=null;a?(b=a.startTime,0<a.endTime.getTime()-a.startTime.getTime()&&(e=a.endTime)):2===this.timeSlider.thumbCount?(b=this.timeSlider.timeStops[0],e=this.timeSlider.timeStops[1]):b=this.timeSlider.timeStops[0];var f=null,g=a=null,k=!1,m=h[q.locale]||h.en;e&&b.getFullYear()===e.getFullYear()?(b.getMonth()===e.getMonth()?b.getDate()===e.getDate()?a=b.getHours()===e.getHours()?b.getMinutes()===e.getMinutes()?b.getSeconds()===e.getSeconds()?
m.millisecondTimePattern:m.secondTimePattern:m.minuteTimePattern:m.minuteTimePattern:(2>e.getDate()-b.getDate()&&(a=m.minuteTimePattern),k=!0):k=!0,g="long"):e&&10<e.getFullYear()-b.getFullYear()?(f=m.yearPattern,k=!0):(k=!0,g="long");m=l.format(b,{datePattern:f,formatLength:g,selector:"date"});a&&(b=l.format(b,{timePattern:a,selector:"time"}),m=n.getLocalization("dojo.cldr","gregorian")["dateTimeFormat-medium"].replace(/\{1\}/g,m).replace(/\{0\}/g,b));b="";e&&(k&&(b=l.format(e,{datePattern:f,formatLength:g,
selector:"date"})),a&&(f=l.format(e,{timePattern:a,selector:"time"}),b=k&&a?n.getLocalization("dojo.cldr","gregorian")["dateTimeFormat-medium"].replace(/\{1\}/g,b).replace(/\{0\}/g,f):f));c=e?z.substitute({FROMTIME:m,ENDTIME:b},c):m+"";this.timeExtentLabelNode.innerHTML=c;d.setAttr(this.timeExtentLabelNode,"title",c)},_adaptResponsive:function(){setTimeout(e.hitch(this,function(){var a=null;window.appInfo.isRunInMobile?(d.addClass(this.timeContentNode,"mobile"),d.addClass(this.domNode,"mobile-time-slider")):
(d.removeClass(this.timeContentNode,"mobile"),d.removeClass(this.domNode,"mobile-time-slider"));if(this.timeSlider){var a=d.getContentBox(this.sliderContent),c=d.getMarginBox(this.speedContainerNode),a=a.w-c.w;d.setStyle(this.timeSlider.domNode,"width",a+"px")}}),10)},_onMapResize:function(){"closed"!==this.state&&this._adaptResponsive()},destroy:function(){this.map&&this.map.setTimeExtent(null);this.inherited(arguments)}})});