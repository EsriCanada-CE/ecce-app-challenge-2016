// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/Stream/StreamControl":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-attr dojo/dom-style dojo/dom-class dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./StreamControl.html jimu/dijit/DrawBox ./FilterItem jimu/dijit/CheckBox dijit/form/RadioButton esri/symbols/jsonUtils esri/symbols/SimpleFillSymbol esri/graphic jimu/dijit/SimpleTable dijit/form/NumberSpinner jimu/dijit/LoadingShelter".split(" "),
function(k,e,q,f,p,d,g,n,b,h,c,m,t,l,r,u,a,s,v){return k([b,h,c],{baseClass:"jimu-widget-stream",templateString:m,map:null,streamLayer:null,isStreaming:!0,mapExtentChangeHandler:null,config:null,filterItems:[],postCreate:function(){this.inherited(arguments);this.spatialFilterToggle=new r({checked:!1,label:this.nls.useSpatialFilter,onChange:e.hitch(this,this._toggleSpatialFilter)});this.spatialFilterToggle.placeAt(this.spatialFilterToggleDiv);this.attrFilterToggle=new r({checked:!1,label:this.nls.useAttributeFilter,
onChange:e.hitch(this,this._toggleAttributeFilter)});this.attrFilterToggle.placeAt(this.attrFilterToggleDiv);this.config&&this._applyConfig();this.streamLayer&&this._bindEvents()},_applyConfig:function(){!0!==this.config.startStop&&d.set(this.startBtn,"display","none");!0!==this.config.clear&&d.set(this.clearBtn,"display","none");!0!==this.config.drawPrevious&&d.set(this.drawPreviousSection,"display","none");!0!==this.config.spatialFilter?(d.set(this.spatialFilterControl,"display","none"),d.set(this.spatialFilterSection,
"display","none")):this.config.mapExtentFilter&&this.config.drawExtentFilter?(this._createMapAreaFilterControl(!0),this._createDrawAreaFilterControl(!0)):this.config.mapExtentFilter?this._createMapAreaFilterControl(!1):this.config.drawExtentFilter?this._createDrawAreaFilterControl(!1):(d.set(this.spatialFilterControl,"display","none"),d.set(this.spatialFilterSection,"display","none"));if(this.config.attrFilter&&0<this.config.filterList.length){var a,c,b=!1;q.forEach(this.config.filterList,e.hitch(this,
function(v,d){c=1===this.config.filterList.length?"checkbox":"radio";var m=!0===v.inherited&&v.definitionExpression===this.streamLayer.getDefinitionExpression();a=new l({uid:this.id,config:v,type:c,streamLayer:this.streamLayer,index:d,checked:m,nls:this.nls});a.placeAt(this.attrFilterSection);this.filterItems.push(a);b=b||m}));b&&this.attrFilterToggle.setValue(!0)}else d.set(this.attrFilterControl,"display","none"),d.set(this.attrFilterSection,"display","none");!this.config.spatialFilter&&(!this.config.attrFilter||
0===this.config.filterList.length)&&d.set(this.filterLabelSection,"display","none")},_createMapAreaFilterControl:function(a){var c;c=n.create("div",{"class":"filterOption"},this.spatialFilterSection);a?(this.mapAreaControl=new u({id:this.id+"_mapAreaObservations",name:this.id+"_sf",value:"mapArea"}),this.mapAreaControl.placeAt(c),this.own(f(this.mapAreaControl,"change",e.hitch(this,this._mapAreaFilterChange))),n.create("label",{"class":"jimu-widget-normal","for":this.id+"_mapAreaObservations",innerHTML:this.nls.showMapAreaObservations},
c)):(this.mapAreaControl=new r({checked:!1,label:this.nls.showMapAreaObservations,onChange:e.hitch(this,this._mapAreaFilterChange)}),this.mapAreaControl.placeAt(c))},_createDrawAreaFilterControl:function(c){var b;b=n.create("div",{"class":"filterOption"},this.spatialFilterSection);c?(this.drawAreaControl=new u({id:this.id+"_drawAreaObservations",name:this.id+"_sf",value:"drawArea"}),this.drawAreaControl.placeAt(b),this.own(f(this.drawAreaControl,"change",e.hitch(this,this._drawAreaFilterChange))),
n.create("label",{"class":"jimu-widget-normal","for":this.id+"_drawAreaObservations",innerHTML:this.nls.showObservationsByDrawing},b)):(this.drawAreaControl=new r({checked:!1,label:this.nls.showObservationsByDrawing,onChange:e.hitch(this,this._drawAreaFilterChange)}),this.drawAreaControl.placeAt(b));this.drawToolDiv=n.create("div",{style:"display:none"},b);this.drawTool=new t({map:this.map,showClear:!0,keepOneGraphic:!0,geoTypes:["EXTENT"],types:["polygon"]});this.config.drawSymbol&&this.drawTool.setPolygonSymbol(a.fromJson(this.config.drawSymbol));
this.drawTool.placeAt(this.drawToolDiv);this.own(f(this.drawTool,"draw-end",e.hitch(this,function(a){a=new v(a.toJson());var c;a.symbol.setStyle(s.STYLE_NULL);this.drawTool.addGraphic(a);c=f(this.streamLayer,"filter-change",e.hitch(this,function(a){c.remove();a.filter.geometry&&"extent"===a.filter.geometry.type&&setTimeout(e.hitch(this,function(){this._clearOutsideGraphics(a.filter.geometry)}),100)}));this.streamLayer.setGeometryDefinition(a.geometry)})));this.own(f(this.drawTool,"clear",e.hitch(this,
function(){this.streamLayer.setGeometryDefinition(this.map.extent)})))},_mapAreaFilterChange:function(a){a?(this.streamLayer&&this.streamLayer.setGeometryDefinition(this.map.extent),this._addMapExtentChangeHandler()):this._removeMapExtentChangeHandler()},_drawAreaFilterChange:function(a){a?d.set(this.drawToolDiv,"display",""):(this.drawTool.clear(),d.set(this.drawToolDiv,"display","none"))},_bindEvents:function(){"none"!==d.get(this.startBtn,"display")&&this.own(f(this.startBtn,"click",e.hitch(this,
function(){(this.isStreaming=!this.isStreaming)?(g.add(this.startBtn,"stop"),p.set(this.startBtnLabel,"innerHTML",this.nls.stopStreaming),this.startStreaming()):(g.remove(this.startBtn,"stop"),p.set(this.startBtnLabel,"innerHTML",this.nls.startStreaming),this.stopStreaming())})));"none"!==d.get(this.clearBtn,"display")&&this.own(f(this.clearBtn,"click",e.hitch(this,function(){this.streamLayer.clear()})));if("none"!==d.get(this.drawPreviousSection,"display")){var a=this.streamLayer.maximumTrackPoints||
1;this.previousSpinner.set("value",a-1);this.streamLayer.setMaximumTrackPoints(a);this.own(f(this.previousSpinner,"change",e.hitch(this,function(a){this.streamLayer.setMaximumTrackPoints(a+1)})))}},_clearOutsideGraphics:function(a){this.streamLayer.clear()},destroy:function(){this.inherited(arguments);this._removeMapExtentChangeHandler()},stopStreaming:function(){this.streamLayer.disconnect(e.hitch(this,function(){this.streamLayer.clear()}))},startStreaming:function(){this.streamLayer.connect()},
_removeMapExtentChangeHandler:function(){this.mapExtentChangeHandler&&"function"===typeof this.mapExtentChangeHandler.remove&&(this.mapExtentChangeHandler.remove(),this.mapExtentChangeHandler=null)},_addMapExtentChangeHandler:function(){null===this.mapExtentChangeHandler&&(this.mapExtentChangeHandler=f(this.map,"extent-change",e.hitch(this,this._mapExtentChange)))},_mapExtentChange:function(a){this.streamLayer&&this.streamLayer.setGeometryDefinition(a.extent)},_toggleSpatialFilter:function(a){a?d.set(this.spatialFilterSection,
"display",""):(d.set(this.spatialFilterSection,"display","none"),d.set(this.drawToolDiv,"display","none"),this.mapAreaControl&&("jimu.dijit.CheckBox"===this.mapAreaControl.dealaredClass?this.mapAreaControl.setValue(!1):this.mapAreaControl.set("checked",!1)),this.drawAreaControl&&(this.drawTool.clear(),"jimu.dijit.CheckBox"===this.drawAreaControl.dealaredClass?this.drawAreaControl.setValue(!1):this.drawAreaControl.set("checked",!1)),this._removeMapExtentChangeHandler(),this.streamLayer&&this.streamLayer.setGeometryDefinition(null))},
_toggleAttributeFilter:function(a){a?d.set(this.attrFilterSection,"display",""):(d.set(this.attrFilterSection,"display","none"),q.forEach(this.filterItems,function(a){a.unCheck()}),this.streamLayer&&this.streamLayer.setDefinitionExpression(null))}})})},"widgets/Stream/FilterItem":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/json dojo/dom-style dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./FilterItem.html jimu/dijit/CheckBox dijit/form/RadioButton jimu/dijit/FilterParameters jimu/filterUtils jimu/utils".split(" "),
function(k,e,q,f,p,d,g,n,b,h,c,m,t,l){return k([g,n],{baseClass:"jimu-widget-stream-filterItem",templateString:b,streamLayer:null,config:null,type:null,checked:!1,uid:"",index:0,askForValues:!0,postCreate:function(){this.inherited(arguments);this._init()},_init:function(){var b;"checkbox"===this.type?(this.control=new h({checked:this.checked,label:this.config.name,onChange:e.hitch(this,this._checkBoxChange)}),this.control.placeAt(this.controlSection)):"radio"===this.type&&(b=d.create("div",{},this.controlSection),
this.control=new c({checked:this.checked,value:this.config.name,name:this.uid+"_attFilterItem",id:this.uid+"_attFilterItem_"+this.index}),this.own(q(this.control,"change",e.hitch(this,function(c){this._checkBoxChange(c)}))),this.control.placeAt(b),d.create("label",{"class":"jimu-widget-normal",innerHTML:l.sanitizeHTML(this.config.name),"for":this.uid+"_attFilterItem_"+this.index},b));this.attrParamsDijit=new m;this.attrParamsDijit.placeAt(this.attrFilterParams);this.attrParamsDijit.startup();b=f.parse(this.streamLayer._json);
this.attrParamsDijit.build(this.streamLayer.url,b,this.config.filterInfo);(this.askForValues=(new t).isAskForValues(this.config.filterInfo))?this.own(q(this.applyAttrFilterBtn,"click",e.hitch(this,this._applyFilter))):p.set(this.applyAttrFilterBtn,"display","none")},unCheck:function(){"checkbox"===this.type?this.control.setValue(!1):"radio"===this.type&&this.control.set("checked",!1);p.set(this.filterSection,"display","none")},_applyFilter:function(){var c=this.attrParamsDijit.getFilterExpr();c&&
"string"===typeof c&&(this.streamLayer.setDefinitionExpression(c),this.streamLayer.clear())},_checkBoxChange:function(c){c?this.askForValues?p.set(this.filterSection,"display",""):this._applyFilter():(p.set(this.filterSection,"display","none"),"checkbox"===this.type&&this.streamLayer&&this.streamLayer.setDefinitionExpression(null))}})})},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(k,e,q){return k("dijit.form.RadioButton",[e,q],{baseClass:"dijitRadio"})})},
"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/lang dojo/query!css2 ../registry".split(" "),function(k,e,q,f,p,d){return e("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var g=[];p("input[type\x3dradio]",this.focusNode.form||this.ownerDocument).forEach(f.hitch(this,function(n){n.name==this.name&&n.form==this.focusNode.form&&(n=d.getEnclosingWidget(n))&&g.push(n)}));return g},_setCheckedAttr:function(d){this.inherited(arguments);
this._created&&d&&k.forEach(this._getRelatedWidgets(),f.hitch(this,function(d){d!=this&&d.checked&&d.set("checked",!1)}))},_getSubmitValue:function(d){return null==d?"on":d},_onClick:function(d){return this.checked||this.disabled?(d.stopPropagation(),d.preventDefault(),!1):this.readOnly?(d.stopPropagation(),d.preventDefault(),k.forEach(this._getRelatedWidgets(),f.hitch(this,function(d){q.set(this.focusNode||this.domNode,"checked",d.checked)})),!1):this.inherited(arguments)}})})},"jimu/dijit/FilterParameters":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/lang dojo/_base/html dojo/_base/array dojo/query dijit/registry jimu/filterUtils jimu/utils ./_SingleFilterParameter".split(" "),
function(k,e,q,f,p,d,g,n,b,h,c,m){return k([e,q,f],{baseClass:"jimu-filter-parameters",templateString:'\x3cdiv\x3e\x3ctable style\x3d"width:100%;border-collapse:collapse;"\x3e\x3ctbody data-dojo-attach-point\x3d"tbody"\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e',nls:null,partsObj:null,layerInfo:null,OPERATORS:null,url:null,_filterUtils:null,postMixInProperties:function(){this.nls=window.jimuNls.filterBuilder;this._filterUtils=new h;this.OPERATORS=p.clone(this._filterUtils.OPERATORS)},destroy:function(){this.clear();
this._filterUtils=null;this.inherited(arguments)},getFilterExpr:function(){for(var d=this.partsObj,m=this._getAllInteractiveSinglePartArray(d),h=0;h<m.length;h++){var g=m[h],a=g.spId;if(a&&(a=n("#"+a,this.tbody)[0])){a=b.byNode(a).getValueObj();if(!a)return null;g.valueObj=a}}this._filterUtils.isHosted=c.isHostedService(this.url);return this._filterUtils.getExprByFilterObj(d)},clear:function(){this.url=null;var c=n(".jimu-widget-query-single-parameter",this.tbody);g.forEach(c,p.hitch(this,function(c){b.byNode(c).destroy()}));
d.empty(this.tbody);this.layerInfo=this.partsObj=null},build:function(c,b,h){this.clear();this.url=c;this.layerInfo=b;this.partsObj=p.clone(h);c=this._getAllInteractiveSinglePartArray(this.partsObj);g.forEach(c,p.hitch(this,function(c){var a=d.create("tr",{innerHTML:"\x3ctd\x3e\x3c/td\x3e"},this.tbody),a=n("td",a)[0],b=this._getFieldInfo(c.fieldObj.name,this.layerInfo),b=new m({nls:this.nls,part:c,fieldInfo:b,OPERATORS:this.OPERATORS,url:this.url});b.placeAt(a);b.startup();c.spId=b.id}))},_getFieldInfo:function(c,
b){for(var d=b.fields,m=0;m<d.length;m++){var a=d[m];if(c===a.name)return a}return null},_getAllInteractiveSinglePartArray:function(c){for(var b=[],d=0;d<c.parts.length;d++){var m=c.parts[d];if(m.parts)for(var a=0;a<m.parts.length;a++){var h=m.parts[a];h.interactiveObj&&b.push(h)}else m.interactiveObj&&b.push(m)}return b}})})},"jimu/dijit/_SingleFilterParameter":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/_SingleFilterParameter.html dojo/_base/lang dojo/_base/html dojo/_base/array dojo/store/Memory jimu/utils dijit/form/FilteringSelect dijit/form/ValidationTextBox dijit/form/DateTextBox dijit/form/NumberTextBox".split(" "),
function(k,e,q,f,p,d,g,n,b,h){return k([e,q,f],{baseClass:"jimu-single-filter-parameter",templateString:p,fieldInfo:null,part:null,nls:null,OPERATORS:null,url:null,_type:-1,postCreate:function(){this.inherited(arguments);var c=new b({idProperty:"id",data:[]});this.stringUniqueValuesSelect.set("store",c);c=new b({idProperty:"id",data:[]});this.numberUniqueValuesSelect.set("store",c);this.fieldInfo&&this.part&&this.build(this.fieldInfo,this.part)},getValueObj:function(){var c=null,b=this.part.fieldObj.shortType;
"string"===b?c=this._getStirngValueObj():"number"===b?c=this._getNumberValueObj():"date"===b&&(c=this._getDateValueObj());c&&(c.type=this.part.valueObj.type,c.isValid=!0);return c},_getStirngValueObj:function(){var c=null;if(1===this._type){if(!this.stringTextBox.validate())return this._showValidationErrorTip(this.stringTextBox),null;c={};c.value=this.stringTextBox.get("value")}else if(2===this._type){if(!this.stringCodedValuesFS.validate())return this._showValidationErrorTip(this.stringCodedValuesFS),
null;var c={},b=this._getSelectedFilteringItem(this.stringCodedValuesFS);c.value=b.code}else if(3===this._type){if(!this.stringUniqueValuesSelect.validate())return this._showValidationErrorTip(this.stringUniqueValuesSelect),null;c={};b=this._getSelectedFilteringItem(this.stringUniqueValuesSelect);c.value=b.value}return c},_getNumberValueObj:function(){var c=null;if(1===this._type){if(!this.numberTextBox.validate())return this._showValidationErrorTip(this.numberTextBox),null;c={};c.value=parseFloat(this.numberTextBox.get("value"))}else if(2===
this._type){if(!this.numberCodedValuesFS.validate())return this._showValidationErrorTip(this.numberCodedValuesFS),null;var c={},b=this._getSelectedFilteringItem(this.numberCodedValuesFS);c.value=parseFloat(b.code)}else if(3===this._type){if(!this.numberTextBox1.validate())return this._showValidationErrorTip(this.numberTextBox1),null;if(!this.numberTextBox2.validate())return this._showValidationErrorTip(this.numberTextBox2),null;c={};c.value1=parseFloat(this.numberTextBox1.get("value"));c.value2=parseFloat(this.numberTextBox2.get("value"))}else if(4===
this._type){if(!this.numberUniqueValuesSelect.validate())return this._showValidationErrorTip(this.numberUniqueValuesSelect),null;c={};b=this.numberUniqueValuesSelect.get("item");c.value=parseFloat(b.value)}return c},_getDateValueObj:function(){var c=null;if(1===this._type){if(!this.dateTextBox.validate())return this._showValidationErrorTip(this.dateTextBox),null;c={};c.value=this.dateTextBox.get("value").toDateString()}else if(2===this._type){if(!this.dateTextBox1.validate())return this._showValidationErrorTip(this.dateTextBox1),
null;if(!this.dateTextBox2.validate())return this._showValidationErrorTip(this.dateTextBox2),null;c={};c.value1=this.dateTextBox1.get("value").toDateString();c.value2=this.dateTextBox2.get("value").toDateString()}return c},build:function(c,b){this.fieldInfo=c;this.part=b;var d=b.interactiveObj;d&&(this.promptNode.innerHTML=d.prompt||"",this.hintNode.innerHTML=d.hint||"");d=this.part.fieldObj.shortType;"string"===d?this._buildString(c,this.part):"number"===d?this._buildNumber(c,this.part):"date"===
d&&this._buildDate(c,this.part)},_getCodedValues:function(c){var b=null;if((c=c.domain)&&"codedValue"===c.type&&c.codedValues&&0<c.codedValues.length)b=c.codedValues;return b},_buildString:function(c,m){g.setStyle(this.stringTextBoxContainer,"display","block");g.setStyle(this.numberTextBoxContainer,"display","none");g.setStyle(this.dateTextBoxContainer,"display","none");this._hideDijit(this.stringTextBox);this._hideDijit(this.stringCodedValuesFS);this._hideDijit(this.stringUniqueValuesSelect);var e=
m.fieldObj,l=m.valueObj,k=l.type,f=this._getCodedValues(c);f?(this._type=2,this._showDijit(this.stringCodedValuesFS),k=n.map(f,d.hitch(this,function(a,c){var b=d.mixin({},a);b.id=c;return b})),f=new b({data:k}),this.stringCodedValuesFS.set("store",f),l&&(f=n.filter(k,d.hitch(this,function(a){return a.code===l.value})),0<f.length?this.stringCodedValuesFS.set("value",f[0].id):this.stringCodedValuesFS.set("value",k[0].id))):"unique"===k?(this._type=3,this._showDijit(this.stringUniqueValuesSelect),h.getUniqueValues(this.url,
e.name).then(d.hitch(this,function(a){var c=-1;a=n.map(a,d.hitch(this,function(a,b){var d=a;"number"===e.shortType&&(a=parseFloat(a),d=this._tryLocaleNumber(a));d={id:b,value:a,label:d};l&&l.value===a&&(c=b);return d}));this.stringUniqueValuesSelect.store.setData(a);0<=c&&(a=this.stringUniqueValuesSelect.store.get(c))&&this.stringUniqueValuesSelect.set("item",a)}),d.hitch(this,function(a){console.error(a)}))):(this._type=1,this._showDijit(this.stringTextBox),this.stringTextBox.set("value",l.value||
""))},_tryLocaleNumber:function(c){var b=h.localizeNumber(c);if(null===b||void 0===b)b=c;return b},_buildNumber:function(c,m){g.setStyle(this.stringTextBoxContainer,"display","none");g.setStyle(this.numberTextBoxContainer,"display","block");g.setStyle(this.dateTextBoxContainer,"display","none");this._hideDijit(this.numberTextBox);this._hideDijit(this.numberCodedValuesFS);g.setStyle(this.numberRangeTable,"display","none");this._hideDijit(this.numberUniqueValuesSelect);var e=m.fieldObj,l=m.valueObj,
k=l.type,f=m.operator,a=f===this.OPERATORS.numberOperatorIsNotBetween;if(f===this.OPERATORS.numberOperatorIsBetween||a)this._type=3,g.setStyle(this.numberRangeTable,"display","table"),h.isValidNumber(l.value1)&&this.numberTextBox1.set("value",l.value1),h.isValidNumber(l.value2)&&this.numberTextBox2.set("value",l.value2);else if(g.setStyle(this.numberRangeTable,"display","none"),f=this._getCodedValues(c))if(this._type=2,this._showDijit(this.numberCodedValuesFS),k=n.map(f,d.hitch(this,function(a,c){var b=
d.clone(a);b.id=c;return b})),f=new b({data:k}),this.numberCodedValuesFS.set("store",f),l&&h.isValidNumber(l.value)){var s=parseFloat(l.value),f=n.filter(k,d.hitch(this,function(a){return parseFloat(a.code)===s}));0<f.length?this.numberCodedValuesFS.set("value",f[0].id):this.numberCodedValuesFS.set("value",k[0].id)}else this.numberCodedValuesFS.set("value",k[0].id);else"unique"===k?(this._type=4,this._showDijit(this.numberUniqueValuesSelect),h.getUniqueValues(this.url,e.name).then(d.hitch(this,function(a){var c=
-1;a=n.map(a,d.hitch(this,function(a,b){var d=a;"number"===e.shortType&&(a=parseFloat(a),d=this._tryLocaleNumber(a));d={id:b,value:a,label:d};l&&l.value===a&&(c=b);return d}));this.numberUniqueValuesSelect.store.setData(a);0<=c&&(a=this.numberUniqueValuesSelect.store.get(c))&&this.numberUniqueValuesSelect.set("item",a)}),d.hitch(this,function(a){console.error(a)}))):(this._type=1,this._showDijit(this.numberTextBox),l&&h.isValidNumber(l.value)&&this.numberTextBox.set("value",l.value))},_buildDate:function(c,
b){g.setStyle(this.stringTextBoxContainer,"display","none");g.setStyle(this.numberTextBoxContainer,"display","none");g.setStyle(this.dateTextBoxContainer,"display","block");var d=b.valueObj,h=b.operator,e=h===this.OPERATORS.dateOperatorIsNotBetween;h===this.OPERATORS.dateOperatorIsBetween||e?(this._type=2,g.setStyle(this.dateRangeTable,"display","table"),this._hideDijit(this.dateTextBox),this.dateTextBox1.set("value",new Date(d.value1)),this.dateTextBox2.set("value",new Date(d.value2))):(this._type=
1,g.setStyle(this.dateRangeTable,"display","none"),this._showDijit(this.dateTextBox),this.dateTextBox.set("value",new Date(d.value)))},_getSelectedFilteringItem:function(c){if(c.validate()){var b=c.get("item");if(b)return b}this._showValidationErrorTip(c);return null},_showValidationErrorTip:function(c){!c.validate()&&c.domNode&&c.focusNode&&(c.focusNode.focus(),c.focusNode.blur())},_showDijit:function(c){c&&c.domNode&&g.setStyle(c.domNode,"display","inline-block")},_hideDijit:function(c){c&&c.domNode&&
g.setStyle(c.domNode,"display","none")},_onRangeNumberBlur:function(){if(this.numberTextBox1.validate()&&this.numberTextBox2.validate()){var c=parseFloat(this.numberTextBox1.get("value")),b=parseFloat(this.numberTextBox2.get("value"));c>b&&(this.numberTextBox1.set("value",b),this.numberTextBox2.set("value",c))}},_onRangeDateBlur:function(){if(this.dateTextBox1.validate()&&this.dateTextBox2.validate()){var c=this.dateTextBox1.get("value"),b=c.getTime(),d=this.dateTextBox2.get("value"),h=d.getTime();
b>h&&(this.dateTextBox1.set("value",d),this.dateTextBox2.set("value",c))}}})})},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(k,e,q,f,p){return k("dijit.form.FilteringSelect",[f,p],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},
_callbackSetLabel:function(d,g,e,b){g&&g[this.searchAttr]!==this._lastQuery||!g&&d.length&&this.store.getIdentity(d[0])!=this._lastQuery||(d.length?this.set("item",d[0],b):this.set("value","",b||void 0===b&&!this.focused,this.textbox.value,null))},_openResultList:function(d,g,e){g[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(d,
g,f,b){this._onChangeActive||(g=null);if(void 0===b){if(null===d||""===d)if(d="",!e.isString(f)){this._setDisplayedValueAttr(f||"",g);return}var h=this;this._lastQuery=d;q(this.store.get(d),function(c){h._callbackSetLabel(c?[c]:[],void 0,void 0,g)})}else this.valueNode.value=d,this.inherited(arguments,[d,g,f,b])},_setItemAttr:function(d,e,f){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(d){return d.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(d,
f){null==d&&(d="");if(!this._created){if(!("displayedValue"in this.params))return;f=!1}if(this.store){this.closeDropDown();var k=e.clone(this.query),b=this._getDisplayQueryString(d),h;this.store._oldAPI?h=b:(h=this._patternToRegExp(b),h.toString=function(){return b});this._lastQuery=k[this.searchAttr]=h;this._lastDisplayedValue=this.textbox.value=d;this._set("displayedValue",d);var c=this,m={queryOptions:{ignoreCase:this.ignoreCase,deep:!0}};e.mixin(m,this.fetchProperties);this._fetchHandle=this.store.query(k,
m);q(this._fetchHandle,function(b){c._fetchHandle=null;c._callbackSetLabel(b||[],k,m,f)},function(b){c._fetchHandle=null;c._cancelingQuery||console.error("dijit.form.FilteringSelect: "+b.toString())})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(k,e,q){return k("dijit.form.DateTextBox",q,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:e,_selector:"date",
maxHeight:Infinity,value:new Date("")})})},"dijit/Calendar":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff ./CalendarLite ./_Widget ./_CssStateMixin ./_TemplatedMixin ./form/DropDownButton".split(" "),function(k,e,q,f,p,d,g,n,b,h,c,m,t,l,r,u,a){var s=f("dijit.Calendar",[t,l,r],{baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",
incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(a){n.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_createMonthWidget:function(){return new s._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:h.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);
this.own(c(this.domNode,"keydown",h.hitch(this,"_onKeyDown")),c(this.dateRowsNode,"mouseover",h.hitch(this,"_onDayMouseOver")),c(this.dateRowsNode,"mouseout",h.hitch(this,"_onDayMouseOut")),c(this.dateRowsNode,"mousedown",h.hitch(this,"_onDayMouseDown")),c(this.dateRowsNode,"mouseup",h.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(a){var b=new this.dateClassObj(this.currentFocus);b.setDate(1);b.setMonth(a);a=this.dateModule.getDaysInMonth(b);var c=this.currentFocus.getDate();b.setDate(Math.min(c,
a));this._setCurrentFocusAttr(b)},_onDayMouseOver:function(a){if((a=d.contains(a.target,"dijitCalendarDateLabel")?a.target.parentNode:a.target)&&(a.dijitDateValue&&!d.contains(a,"dijitCalendarDisabledDate")||a==this.previousYearLabelNode||a==this.nextYearLabelNode))d.add(a,"dijitCalendarHoveredDate"),this._currentNode=a},_onDayMouseOut:function(a){this._currentNode&&!(a.relatedTarget&&a.relatedTarget.parentNode==this._currentNode)&&(a="dijitCalendarHoveredDate",d.contains(this._currentNode,"dijitCalendarActiveDate")&&
(a+=" dijitCalendarActiveDate"),d.remove(this._currentNode,a),this._currentNode=null)},_onDayMouseDown:function(a){if((a=a.target.parentNode)&&a.dijitDateValue&&!d.contains(a,"dijitCalendarDisabledDate"))d.add(a,"dijitCalendarActiveDate"),this._currentNode=a},_onDayMouseUp:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&d.remove(a,"dijitCalendarActiveDate")},handleKey:function(a){var c=-1,d,h=this.currentFocus;switch(a.keyCode){case b.RIGHT_ARROW:c=1;case b.LEFT_ARROW:d="day";this.isLeftToRight()||
(c*=-1);break;case b.DOWN_ARROW:c=1;case b.UP_ARROW:d="week";break;case b.PAGE_DOWN:c=1;case b.PAGE_UP:d=a.ctrlKey||a.altKey?"year":"month";break;case b.END:h=this.dateModule.add(h,"month",1),d="day";case b.HOME:h=new this.dateClassObj(h);h.setDate(1);break;default:return!0}d&&(h=this.dateModule.add(h,d,c));this._setCurrentFocusAttr(h);return!1},_onKeyDown:function(a){this.handleKey(a)||(a.stopPropagation(),a.preventDefault())},onValueSelected:function(){},onChange:function(a){this.onValueSelected(a)},
getClassForDate:function(){}});s._MonthDropDownButton=f("dijit.Calendar._MonthDropDownButton",a,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new s._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.dropDown.set("months",b);this.containerNode.innerHTML=(6==m("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+
"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+b[a.getMonth()]+"\x3c/div\x3e"}});s._MonthDropDown=f("dijit.Calendar._MonthDropDown",[l,u,r],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"\x3cdiv data-dojo-attach-event\x3d'ondijitclick:_onClick'\x3e\x3c/div\x3e",_setMonthsAttr:function(a){this.domNode.innerHTML="";k.forEach(a,function(a,b){g.create("div",{className:"dijitCalendarMonthLabel",month:b,innerHTML:a},this.domNode)._cssState=
"dijitCalendarMonthLabel"},this)},_onClick:function(a){this.onChange(p.get(a.target,"month"))},onChange:function(){}});return s})},"dijit/CalendarLite":function(){define("dojo/_base/array dojo/_base/declare dojo/cldr/supplemental dojo/date dojo/date/locale dojo/date/stamp dojo/dom dojo/dom-class dojo/_base/lang dojo/on dojo/sniff dojo/string ./_WidgetBase ./_TemplatedMixin dojo/text!./templates/Calendar.html ./a11yclick ./hccss".split(" "),function(k,e,q,f,p,d,g,n,b,h,c,m,t,l,r){var u=e("dijit.CalendarLite",
[t,l],{templateString:r,dowTemplateString:'\x3cth class\x3d"dijitReset dijitCalendarDayLabelTemplate" role\x3d"columnheader" scope\x3d"col"\x3e\x3cspan class\x3d"dijitCalendarDayLabel"\x3e${d}\x3c/span\x3e\x3c/th\x3e',dateTemplateString:'\x3ctd class\x3d"dijitReset" role\x3d"gridcell" data-dojo-attach-point\x3d"dateCells"\x3e\x3cspan class\x3d"dijitCalendarDateLabel" data-dojo-attach-point\x3d"dateLabels"\x3e\x3c/span\x3e\x3c/td\x3e',weekTemplateString:'\x3ctr class\x3d"dijitReset dijitCalendarWeekTemplate" role\x3d"row"\x3e${d}${d}${d}${d}${d}${d}${d}\x3c/tr\x3e',
value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",_isValidDate:function(a){return a&&!isNaN(a)&&"object"==typeof a&&a.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){var a=this._get("value");if(a&&!isNaN(a)){var b=new this.dateClassObj(a);b.setHours(0,0,0,0);b.getDate()<a.getDate()&&(b=this.dateModule.add(b,"hour",1));return b}return null},_setValueAttr:function(a,
b){"string"==typeof a&&(a=d.fromISOString(a));a=this._patchDate(a);if(this._isValidDate(a)&&!this.isDisabledDate(a,this.lang)){if(this._set("value",a),this.set("currentFocus",a),this._markSelectedDates([a]),this._created&&(b||"undefined"==typeof b))this.onChange(this.get("value"))}else this._set("value",null),this._markSelectedDates([])},_patchDate:function(a){a&&(a=new this.dateClassObj(a),a.setHours(1,0,0,0));return a},_setText:function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(a.ownerDocument.createTextNode(b))},
_populateGrid:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);var a=this._patchDate(a),b=a.getDay(),c=this.dateModule.getDaysInMonth(a),d=this.dateModule.getDaysInMonth(this.dateModule.add(a,"month",-1)),h=new this.dateClassObj,f=q.getFirstDayOfWeek(this.lang);f>b&&(f-=7);if(!this.summary){var e=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.gridNode.setAttribute("summary",e[a.getMonth()])}this._date2cell={};k.forEach(this.dateCells,function(e,
k){var m=k+f,g=new this.dateClassObj(a),l="dijitCalendar",n=0;m<b?(m=d-b+m+1,n=-1,l+="Previous"):m>=b+c?(m=m-b-c+1,n=1,l+="Next"):(m=m-b+1,l+="Current");n&&(g=this.dateModule.add(g,"month",n));g.setDate(m);this.dateModule.compare(g,h,"date")||(l="dijitCalendarCurrentDate "+l);this.isDisabledDate(g,this.lang)?(l="dijitCalendarDisabledDate "+l,e.setAttribute("aria-disabled","true")):(l="dijitCalendarEnabledDate "+l,e.removeAttribute("aria-disabled"),e.setAttribute("aria-selected","false"));(n=this.getClassForDate(g,
this.lang))&&(l=n+" "+l);e.className=l+"Month dijitCalendarDateTemplate";l=g.valueOf();this._date2cell[l]=e;e.dijitDateValue=l;this._setText(this.dateLabels[k],g.getDateLocalized?g.getDateLocalized(this.lang):g.getDate())},this)},_populateControls:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);this.monthWidget.set("month",a);var b=a.getFullYear()-1,c=new this.dateClassObj;k.forEach(["previous","current","next"],function(a){c.setFullYear(b++);this._setText(this[a+"YearLabelNode"],
this.dateLocaleModule.format(c,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",new this.dateClassObj)},constructor:function(a){this.dateModule=a.datePackage?b.getObject(a.datePackage,!1):f;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=a.datePackage?b.getObject(a.datePackage+".locale",!1):p},_createMonthWidget:function(){return u._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var a=
this.dowTemplateString,b=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),c=q.getFirstDayOfWeek(this.lang);this.dayCellsHtml=m.substitute([a,a,a,a,a,a,a].join(""),{d:""},function(){return b[c++%7]});a=m.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[a,a,a,a,a,a].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);g.setSelectable(this.domNode,!1);a=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();
this.set("currentFocus",a,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},_connectControls:function(){var a=b.hitch(this,function(a,c,d){this[a].dojoClick=!0;return h(this[a],"click",b.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,c,d))}))});this.own(a("incrementMonth","month",1),a("decrementMonth","month",-1),a("nextYearLabelNode","year",1),a("previousYearLabelNode","year",-1))},_setCurrentFocusAttr:function(a,b){var d=this.currentFocus,
h=this._getNodeByDate(d);a=this._patchDate(a);this._set("currentFocus",a);if(!this._date2cell||0!=this.dateModule.difference(d,a,"month"))this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]);d=this._getNodeByDate(a);d.setAttribute("tabIndex",this.tabIndex);(this.focused||b)&&d.focus();h&&h!=d&&(c("webkit")?h.setAttribute("tabIndex","-1"):h.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(a){a.stopPropagation();
a.preventDefault();for(a=a.target;a&&!a.dijitDateValue;a=a.parentNode);a&&!n.contains(a,"dijitCalendarDisabledDate")&&this.set("value",a.dijitDateValue)},_getNodeByDate:function(a){return(a=this._patchDate(a))&&this._date2cell?this._date2cell[a.valueOf()]:null},_markSelectedDates:function(a){function c(a,b){n.toggle(b,"dijitCalendarSelectedDate",a);b.setAttribute("aria-selected",a?"true":"false")}k.forEach(this._selectedCells||[],b.partial(c,!1));this._selectedCells=k.filter(k.map(a,this._getNodeByDate,
this),function(a){return a});k.forEach(this._selectedCells,b.partial(c,!0))},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});u._MonthWidget=e("dijit.CalendarLite._MonthWidget",t,{_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a),d=6==c("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+k.map(b,function(a){return"\x3cdiv\x3e"+a+"\x3c/div\x3e"}).join("")+"\x3c/div\x3e";this.domNode.innerHTML=d+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+
b[a.getMonth()]+"\x3c/div\x3e"}});return u})},"dijit/form/_DateTimeTextBox":function(){define("dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/_base/lang ./RangeBoundTextBox ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(k,e,q,f,p,d,g,n){new Date("X");return f("dijit.form._DateTimeTextBox",[d,g],{templateString:n,hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_unboundedConstraints:{},pattern:e.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);
this._set("type","text")},compare:function(b,d){var c=this._isInvalidDate(b),e=this._isInvalidDate(d);if(c||e)return c&&e?0:!c?1:-1;var c=this.format(b,this._unboundedConstraints),e=this.format(d,this._unboundedConstraints),f=this.parse(c,this._unboundedConstraints),g=this.parse(e,this._unboundedConstraints);return c==e?0:k.compare(f,g,this._selector)},autoWidth:!0,format:function(b,d){return!b?"":this.dateLocaleModule.format(b,d)},parse:function(b,d){return this.dateLocaleModule.parse(b,d)||(this._isEmpty(b)?
null:void 0)},serialize:function(b,d){b.toGregorian&&(b=b.toGregorian());return q.toISOString(b,d)},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(b){b=b||{};this.dateModule=b.datePackage?p.getObject(b.datePackage,!1):k;this.dateClassObj=this.dateModule.Date||Date;this.dateClassObj instanceof Date||(this.value=new this.dateClassObj(this.value));this.dateLocaleModule=b.datePackage?p.getObject(b.datePackage+".locale",!1):e;this._set("pattern",
this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString()},buildRendering:function(){this.inherited(arguments);this.hasDownArrow||(this._buttonNode.style.display="none");this.hasDownArrow||(this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick")},_setConstraintsAttr:function(b){b.selector=this._selector;b.fullYear=!0;var d=q.fromISOString;"string"==typeof b.min&&(b.min=d(b.min),this.dateClassObj instanceof Date||(b.min=new this.dateClassObj(b.min)));
"string"==typeof b.max&&(b.max=d(b.max),this.dateClassObj instanceof Date||(b.max=new this.dateClassObj(b.max)));this.inherited(arguments);this._unboundedConstraints=p.mixin({},this.constraints,{min:null,max:null})},_isInvalidDate:function(b){return!b||isNaN(b)||"object"!=typeof b||b.toString()==this._invalidDate},_setValueAttr:function(b,d,c){void 0!==b&&("string"==typeof b&&(b=q.fromISOString(b)),this._isInvalidDate(b)&&(b=null),b instanceof Date&&!(this.dateClassObj instanceof Date)&&(b=new this.dateClassObj(b)));
this.inherited(arguments,[b,d,c]);this.value instanceof Date&&(this.filterString="");this.dropDown&&this.dropDown.set("value",b,!1)},_set:function(b,d){if("value"==b){d instanceof Date&&!(this.dateClassObj instanceof Date)&&(d=new this.dateClassObj(d));var c=this._get("value");if(c instanceof this.dateClassObj&&0==this.compare(d,c))return}this.inherited(arguments)},_setDropDownDefaultValueAttr:function(b){this._isInvalidDate(b)&&(b=new this.dateClassObj);this._set("dropDownDefaultValue",b)},openDropDown:function(b){this.dropDown&&
this.dropDown.destroy();var d=p.isString(this.popupClass)?p.getObject(this.popupClass,!1):this.popupClass,c=this,e=this.get("value");this.dropDown=new d({onChange:function(b){c.set("value",b,!0)},id:this.id+"_popup",dir:c.dir,lang:c.lang,value:e,textDir:c.textDir,currentFocus:!this._isInvalidDate(e)?e:this.dropDownDefaultValue,constraints:c.constraints,filterString:c.filterString,datePackage:c.datePackage,isDisabledDate:function(b){return!c.rangeCheck(b,c.constraints)}});this.inherited(arguments)},
_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(b,d){this._setValueAttr(this.parse(b,this.constraints),d,b)}})})},"widgets/Stream/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings","dojo/text!./config.json"],function(){})},"url:widgets/Stream/StreamControl.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"jimu-widget-title" data-dojo-attach-point\x3d"controlLabelSection"\x3e\r\n    ${nls.streamControls}\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"controlButton stop" data-dojo-attach-point\x3d"startBtn"\x3e\r\n    \x3cdiv class\x3d"jimu-float-leading jimu-leading-margin1 runningIcon"\x3e\x3c/div\x3e\r\n    \x3clabel class\x3d"jimu-widget-normal jimu-leading-margin1 btnLabel"\r\n           data-dojo-attach-point\x3d"startBtnLabel"\x3e${nls.stopStreaming}\x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"controlButton" data-dojo-attach-point\x3d"clearBtn"\x3e\r\n    \x3cdiv class\x3d"jimu-float-leading jimu-leading-margin1 clearIcon"\x3e\x3c/div\x3e\r\n    \x3clabel class\x3d"jimu-widget-normal jimu-leading-margin1 btnLabel"\x3e${nls.clearObservation}\x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"drawPreviousSection" class\x3d"drawControl"\x3e\r\n    \x3clabel class\x3d"jimu-widget-normal btnLabel"\x3e${nls.previousObservations}\x26nbsp;\x3c/label\x3e\r\n    \x3cinput data-dojo-type\x3d"dijit/form/NumberSpinner" style\x3d"height:32px;width:30%;float:right;"\r\n           data-dojo-props\x3d"smallDelta:1, intermediateChanges:true, constraints:{min:1,max:100,places:0}"\r\n           data-dojo-attach-point\x3d"previousSpinner"\r\n    /\x3e\r\n    \x3cdiv style\x3d"clear:both"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"jimu-widget-title filterLabel"\r\n      data-dojo-attach-point\x3d"filterLabelSection"\x3e\r\n    ${nls.streamFilter}\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"spatialFilterControl" class\x3d"filterControl"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"spatialFilterToggleDiv"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"spatialFilterSection" class\x3d"filterControl" style\x3d"display:none"\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"attrFilterControl" class\x3d"filterControl"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"attrFilterToggleDiv"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"attrFilterSection" class\x3d"filterControl" style\x3d"display:none"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Stream/FilterItem.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"controlSection"\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"filterSection" style\x3d"display:none"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"attrFilterParams"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"jimu-btn" data-dojo-attach-point\x3d"applyAttrFilterBtn"\x3e\r\n      ${nls.applyAttrFilter}\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',"url:jimu/dijit/templates/_SingleFilterParameter.html":'\x3cdiv\x3e\r\n  \x3ctable style\x3d"width:100%;"\x3e\r\n    \x3ccolgroup\x3e\r\n      \x3ccol width\x3d"100px"\x3e\x3c/col\x3e\r\n      \x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n    \x3c/colgroup\x3e\r\n    \x3ctbody\x3e\r\n      \x3ctr\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"prompt" data-dojo-attach-point\x3d"promptNode"\x3e\x3c/div\x3e\r\n        \x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"allValueBoxContainer" style\x3d"width:100%;"\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"stringTextBoxContainer" style\x3d"display:none;"\x3e\r\n              \x3cinput data-dojo-attach-point\x3d"stringTextBox" data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-props\x3d"required:true,trim:true" style\x3d"display:none;width:100%;" class\x3d"dijit-form-ValidationTextBox" /\x3e\r\n\r\n              \x3cdiv data-dojo-attach-point\x3d"stringCodedValuesFS" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-props\x3d\'searchAttr:"name",required:true,intermediateChanges:true\' class\x3d"dijit-form-FilteringSelect" style\x3d"display:none;width:100%;"\x3e\x3c/div\x3e\r\n\r\n              \x3cdiv data-dojo-attach-point\x3d"stringUniqueValuesSelect" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-props\x3d\'searchAttr:"label",required:true,intermediateChanges:true\' class\x3d"dijit-form-FilteringSelect" style\x3d"display:none;width:100%;"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv data-dojo-attach-point\x3d"numberTextBoxContainer" style\x3d"display:none;"\x3e\r\n              \x3cinput data-dojo-attach-point\x3d"numberTextBox" data-dojo-type\x3d"dijit/form/NumberTextBox" data-dojo-props\x3d\'"required":true,intermediateChanges:true,constraints: {pattern: "#####0.##########"}\' class\x3d"dijit-form-NumberTextBox" style\x3d"display:none;width:100%;" /\x3e\r\n\r\n              \x3cdiv data-dojo-attach-point\x3d"numberCodedValuesFS" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-props\x3d\'searchAttr:"name",required:true,intermediateChanges:true\' class\x3d"dijit-form-FilteringSelect" style\x3d"display:none;width:100%;"\x3e\x3c/div\x3e\r\n\r\n              \x3ctable data-dojo-attach-point\x3d"numberRangeTable" style\x3d"display:none;width:100%;border-collapse:collapse;" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\r\n                \x3ctbody\x3e\r\n                  \x3ctr\x3e\r\n                    \x3ctd style\x3d"width:40%;"\x3e\r\n                      \x3cinput data-dojo-attach-point\x3d"numberTextBox1" data-dojo-type\x3d"dijit/form/NumberTextBox" data-dojo-attach-event\x3d"blur:_onRangeNumberBlur" data-dojo-props\x3d\'"required":true,intermediateChanges:true,constraints: {pattern: "#####0.##########"}\' class\x3d"dijit-form-NumberTextBox" style\x3d"width:100%;" /\x3e\r\n                    \x3c/td\x3e\r\n                    \x3ctd style\x3d"width:20%;text-align:center;"\x3e\r\n                      \x3cspan\x3e${nls.and}\x3c/span\x3e\r\n                    \x3c/td\x3e\r\n                    \x3ctd style\x3d"width:40%;"\x3e\r\n                      \x3cinput data-dojo-attach-point\x3d"numberTextBox2" data-dojo-type\x3d"dijit/form/NumberTextBox" data-dojo-attach-event\x3d"blur:_onRangeNumberBlur" data-dojo-props\x3d\'"required":true,intermediateChanges:true,constraints: {pattern: "#####0.##########"}\' class\x3d"dijit-form-NumberTextBox" style\x3d"width:100%;" /\x3e\r\n                    \x3c/td\x3e\r\n                  \x3c/tr\x3e\r\n                \x3c/tbody\x3e\r\n              \x3c/table\x3e\r\n\r\n              \x3cdiv data-dojo-attach-point\x3d"numberUniqueValuesSelect" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-props\x3d\'searchAttr:"label",required:true,intermediateChanges:true\' class\x3d"dijit-form-FilteringSelect" style\x3d"display:none;width:100%;"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv data-dojo-attach-point\x3d"dateTextBoxContainer" style\x3d"display:none;"\x3e\r\n              \x3cinput data-dojo-attach-point\x3d"dateTextBox" data-dojo-type\x3d"dijit/form/DateTextBox" data-dojo-props\x3d\'required:true, trim:true\' class\x3d"dijit-form-DateTextBox" style\x3d"display:none;width:100%;" /\x3e\r\n\r\n              \x3ctable data-dojo-attach-point\x3d"dateRangeTable" style\x3d"display:none;width:100%;border-collapse:collapse;" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\r\n                \x3ctbody\x3e\r\n                  \x3ctr\x3e\r\n                    \x3ctd style\x3d"width:40%;"\x3e\r\n                      \x3cinput data-dojo-attach-point\x3d"dateTextBox1" data-dojo-type\x3d"dijit/form/DateTextBox" data-dojo-attach-event\x3d"change:_onRangeDateBlur" data-dojo-props\x3d\'value:new Date(),required:true,trim:true\' class\x3d"dijit-form-DateTextBox" style\x3d"width:100%;" /\x3e\r\n                    \x3c/td\x3e\r\n                    \x3ctd style\x3d"width:20%;text-align:center;"\x3e\r\n                      \x3cspan\x3e${nls.and}\x3c/span\x3e\r\n                    \x3c/td\x3e\r\n                    \x3ctd\x3e\r\n                      \x3cinput data-dojo-attach-point\x3d"dateTextBox2" data-dojo-type\x3d"dijit/form/DateTextBox" data-dojo-attach-event\x3d"change:_onRangeDateBlur" data-dojo-props\x3d\'value:new Date(),required:true,trim:true\' class\x3d"dijit-form-DateTextBox" style\x3d"width:100%;" /\x3e\r\n                    \x3c/td\x3e\r\n                  \x3c/tr\x3e\r\n                \x3c/tbody\x3e\r\n              \x3c/table\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n      \x3ctr\x3e\r\n        \x3ctd\x3e\x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"hint" data-dojo-attach-point\x3d"hintNode"\x3e\x3c/div\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n    \x3c/tbody\x3e\r\n  \x3c/table\x3e\r\n\x3c/div\x3e',
"url:dijit/templates/Calendar.html":'\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" class\x3d"dijitCalendarContainer" role\x3d"grid" aria-labelledby\x3d"${id}_mddb ${id}_year" data-dojo-attach-point\x3d"gridNode"\x3e\r\n\t\x3cthead\x3e\r\n\t\t\x3ctr class\x3d"dijitReset dijitCalendarMonthContainer" valign\x3d"top"\x3e\r\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' data-dojo-attach-point\x3d"decrementMonth" scope\x3d"col"\x3e\r\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"decreaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e-\x3c/span\x3e\r\n\t\t\t\x3c/th\x3e\r\n\t\t\t\x3cth class\x3d\'dijitReset\' colspan\x3d"5" scope\x3d"col"\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"monthNode"\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c/th\x3e\r\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' scope\x3d"col" data-dojo-attach-point\x3d"incrementMonth"\x3e\r\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"increaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e+\x3c/span\x3e\r\n\t\t\t\x3c/th\x3e\r\n\t\t\x3c/tr\x3e\r\n\t\t\x3ctr role\x3d"row"\x3e\r\n\t\t\t${!dayCellsHtml}\r\n\t\t\x3c/tr\x3e\r\n\t\x3c/thead\x3e\r\n\t\x3ctbody data-dojo-attach-point\x3d"dateRowsNode" data-dojo-attach-event\x3d"ondijitclick: _onDayClick" class\x3d"dijitReset dijitCalendarBodyContainer"\x3e\r\n\t\t\t${!dateRowsHtml}\r\n\t\x3c/tbody\x3e\r\n\t\x3ctfoot class\x3d"dijitReset dijitCalendarYearContainer"\x3e\r\n\t\t\x3ctr\x3e\r\n\t\t\t\x3ctd class\x3d\'dijitReset\' valign\x3d"top" colspan\x3d"7" role\x3d"presentation"\x3e\r\n\t\t\t\t\x3cdiv class\x3d"dijitCalendarYearLabel"\x3e\r\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"previousYearLabelNode" class\x3d"dijitInline dijitCalendarPreviousYear" role\x3d"button"\x3e\x3c/span\x3e\r\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"currentYearLabelNode" class\x3d"dijitInline dijitCalendarSelectedYear" role\x3d"button" id\x3d"${id}_year"\x3e\x3c/span\x3e\r\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"nextYearLabelNode" class\x3d"dijitInline dijitCalendarNextYear" role\x3d"button"\x3e\x3c/span\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c/td\x3e\r\n\t\t\x3c/tr\x3e\r\n\t\x3c/tfoot\x3e\r\n\x3c/table\x3e\r\n',
"url:widgets/Stream/Widget.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"errorTipPanel" class\x3d"jimu-widget" style\x3d"display:none"\x3e\r\n    ${nls.noStreamLayer}\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"selectionPanel"\x3e\r\n    \x3cdiv\x3e\r\n      \x3clabel class\x3d"jimu-widget-title"\x3e${nls.selectStreamLayer}\x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"layerSelect"\x3e\r\n      \x3cselect data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"streamSelect"\r\n              style\x3d"width:100%; height:32px"\x3e\x3c/select\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"settingPanel"\x3e\r\n\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"shelter" data-dojo-type\x3d"jimu/dijit/LoadingShelter"\r\n       data-dojo-props\x3d\'hidden:true\'\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Stream/css/style.css":".jimu-widget-stream{}.jimu-widget-stream .layerSelect{margin: 12px 0;}.jimu-widget-stream .controllerLabel{font-size: 1.2em; color: #838383; font-weight: normal; cursor: pointer;}.jimu-widget-stream .filterOption{margin-left: 20px; margin-top: 10px; margin-bottom: 5px;}.jimu-widget-stream .jimu-widget-stream-filterItem{margin-left: 20px; margin-top: 10px; margin-bottom: 5px;}.jimu-widget-stream .controlButton{width: 100%; height: 32px; margin-top: 12px; background-color: #FFFFFF; border: solid 1px #D7D7D7; cursor: pointer;}.jimu-widget-stream .controlButton:hover{background-color: #EAEAEA;}.jimu-widget-stream .drawControl{margin-top: 12px; width: 100%;}.jimu-widget-stream .filterLabel{margin-top: 12px;}.jimu-widget-stream .filterControl{margin: 12px 0; width: 100%;}.jimu-widget-stream .btnLabel{line-height: 32px; cursor: pointer;}.jimu-widget-stream .drawControl .btnLabel{line-height: 40px;}.jimu-widget-stream .controlButton .runningIcon{width: 14px; height: 14px; margin-top: 7px; background: transparent url(images/play_normal.png) center top no-repeat;}.jimu-widget-stream .controlButton:hover .runningIcon{background: url(images/play_over.png);}.jimu-widget-stream .controlButton.stop .runningIcon{width: 14px; height: 14px; margin-top: 7px; background: transparent url(images/stop_normal.png) center top no-repeat;}.jimu-widget-stream .controlButton.stop:hover .runningIcon{background: url(images/stop_over.png);}.jimu-widget-stream .controlButton .clearIcon{width: 14px; height: 14px; margin-top: 7px; background: transparent url(images/clear_normal.png) center top no-repeat;}.jimu-widget-stream .controlButton:hover .clearIcon{background: url(images/clear_over.png);}.jimu-widget-stream .jimu-checkbox .label{font-size: 12px;}",
"url:widgets/Stream/config.json":'{\r\n  "streamLayers": []\r\n}',"*now":function(k){k(['dojo/i18n!*preload*widgets/Stream/nls/Widget*["ar","cs","da","de","en","el","es","et","fi","fr","he","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-style dijit/_WidgetsInTemplateMixin jimu/BaseWidget jimu/dijit/ViewStack ./StreamControl dijit/form/Select jimu/dijit/LoadingShelter".split(" "),function(k,e,q,f,p,d,g,n,b){return k([g,d],{baseClass:"jimu-widget-stream",streamControls:[],postCreate:function(){this.inherited(arguments);var d,c,g=[],k=[];this.config.streamLayers&&0<this.config.streamLayers.length&&q.forEach(this.config.streamLayers,function(e,f){if(c=this.map.getLayer(e.layerId))d=
new b({nls:this.nls,id:this.id+"_"+e.layerId,map:this.map,config:e,streamLayer:this.map.getLayer(e.layerId)}),k.push(d),g.push({label:e.layerName,value:f})},this);0===k.length?(p.set(this.errorTipPanel,"display",""),p.set(this.selectionPanel,"display","none")):(this.viewStack=new n({nodeType:1,views:k}),this.viewStack.placeAt(this.settingPanel),this.streamSelect.addOption(g),this.streamSelect.set("value",0),this.own(f(this.streamSelect,"change",e.hitch(this,function(b){this.viewStack.switchView(b)}))))}})});