// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/RelatedTableCharts/setting/LayerChooser":function(){define("dojo/_base/declare jimu/BaseWidgetSetting dijit/_WidgetsInTemplateMixin dojo/_base/lang dojo/_base/array dojo/promise/all dojo/Deferred dojo/on dojo/dom-class dojo/text!./LayerChooser.html jimu/dijit/LayerChooserFromMap jimu/dijit/LayerChooserFromMapWithDropbox esri/request jimu/dijit/Message dojo/domReady!".split(" "),function(l,n,h,k,g,b,e,d,a,c,m,f,q,p){return l([n,h],{baseClass:"jimu-widget-RelatedTableCharts-setting",
templateString:c,selectRouteURL:null,agolFlag:!1,serviceFlag:!1,_numberFieldTypes:["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble"],startup:function(){this.inherited(arguments)},postCreate:function(){this._createPolygonChooserArgs();this.own(d(this.cancelButton,"click",k.hitch(this,function(a){this.onCancleClick(a)})));this.own(d(this.okButton,"click",k.hitch(this,this._onOKButtonClicked)))},_getGeometryType:function(a){switch(a){case "esriGeometryPolygon":return"polygon";
case "esriGeometryPolyline":return"polyline";case "esriGeometryPoint":return"point";default:return"*"}},_createPolygonChooserArgs:function(){var a;a=[];var b;a.push(this.geometryType);a=m.createFeaturelayerFilter(a,!1);b=m.createQueryableLayerFilter();a={multiple:!1,createMapResponse:this.map.webMapResponse,showLayerTypes:["FeatureLayer"],filter:m.andCombineFilters([a,b])};a=new m(a);a=new f({layerChooser:a});a.placeAt(this.itemSelectDiv);a.startup();this.own(d(a,"selection-change",k.hitch(this,this._createRelatedTableOptions)))},
_createRelatedTableOptions:function(f){var d=[],p,c;f&&0<f.length?(this.polygonLayer=f[0],this.polygonLayerInfo={url:this.polygonLayer.url,geometryType:this._getGeometryType(this.polygonLayer.geometryType),supportsDistinct:!1},this.polygonLayer.advancedQueryCapabilities&&this.polygonLayer.advancedQueryCapabilities.supportsDistinct&&(this.polygonLayerInfo.supportsDistinct=!0),this.polygonLayer.fields&&(this.polygonLayerInfo.fields=k.clone(this.polygonLayer.fields)),this.polygonLayerInfo.layerId=this.polygonLayer.layerId?
this.polygonLayer.layerId:this.polygonLayer.url.substr(this.polygonLayer.url.lastIndexOf("/")+1,this.polygonLayer.url.length),c=this.polygonLayer.url.substr(0,this.polygonLayer.url.lastIndexOf("/")+1),this.polygonLayerInfo.baseURL=c,this.polygonLayerInfo=k.mixin(this.polygonLayerInfo,this._getLayerDetailsFromMap(c,this.polygonLayerInfo.layerId)),this.relatedTableInfo=[],p=[],g.forEach(this.polygonLayer.relationships,k.hitch(this,function(a){var f=new e;p.push(f);q({url:c+a.relatedTableId,content:{f:"json"},
handleAs:"json"}).then(k.hitch(this,function(a){f.resolve(a)}),k.hitch(this,function(){f.resolve()}))})),b(p).then(k.hitch(this,function(f){var b,p;for(p=0;p<f.length;p++)if(f[p].fields&&(b=g.some(f[p].fields,k.hitch(this,function(a){return 0<=this._numberFieldTypes.indexOf(a.type)}))))b={url:c+f[p].id,baseURL:c,relationShipId:this.polygonLayer.relationships[p].id,layerId:f[p].id,title:this.polygonLayer.relationships[p].name},b.fields=k.clone(f[p].fields),b=k.mixin(b,this._getLayerDetailsFromMap(c,
f[p].id)),b=k.mixin(b,this._getLayerDetailsFromMapTables(c,f[p].id)),b.title&&(this.relatedTableInfo[d.length]=b,d.push({label:this.relatedTableInfo[d.length].title,value:d.length}));0<d.length?(this.relationshipSelect.options.length=0,d[0].selected=!0,this.relationshipSelect.addOption(d),a.remove(this.okButton,"jimu-state-disabled")):this._resetRelatedLayerSelector()}),k.hitch(this,function(){this._resetRelatedLayerSelector()}))):this._resetRelatedLayerSelector()},_resetRelatedLayerSelector:function(){this.relationshipSelect.value=
"";this.relationshipSelect.options.length=0;this.relationshipSelect.addOption({value:"",label:"",selected:!0});a.add(this.okButton,"jimu-state-disabled")},_getLayerDetailsFromMap:function(a,f){var b={};this.map&&(this.map.webMapResponse&&this.map.webMapResponse.itemInfo&&this.map.webMapResponse.itemInfo.itemData&&this.map.webMapResponse.itemInfo.itemData.operationalLayers)&&g.forEach(this.map.webMapResponse.itemInfo.itemData.operationalLayers,k.hitch(this,function(p){p.layerObject&&("ArcGISMapServiceLayer"===
p.layerType||"ArcGISTiledMapServiceLayer"===p.layerType?a.substring(0,a.length-1)===p.url&&(g.forEach(p.resourceInfo.layers,k.hitch(this,function(a){a.id===parseInt(f,10)&&(b.title=a.name)})),g.forEach(p.layers,k.hitch(this,function(a){a.id===parseInt(f,10)&&(a.name&&(b.title=a.name),b.popupInfo=a.popupInfo,a.layerDefinition&&a.layerDefinition.definitionExpression&&(b.definitionExpression=a.layerDefinition.definitionExpression))}))):p.url.replace(/.*?:\/\//g,"")===(a+f).replace(/.*?:\/\//g,"")&&(b.title=
p.title,b.popupInfo=p.popupInfo,p.layerDefinition&&p.layerDefinition.definitionExpression&&(b.definitionExpression=p.layerDefinition.definitionExpression)))}));return b},_getLayerDetailsFromMapTables:function(a,f){var b={};this.map&&(this.map.webMapResponse&&this.map.webMapResponse.itemInfo&&this.map.webMapResponse.itemInfo.itemData&&this.map.webMapResponse.itemInfo.itemData.tables)&&g.forEach(this.map.webMapResponse.itemInfo.itemData.tables,k.hitch(this,function(p){p.url.replace(/.*?:\/\//g,"")===
(a+f).replace(/.*?:\/\//g,"")&&(b.title=p.title,b.popupInfo=p.popupInfo,p.layerDefinition&&p.layerDefinition.definitionExpression&&(b.definitionExpression=p.layerDefinition.definitionExpression))}));return b},_onOKButtonClicked:function(){var f;if(!a.contains(this.okButton,"jimu-state-disabled"))if(this.polygonLayerInfo){if(""===this.relationshipSelect.value)return this._errorMessage(this.nls.layerChooser.errorInSelectingRelatedLayer),!1;f={polygonLayerInfo:this.polygonLayerInfo,relatedLayerInfo:this.relatedTableInfo[this.relationshipSelect.value]};
this.onOkClick(f)}else return this._errorMessage(this.nls.layerChooser.errorInSelectingPolygonLayer),!1},_errorMessage:function(a){(new p({message:a})).message=a},onOkClick:function(a){return a},onCancleClick:function(a){return a}})})},"jimu/dijit/LayerChooserFromMap":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/Evented dojo/on dojo/store/Memory dojo/Deferred dojo/store/Observable dijit/tree/ObjectStoreModel dojo/promise/all dojo/_base/lang dojo/_base/html dojo/_base/array jimu/utils jimu/dijit/_Tree jimu/LayerInfos/LayerInfos jimu/dijit/LoadingIndicator".split(" "),
function(l,n,h,k,g,b,e,d,a,c,m,f,q,p,G,z,w,r){var A=l([n,h,k,g],{templateString:'\x3cdiv style\x3d"width:100%;"\x3e\x3cdiv data-dojo-attach-point\x3d"errorTipSection" class\x3d"error-tip-section"\x3e\x3cspan class\x3d"jimu-icon jimu-icon-error"\x3e\x3c/span\x3e\x3cspan class\x3d"jimu-state-error-text" data-dojo-attach-point\x3d"errTip"\x3e${nls.noLayersTip}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e',_store:null,_id:0,_treeClass:"layer-chooser-tree",createMapResponse:null,multiple:!1,postMixInProperties:function(){this.nls=
window.jimuNls.basicLayerChooserFromMap},postCreate:function(){this.inherited(arguments);q.addClass(this.domNode,"jimu-basic-layer-chooser-from-map");this.multiple=!!this.multiple;this.shelter=new r({hidden:!0});this.shelter.placeAt(this.domNode);this.shelter.startup();this._createTree();this.createMapResponse&&this.setCreateMapResponse(this.createMapResponse)},filter:function(a){a=new d;a.resolve(!0);return a},getSelectedItems:function(){var a=this.tree.getSelectedItems();return p.map(a,f.hitch(this,
function(a){return this.getHandledItem(a)}))},getAllItems:function(){var a=this.tree.getAllItems(),b=[];p.forEach(a,f.hitch(this,function(a){"root"!==a.id&&(a=this.getHandledItem(a),b.push(a))}));return b},getHandledItem:function(a){return{name:a.name,layerInfo:a.layerInfo}},_isLeafItem:function(a){return a.isLeaf},setCreateMapResponse:function(a){this.createMapResponse=a;w.getInstance(this.createMapResponse.map,this.createMapResponse.itemInfo).then(f.hitch(this,function(a){this.layerInfosObj=a;this.own(b(this.layerInfosObj,
"layerInfosChanged",f.hitch(this,this._onLayerInfosChanged)));this._buildTree(this.layerInfosObj)}))},_onLayerInfosChanged:function(a,f){this._buildTree(this.layerInfosObj)},_buildTree:function(a){this._clear();q.setStyle(this.errorTipSection,"display","block");var b=a.getLayerInfoArray(),b=b.concat(a.getTableInfoArray());0!==b.length&&(q.setStyle(this.errorTipSection,"display","none"),p.forEach(b,f.hitch(this,function(a){this._addDirectLayerInfo(a)})))},_addDirectLayerInfo:function(a){a&&a.getLayerObject().then(f.hitch(this,
function(){this._addItem("root",a)}),f.hitch(this,function(a){console.error(a)}))},_clear:function(){var a=this._store.query({parent:"root"});p.forEach(a,f.hitch(this,function(a){a&&"root"!==a.id&&this._store.remove(a.id)}))},_addItem:function(a,b){var d=null,c=b.getLayerType(),e=this.filter(b);m({layerType:c,valid:e}).then(f.hitch(this,function(c){if(c.valid){var e=f.hitch(this,function(f,p){this._id++;d={name:b.title||"",parent:a,layerInfo:b,type:c.layerType,layerClass:b.layerObject.declaredClass,
id:this._id.toString(),isLeaf:f,hasChildren:p};this._store.add(d)}),q=b.getSubLayers(),G=0===q.length;G?e(G,!1):(q=p.map(q,f.hitch(this,function(a){return this.filter(a)})),m(q).then(f.hitch(this,function(a){(a=p.some(a,function(a){return a}))&&e(G,a)})))}}))},_getRootItem:function(){return{id:"root",name:"Map Root",type:"root",isLeaf:!1,hasChildren:!0}},_createTree:function(){var b=this._getRootItem(),b=new e({data:[b],getChildren:function(a){return this.query({parent:a.id})}});this._store=new a(b);
b=new c({store:this._store,query:{id:"root"},mayHaveChildren:f.hitch(this,this._mayHaveChildren)});this.tree=new z({multiple:this.multiple,model:b,showRoot:!1,isLeafItem:f.hitch(this,this._isLeafItem),style:{width:"100%"},onOpen:f.hitch(this,function(a,f){"root"!==a.id&&this._onTreeOpen(a,f)}),onClick:f.hitch(this,function(a,f,b){this._onTreeClick(a,f,b);this.emit("tree-click",a,f,b)}),getIconStyle:f.hitch(this,function(a,f){var b=null;if(!a||"root"===a.id)return null;var p={width:"20px",height:"20px",
backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundImage:""},d=window.location.protocol+"//"+window.location.host+require.toUrl("jimu"),c=this._getIconImageName(a,f);c&&(p.backgroundImage="url("+d+"/css/images/"+c+")",b=p);return b})});q.addClass(this.tree.domNode,this._treeClass);this.tree.placeAt(this.shelter.domNode,"before")},_mayHaveChildren:function(a){return a.hasChildren},_getIconImageName:function(a,f){var b="";if("ArcGISDynamicMapServiceLayer"===a.type||"ArcGISTiledMapServiceLayer"===
a.type)b=f?"mapserver_open.png":"mapserver_close.png";else if("GroupLayer"===a.type)b=f?"group_layer2.png":"group_layer1.png";else if("FeatureLayer"===a.type){var p=G.getTypeByGeometryType(a.layerInfo.layerObject.geometryType);"point"===p?b="point_layer1.png":"polyline"===p?b="line_layer1.png":"polygon"===p&&(b="polygon_layer1.png")}else b="Table"===a.type?"table.png":"ArcGISImageServiceLayer"===a.type||"ArcGISImageServiceVectorLayer"===a.type?"image_layer.png":f?"mapserver_open.png":"mapserver_close.png";
return b},_onTreeOpen:function(a,b){if("root"!==a.id){var d=[],c=[],d=a.layerInfo.getSubLayers();a.checked||(this.shelter.show(),c=p.map(d,f.hitch(this,function(a){return a.getLayerObject()})),m(c).then(f.hitch(this,function(){this.domNode&&(p.forEach(d,f.hitch(this,function(f){this._addItem(a.id,f)})),a.checked=!0,this.shelter.hide())}),f.hitch(this,function(a){console.error(a);this.shelter.hide()})))}},_onTreeClick:function(a,f,b){},destroy:function(){this.shelter&&this.shelter.destroy();this.tree&&
this.tree.destroy();this.shelter=null;this.tree.destroy();this.inherited(arguments)}});A.createFilterByLayerType=function(a){f.isArrayLike(a)||(a=[]);return function(f){var b=new d;if(0===a.length)b.resolve(!0);else{var p=[];f.traversal(function(a){p.push(a.getLayerType())});m(p).then(function(f){for(var p=0;p<f.length;p++)for(var d=0;d<a.length;d++)if(f[p]===a[d]){b.resolve(!0);return}b.resolve(!1)},function(a){console.error(a);b.reject(a)})}return b}};A.createFeaturelayerFilter=function(a,f,b){var c=
["point","polyline","polygon"];a&&0<a.length?(a=p.filter(a,function(a){return 0<=c.indexOf(a)}),0===a.length&&(a=c)):a=c;return function(c){var e=new d,q=c.getLayerType();c=c.getLayerObject();m({layerType:q,layerObject:c}).then(function(c){var d=c.layerType;c=c.layerObject;"ArcGISDynamicMapServiceLayer"===d?e.resolve(!0):"ArcGISTiledMapServiceLayer"===d?e.resolve(!0):"GroupLayer"===d?e.resolve(!0):"FeatureCollection"===d?e.resolve(!0):"FeatureLayer"===d?(d=G.getTypeByGeometryType(c.geometryType),
d=0<=p.indexOf(a,d),c.url?(c=G.isFeaturelayerUrlSupportQuery(c.url,c.capabilities),e.resolve(d&&c)):e.resolve(f&&d)):"Table"===d?(c=G.isFeaturelayerUrlSupportQuery(c.url,c.capabilities),e.resolve(b&&c)):e.resolve(!1)},function(a){console.log(a);e.reject(a)});return e}};A.createImageServiceLayerFilter=function(a){return function(f){var b=new d,p=f.getLayerType();f=f.getLayerObject();m({layerType:p,layerObject:f}).then(function(f){var p=f.layerType;"ArcGISImageServiceLayer"===p||"ArcGISImageServiceVectorLayer"===
p?a?G.isImageServiceSupportQuery(f.layerObject.capabilities)?b.resolve(!0):b.resolve(!1):b.resolve(!0):b.resolve(!1)},function(a){console.log(a);b.reject(a)});return b}};A.createQueryableLayerFilter=function(){var a=A.createFeaturelayerFilter(["point","polyline","polygon"],!1,!0),f=A.createImageServiceLayerFilter(!0);return A.orCombineFilters([a,f])};A.andCombineFilters=function(a){return A._combineFilters(a,!0)};A.orCombineFilters=function(a){return A._combineFilters(a,!1)};A._combineFilters=function(a,
f){return function(b){var c=new d,e=p.map(a,function(a){return a(b)});m(e).then(function(a){var b=!1,b=f?p.every(a,function(a){return a}):p.some(a,function(a){return a});c.resolve(b)},function(a){console.error(a);c.reject(a)});return c}};return A})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(l,n,h,k){l=function(g){function b(a,f){var b=g[a];b&&(g[a]=function(p){var d;"put"===a&&(d=g.getIdentity(p));if(c)return b.apply(this,arguments);
c=!0;try{var e=b.apply(this,arguments);h(e,function(a){f("object"==typeof a&&a||p,d)});return e}finally{c=!1}})}var e=[],d=0;g=n.delegate(g);g.notify=function(a,b){d++;for(var c=e.slice(),p=0,G=c.length;p<G;p++)c[p](a,b)};var a=g.query;g.query=function(b,f){f=f||{};var c=a.apply(this,arguments);if(c&&c.forEach){var p=n.mixin({},f);delete p.start;delete p.count;var G=g.queryEngine&&g.queryEngine(b,p),z=d,w=[],r;c.observe=function(a,b){1==w.push(a)&&e.push(r=function(a,p){h(c,function(c){var e=c.length!=
f.count,q,m;if(++z!=d)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var h,r=-1,A=-1;if(void 0!==p){q=0;for(m=c.length;q<m;q++){var l=c[q];if(g.getIdentity(l)==p){h=l;r=q;(G||!a)&&c.splice(q,1);break}}}if(G){if(a&&(G.matches?G.matches(a):G([a]).length))q=-1<r?r:c.length,c.splice(q,0,a),A=k.indexOf(G(c),a),c.splice(q,1),f.start&&0==A||!e&&A==c.length?A=-1:c.splice(A,0,a)}else a&&(void 0!==p?A=r:f.start||(A=g.defaultIndex||0,c.splice(A,0,a)));if((-1<
r||-1<A)&&(b||!G||r!=A)){e=w.slice();for(q=0;c=e[q];q++)c(a||h,r,A)}})});var p={};p.remove=p.cancel=function(){var b=k.indexOf(w,a);-1<b&&(w.splice(b,1),w.length||e.splice(k.indexOf(e,r),1))};return p}}return c};var c;b("put",function(a,b){g.notify(a,b)});b("add",function(a){g.notify(a)});b("remove",function(a){g.notify(void 0,a)});return g};n.setObject("dojo.store.Observable",l);return l})},"dijit/tree/ObjectStoreModel":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/when ../Destroyable".split(" "),
function(l,n,h,k,g,b,e){return h("dijit.tree.ObjectStoreModel",e,{store:null,labelAttr:"name",labelType:"text",root:null,query:null,constructor:function(b){g.mixin(this,b);this.childrenCache={}},getRoot:function(d,a){if(this.root)d(this.root);else{var c=this.store.query(this.query);c.then&&this.own(c);b(c,g.hitch(this,function(a){if(1!=a.length)throw Error("dijit.tree.ObjectStoreModel: root query returned "+a.length+" items, but must return exactly one");this.root=a[0];d(this.root);c.observe&&c.observe(g.hitch(this,
function(a){this.onChange(a)}),!0)}),a)}},mayHaveChildren:function(){return!0},getChildren:function(d,a,c){var e=this.store.getIdentity(d);if(this.childrenCache[e])b(this.childrenCache[e],a,c);else{var f=this.childrenCache[e]=this.store.getChildren(d);f.then&&this.own(f);f.observe&&this.own(f.observe(g.hitch(this,function(a,c,e){this.onChange(a);c!=e&&b(f,g.hitch(this,"onChildrenChange",d))}),!0));b(f,a,c)}},isItem:function(){return!0},getIdentity:function(b){return this.store.getIdentity(b)},getLabel:function(b){return b[this.labelAttr]},
newItem:function(b,a,c,e){return this.store.put(b,{parent:a,before:e})},pasteItem:function(b,a,c,e,f,q){var p=new k;if(a===c&&!e&&!q)return p.resolve(!0),p;a&&!e?this.getChildren(a,g.hitch(this,function(f){f=[].concat(f);var e=l.indexOf(f,b);f.splice(e,1);this.onChildrenChange(a,f);p.resolve(this.store.put(b,{overwrite:!0,parent:c,oldParent:a,before:q}))})):p.resolve(this.store.put(b,{overwrite:!0,parent:c,oldParent:a,before:q}));return p},onChange:function(){},onChildrenChange:function(){},onDelete:function(){}})})},
"jimu/dijit/_Tree":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/_TreeNode.html dojo/_base/lang dojo/_base/html dojo/_base/array dojo/_base/event dojo/query dojo/aspect dojo/on dojo/Evented dijit/registry dijit/Tree jimu/utils".split(" "),function(l,n,h,k,g,b,e,d,a,c,m,f,q,p,G){var z=l([p._TreeNode,f],{templateString:k,declaredClass:"jimu._TreeNode",isLeaf:!1,groupId:"",postCreate:function(){this.inherited(arguments);b.addClass(this.domNode,"jimu-tree-node");
this.isLeaf=!!this.isLeaf;this.groupId?(this.checkNode=b.toDom('\x3cinput type\x3d"radio" /\x3e'),this.checkNode.name=this.groupId):this.checkNode=b.toDom('\x3cinput type\x3d"checkbox" /\x3e');b.addClass(this.checkNode,"jimu-tree-check-node");b.place(this.checkNode,this.contentNode,"first");this.own(m(this.checkNode,"click",g.hitch(this,this._onClick)));this.isLeaf?this.groupId?b.setStyle(this.checkNode,"display","none"):b.setStyle(this.checkNode,"display","inline"):b.setStyle(this.checkNode,"display",
"none");this.isLeaf?b.addClass(this.domNode,"jimu-tree-leaf-node"):b.addClass(this.domNode,"jimu-tree-not-leaf-node")},select:function(){this.isLeaf&&(this.checkNode.checked=!0,b.addClass(this.domNode,"jimu-tree-selected-leaf-node"))},unselect:function(){this.isLeaf&&(this.checkNode.checked=!1,b.removeClass(this.domNode,"jimu-tree-selected-leaf-node"))},toggleSelect:function(){this.isLeaf&&(this.checkNode.checked?this.unselect():this.select())},_onClick:function(a){(a.target||a.srcElement)===this.checkNode?
this.tree._onCheckNodeClick(this,this.checkNode.checked,a):this.tree._onClick(this,a)},_onChange:function(){this.isLeaf&&setTimeout(g.hitch(this,function(){this.checkNode.checked?this.emit("tn-select",this):this.emit("tn-unselect",this)}),100)},destroy:function(){delete this.tree;this.inherited(arguments)}});return l([p,f],{declaredClass:"jimu._Tree",openOnClick:!0,multiple:!0,uniqueId:"",showRoot:!1,postMixInProperties:function(){this.inherited(arguments);this.uniqueId="tree_"+G.getRandomString()},
postCreate:function(){this.inherited(arguments);b.addClass(this.domNode,"jimu-tree");this.own(c.before(this,"onClick",g.hitch(this,this._jimuBeforeClick)));this.rootLoadingIndicator&&b.setStyle(this.rootLoadingIndicator,"display","none");this.dndController.singular=!0},removeItem:function(a){this.model.store.remove(a)},getAllItems:function(){var a=this.getAllTreeNodeWidgets();return e.map(a,g.hitch(this,function(a){var b=a.item;b.selected=a.checkNode.checked;return b}))},getSelectedItems:function(){var a=
this.getAllTreeNodeWidgets(),a=e.filter(a,g.hitch(this,function(a){return a.checkNode.checked}));return e.map(a,g.hitch(this,function(a){return a.item}))},getFilteredItems:function(a){var b=this.getAllTreeNodeWidgets(),b=e.map(b,g.hitch(this,function(a){var b=a.item;b.selected=a.checkNode.checked;return b}));return e.filter(b,g.hitch(this,function(b){return a(b)}))},getTreeNodeByItemId:function(a){for(var b=this._getAllTreeNodeDoms(),f=0;f<b.length;f++){var c=q.byNode(b[f]);if(c.item.id.toString()===
a.toString())return c}return null},selectItem:function(a){(a=this.getTreeNodeByItemId(a))&&a.isLeaf&&this.selectNodeWidget(a)},unselectItem:function(a){(a=this.getTreeNodeByItemId(a))&&a.isLeaf&&a.unselect()},getAllLeafTreeNodeWidgets:function(){var a=this.getAllTreeNodeWidgets();return e.filter(a,g.hitch(this,function(a){return a.isLeaf}))},getAllTreeNodeWidgets:function(){var a=this._getAllTreeNodeDoms();return e.map(a,g.hitch(this,function(a){return q.byNode(a)}))},isLeafItem:function(a){return a&&
a.isLeaf},_getAllTreeNodeDoms:function(){return a(".dijitTreeNode",this.domNode)},_createTreeNode:function(a){a.isLeaf=this.isLeafItem(a.item);this.multiple||(a.groupId=this.uniqueId);return new z(a)},_onTreeNodeSelect:function(a){this.emit("item-select",{item:a.item,treeNode:a})},_onTreeNodeUnselect:function(a){this.emit("item-unselect",{item:a.item,treeNode:a})},selectNodeWidget:function(a){this.multiple||this.unselectAllLeafNodeWidgets();a.select()},_jimuBeforeClick:function(a,f,c){f.isLeaf&&(b.hasClass(c.target||
c.srcElement,"jimu-tree-check-node")||(this.multiple?f.toggleSelect():this.selectNodeWidget(f)));return arguments},_onCheckNodeClick:function(a,b,f){!this.multiple&&b&&this.unselectAllLeafNodeWidgets();d.stop(f);this.focusNode(a);setTimeout(g.hitch(this,function(){b?this.selectNodeWidget(a):a.unselect();this.onClick(a.item,a,f)}),0)},unselectAllLeafNodeWidgets:function(){var a=this.getAllLeafTreeNodeWidgets();e.forEach(a,g.hitch(this,function(a){a.unselect()}))}})})},"dijit/Tree":function(){define("dojo/_base/array dojo/aspect dojo/cookie dojo/_base/declare dojo/Deferred dojo/promise/all dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/errors/create dojo/fx dojo/has dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/topic dojo/touch dojo/when ./a11yclick ./focus ./registry ./_base/manager ./_Widget ./_TemplatedMixin ./_Container ./_Contained ./_CssStateMixin ./_KeyNavMixin dojo/text!./templates/TreeNode.html dojo/text!./templates/Tree.html ./tree/TreeStoreModel ./tree/ForestStoreModel ./tree/_dndSelector dojo/query!css2".split(" "),
function(l,n,h,k,g,b,e,d,a,c,m,f,q,p,G,z,w,r,A,Q,s,y,v,D,x,u,B,E,t,K,H,I,C,J,M){function F(a){return z.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}var L=k("dijit._TreeNode",[x,u,B,E,t],{item:null,isTreeNode:!0,label:"",_setLabelAttr:function(a){this.labelNode["html"==this.labelType?"innerHTML":"innerText"in this.labelNode?"innerText":"textContent"]=a;this._set("label",a)},labelType:"text",isExpandable:null,isExpanded:!1,state:"NotLoaded",
templateString:H,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);this.isExpandable&&this.labelNode.setAttribute("aria-expanded",this.isExpanded);this.setSelected(!1)},_setIndentAttr:function(a){var b=Math.max(a,0)*this.tree._nodePixelIndent+"px";c.set(this.domNode,"backgroundPosition",b+" 0px");c.set(this.rowNode,
this.isLeftToRight()?"paddingLeft":"paddingRight",b);l.forEach(this.getChildren(),function(b){b.set("indent",a+1)});this._set("indent",a)},markProcessing:function(){this.state="Loading";this._setExpando(!0)},unmarkProcessing:function(){this._setExpando(!1)},_updateItemClasses:function(a){var b=this.tree,f=b.model;b._v10Compat&&a===f.root&&(a=null);this._applyClassAndStyle(a,"icon","Icon");this._applyClassAndStyle(a,"label","Label");this._applyClassAndStyle(a,"row","Row");this.tree._startPaint(!0)},
_applyClassAndStyle:function(a,b,f){var p="_"+b+"Class";b+="Node";var e=this[p];this[p]=this.tree["get"+f+"Class"](a,this.isExpanded);d.replace(this[b],this[p]||"",e||"");c.set(this[b],this.tree["get"+f+"Style"](a,this.isExpanded)||{})},_updateLayout:function(){var a=this.getParent(),a=!a||!a.rowNode||"none"==a.rowNode.style.display;d.toggle(this.domNode,"dijitTreeIsRoot",a);d.toggle(this.domNode,"dijitTreeIsLast",!a&&!this.getNextSibling())},_setExpando:function(a){var b=["dijitTreeExpandoLoading",
"dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"];a=a?0:this.isExpandable?this.isExpanded?1:2:3;d.replace(this.expandoNode,b[a],b);this.expandoNodeText.innerHTML=["*","-","+","*"][a]},expand:function(){if(this._expandDeferred)return F(this._expandDeferred);this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==this.tree.rootNode)&&this.containerNode.setAttribute("role",
"group");d.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");var a=f.wipeIn({node:this.containerNode,duration:D.defaultDuration}),b=this._expandDeferred=new g(function(){a.stop()});n.after(a,"onEnd",function(){b.resolve(!0)},!0);a.play();return F(b)},collapse:function(){if(this._collapseDeferred)return F(this._collapseDeferred);this._expandDeferred&&
(this._expandDeferred.cancel(),delete this._expandDeferred);this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","false");d.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var a=f.wipeOut({node:this.containerNode,duration:D.defaultDuration}),b=this._collapseDeferred=new g(function(){a.stop()});n.after(a,"onEnd",function(){b.resolve(!0)},
!0);a.play();return F(b)},indent:0,setChildItems:function(a){var f=this.tree,c=f.model,p=[],d=f.focusedChild,q=this.getChildren();l.forEach(q,function(a){B.prototype.removeChild.call(this,a)},this);this.defer(function(){l.forEach(q,function(a){if(!a._destroyed&&!a.getParent()){f.dndController.removeTreeNode(a);var b=function(a){var p=c.getIdentity(a.item),d=f._itemNodesMap[p];1==d.length?delete f._itemNodesMap[p]:(p=l.indexOf(d,a),-1!=p&&d.splice(p,1));l.forEach(a.getChildren(),b)};b(a);if(f.persist){var p=
l.map(a.getTreePath(),function(a){return f.model.getIdentity(a)}).join("/"),q;for(q in f._openedNodes)q.substr(0,p.length)==p&&delete f._openedNodes[q];f._saveExpandedNodes()}f.lastFocusedChild&&!e.isDescendant(f.lastFocusedChild,f.domNode)&&delete f.lastFocusedChild;d&&!e.isDescendant(d,f.domNode)&&f.focus();a.destroyRecursive()}})});this.state="Loaded";a&&0<a.length?(this.isExpandable=!0,l.forEach(a,function(a){var b=c.getIdentity(a),d=f._itemNodesMap[b],e;if(d)for(var q=0;q<d.length;q++)if(d[q]&&
!d[q].getParent()){e=d[q];e.set("indent",this.indent+1);break}e||(e=this.tree._createTreeNode({item:a,tree:f,isExpandable:c.mayHaveChildren(a),label:f.getLabel(a),labelType:f.model&&f.model.labelType||"text",tooltip:f.getTooltip(a),ownerDocument:f.ownerDocument,dir:f.dir,lang:f.lang,textDir:f.textDir,indent:this.indent+1}),d?d.push(e):f._itemNodesMap[b]=[e]);this.addChild(e);(this.tree.autoExpand||this.tree._state(e))&&p.push(f._expandNode(e))},this),l.forEach(this.getChildren(),function(a){a._updateLayout()})):
this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);a=b(p);this.tree._startPaint(a);return F(a)},getTreePath:function(){for(var a=this,b=[];a&&a!==this.tree.rootNode;)b.unshift(a.item),a=a.getParent();b.unshift(this.tree.rootNode.item);return b},getIdentity:function(){return this.tree.model.getIdentity(this.item)},removeChild:function(a){this.inherited(arguments);var b=this.getChildren();0==b.length&&(this.isExpandable=!1,this.collapse());l.forEach(b,function(a){a._updateLayout()})},
makeExpandable:function(){this.isExpandable=!0;this._setExpando(!1)},setSelected:function(a){this.labelNode.setAttribute("aria-selected",a?"true":"false");d.toggle(this.rowNode,"dijitTreeRowSelected",a)},focus:function(){y.focus(this.focusNode)}});q("dojo-bidi")&&L.extend({_setTextDirAttr:function(a){if(a&&(this.textDir!=a||!this._created))this._set("textDir",a),this.applyTextDir(this.labelNode),l.forEach(this.getChildren(),function(b){b.set("textDir",a)},this)}});var N=k("dijit.Tree",[x,K,u,t],{baseClass:"dijitTree",
store:null,model:null,query:null,label:"",showRoot:!0,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:!1,openOnDblClick:!1,templateString:I,persist:!1,autoExpand:!1,dndController:M,dndParams:"onDndDrop itemCreator onDndCancel checkAcceptance checkItemAcceptance dragThreshold betweenThreshold".split(" "),onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(a,
b){r.publish(this.id,z.mixin({tree:this,event:a},b||{}))},postMixInProperties:function(){this.tree=this;this.autoExpand&&(this.persist=!1);this._itemNodesMap={};!this.cookieName&&this.id&&(this.cookieName=this.id+"SaveStateCookie");this.expandChildrenDeferred=new g;this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments)},postCreate:function(){this._initState();var a=this;this.own(w(this.containerNode,w.selector(".dijitTreeNode",A.enter),function(b){a._onNodeMouseEnter(v.byNode(this),
b)}),w(this.containerNode,w.selector(".dijitTreeNode",A.leave),function(b){a._onNodeMouseLeave(v.byNode(this),b)}),w(this.containerNode,w.selector(".dijitTreeRow",s.press),function(b){a._onNodePress(v.getEnclosingWidget(this),b)}),w(this.containerNode,w.selector(".dijitTreeRow",s),function(b){a._onClick(v.getEnclosingWidget(this),b)}),w(this.containerNode,w.selector(".dijitTreeRow","dblclick"),function(b){a._onDblClick(v.getEnclosingWidget(this),b)}));this.model||this._store2model();this.own(n.after(this.model,
"onChange",z.hitch(this,"_onItemChange"),!0),n.after(this.model,"onChildrenChange",z.hitch(this,"_onItemChildrenChange"),!0),n.after(this.model,"onDelete",z.hitch(this,"_onItemDelete"),!0));this.inherited(arguments);if(this.dndController){z.isString(this.dndController)&&(this.dndController=z.getObject(this.dndController));for(var b={},f=0;f<this.dndParams.length;f++)this[this.dndParams[f]]&&(b[this.dndParams[f]]=this[this.dndParams[f]]);this.dndController=new this.dndController(this,b)}this._load();
this.onLoadDeferred=F(this.pendingCommandsPromise);this.onLoadDeferred.then(z.hitch(this,"onLoad"))},_store2model:function(){this._v10Compat=!0;p.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var a={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};this.params.mayHaveChildren&&(a.mayHaveChildren=z.hitch(this,"mayHaveChildren"));this.params.getItemChildren&&(a.getChildren=z.hitch(this,function(a,b,f){this.getItemChildren(this._v10Compat&&
a===this.model.root?null:a,b,f)}));this.model=new J(a);this.showRoot=Boolean(this.label)},onLoad:function(){},_load:function(){this.model.getRoot(z.hitch(this,function(a){var b=this.rootNode=this.tree._createTreeNode({item:a,tree:this,isExpandable:!0,label:this.label||this.getLabel(a),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1});this.showRoot?(this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular),this.rootLoadingIndicator.style.display=
"none"):(b.rowNode.style.display="none",this.domNode.setAttribute("role","presentation"),this.domNode.removeAttribute("aria-expanded"),this.domNode.removeAttribute("aria-multiselectable"),this["aria-label"]?(b.containerNode.setAttribute("aria-label",this["aria-label"]),this.domNode.removeAttribute("aria-label")):this["aria-labelledby"]&&(b.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]),this.domNode.removeAttribute("aria-labelledby")),b.labelNode.setAttribute("role","presentation"),
b.containerNode.setAttribute("role","tree"),b.containerNode.setAttribute("aria-expanded","true"),b.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular));this.containerNode.appendChild(b.domNode);a=this.model.getIdentity(a);this._itemNodesMap[a]?this._itemNodesMap[a].push(b):this._itemNodesMap[a]=[b];b._updateLayout();this._expandNode(b).then(z.hitch(this,function(){this._destroyed||(this.rootLoadingIndicator.style.display="none",this.expandChildrenDeferred.resolve(!0))}))}),
z.hitch(this,function(a){console.error(this,": error loading root: ",a)}))},getNodesByItem:function(a){if(!a)return[];a=z.isString(a)?a:this.model.getIdentity(a);return[].concat(this._itemNodesMap[a])},_setSelectedItemAttr:function(a){this.set("selectedItems",[a])},_setSelectedItemsAttr:function(a){var b=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(z.hitch(this,function(){var f=l.map(a,function(a){return!a||z.isString(a)?a:b.model.getIdentity(a)}),c=[];l.forEach(f,function(a){c=
c.concat(b._itemNodesMap[a]||[])});this.set("selectedNodes",c)}))},_setPathAttr:function(a){return a.length?F(this.set("paths",[a]).then(function(a){return a[0]})):F(this.set("paths",[]).then(function(a){return a[0]}))},_setPathsAttr:function(a){function f(a,b){var p=a.shift(),d=l.filter(b,function(a){return a.getIdentity()==p})[0];if(d)return a.length?c._expandNode(d).then(function(){return f(a,d.getChildren())}):d;throw new N.PathError("Could not expand path at "+p);}var c=this;return F(this.pendingCommandsPromise=
this.pendingCommandsPromise.always(function(){return b(l.map(a,function(a){a=l.map(a,function(a){return z.isString(a)?a:c.model.getIdentity(a)});if(a.length)return f(a,[c.rootNode]);throw new N.PathError("Empty path");}))}).then(function(a){c.set("selectedNodes",a);return c.paths}))},_setSelectedNodeAttr:function(a){this.set("selectedNodes",[a])},_setSelectedNodesAttr:function(a){this.dndController.setSelection(a)},expandAll:function(){function a(c){return f._expandNode(c).then(function(){var f=l.filter(c.getChildren()||
[],function(a){return a.isExpandable});return b(l.map(f,a))})}var f=this;return F(a(this.rootNode))},collapseAll:function(){function a(c){var p=l.filter(c.getChildren()||[],function(a){return a.isExpandable}),p=b(l.map(p,a));return!c.isExpanded||c==f.rootNode&&!f.showRoot?p:p.then(function(){return f._collapseNode(c)})}var f=this;return F(a(this.rootNode))},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(a){return this.model.getLabel(a)},getIconClass:function(a,b){return!a||
this.model.mayHaveChildren(a)?b?"dijitFolderOpened":"dijitFolderClosed":"dijitLeaf"},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return""},_onDownArrow:function(a,b){var f=this._getNext(b);f&&f.isTreeNode&&this.focusNode(f)},_onUpArrow:function(a,b){var f=b.getPreviousSibling();if(f)for(b=f;b.isExpandable&&b.isExpanded&&b.hasChildren();)f=b.getChildren(),b=f[f.length-1];else if(f=b.getParent(),
this.showRoot||f!==this.rootNode)b=f;b&&b.isTreeNode&&this.focusNode(b)},_onRightArrow:function(a,b){b.isExpandable&&!b.isExpanded?this._expandNode(b):b.hasChildren()&&(b=b.getChildren()[0])&&b.isTreeNode&&this.focusNode(b)},_onLeftArrow:function(a,b){if(b.isExpandable&&b.isExpanded)this._collapseNode(b);else{var f=b.getParent();f&&(f.isTreeNode&&(this.showRoot||f!==this.rootNode))&&this.focusNode(f)}},focusLastChild:function(){var a=this._getLast();a&&a.isTreeNode&&this.focusNode(a)},_getFirst:function(){return this.showRoot?
this.rootNode:this.rootNode.getChildren()[0]},_getLast:function(){for(var a=this.rootNode;a.isExpanded;){var b=a.getChildren();if(!b.length)break;a=b[b.length-1]}return a},_getNext:function(a){if(a.isExpandable&&a.isExpanded&&a.hasChildren())return a.getChildren()[0];for(;a&&a.isTreeNode;){var b=a.getNextSibling();if(b)return b;a=a.getParent()}return null},childSelector:".dijitTreeRow",isExpandoNode:function(a,b){return e.isDescendant(a,b.expandoNode)||e.isDescendant(a,b.expandoNodeText)},_onNodePress:function(a,
b){this.focusNode(a)},__click:function(a,b,f,c){var p=this.isExpandoNode(b.target,a);a.isExpandable&&(f||p)?this._onExpandoClick({node:a}):(this._publish("execute",{item:a.item,node:a,evt:b}),this[c](a.item,a,b),this.focusNode(a));b.stopPropagation();b.preventDefault()},_onClick:function(a,b){this.__click(a,b,this.openOnClick,"onClick")},_onDblClick:function(a,b){this.__click(a,b,this.openOnDblClick,"onDblClick")},_onExpandoClick:function(a){a=a.node;this.focusNode(a);a.isExpanded?this._collapseNode(a):
this._expandNode(a)},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(a){p.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");return this._getNext(a)},_getRootOrFirstNode:function(){p.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");return this._getFirst()},_collapseNode:function(a){a._expandNodeDeferred&&delete a._expandNodeDeferred;
if("Loading"!=a.state&&a.isExpanded){var b=a.collapse();this.onClose(a.item,a);this._state(a,!1);this._startPaint(b);return b}},_expandNode:function(a){if(a._expandNodeDeferred)return a._expandNodeDeferred;var b=this.model,f=a.item,c=this;a._loadDeferred||(a.markProcessing(),a._loadDeferred=new g,b.getChildren(f,function(b){a.unmarkProcessing();a.setChildItems(b).then(function(){a._loadDeferred.resolve(b)})},function(b){console.error(c,": error loading "+a.label+" children: ",b);a._loadDeferred.reject(b)}));
b=a._loadDeferred.then(z.hitch(this,function(){var b=a.expand();this.onOpen(a.item,a);this._state(a,!0);return b}));this._startPaint(b);return b},focusNode:function(a){var b=this.domNode.scrollLeft;this.focusChild(a);this.domNode.scrollLeft=b},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(a){var b=this.model.getIdentity(a);if(b=this._itemNodesMap[b]){var f=this.getLabel(a),c=this.getTooltip(a);l.forEach(b,function(b){b.set({item:a,label:f,tooltip:c});b._updateItemClasses(a)})}},
_onItemChildrenChange:function(a,b){var f=this.model.getIdentity(a);(f=this._itemNodesMap[f])&&l.forEach(f,function(a){a.setChildItems(b)})},_onItemDelete:function(a){a=this.model.getIdentity(a);var b=this._itemNodesMap[a];b&&(l.forEach(b,function(a){this.dndController.removeTreeNode(a);var b=a.getParent();b&&b.removeChild(a);this.lastFocusedChild&&!e.isDescendant(this.lastFocusedChild,this.domNode)&&delete this.lastFocusedChild;this.focusedChild&&!e.isDescendant(this.focusedChild,this.domNode)&&
this.focus();a.destroyRecursive()},this),delete this._itemNodesMap[a])},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var a=h(this.cookieName);a&&l.forEach(a.split(","),function(a){this._openedNodes[a]=!0},this)}},_state:function(a,b){if(!this.persist)return!1;var f=l.map(a.getTreePath(),function(a){return this.model.getIdentity(a)},this).join("/");if(1===arguments.length)return this._openedNodes[f];b?this._openedNodes[f]=!0:delete this._openedNodes[f];this._saveExpandedNodes()},
_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var a=[],b;for(b in this._openedNodes)a.push(b);h(this.cookieName,a.join(","),{expires:365})}},destroy:function(){this._curSearch&&(this._curSearch.timer.remove(),delete this._curSearch);this.rootNode&&this.rootNode.destroyRecursive();this.dndController&&!z.isString(this.dndController)&&this.dndController.destroy();this.rootNode=null;this.inherited(arguments)},destroyRecursive:function(){this.destroy()},resize:function(b){b&&a.setMarginBox(this.domNode,
b);this._nodePixelIndent=a.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(z.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths()}))},_outstandingPaintOperations:0,_startPaint:function(a){this._outstandingPaintOperations++;this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);var b=z.hitch(this,function(){this._outstandingPaintOperations--;0>=this._outstandingPaintOperations&&(!this._adjustWidthsTimer&&
this._started)&&(this._adjustWidthsTimer=this.defer("_adjustWidths"))});Q(a,b,b)},_adjustWidths:function(){this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%"},_createTreeNode:function(a){return new L(a)},focus:function(){this.lastFocusedChild?this.focusNode(this.lastFocusedChild):this.focusFirstChild()}});q("dojo-bidi")&&N.extend({_setTextDirAttr:function(a){a&&
this.textDir!=a&&(this._set("textDir",a),this.rootNode.set("textDir",a))}});N.PathError=m("TreePathError");N._TreeNode=L;return N})},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(l,n,h,k){return h("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:!1,constructor:function(g){k.mixin(this,g);this.connects=[];g=this.store;
if(!g.getFeatures()["dojo.data.api.Identity"])throw Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");g.getFeatures()["dojo.data.api.Notification"]&&(this.connects=this.connects.concat([n.after(g,"onNew",k.hitch(this,"onNewItem"),!0),n.after(g,"onDelete",k.hitch(this,"onDeleteItem"),!0),n.after(g,"onSet",k.hitch(this,"onSetItem"),!0)]))},destroy:function(){for(var g;g=this.connects.pop();)g.remove()},getRoot:function(g,b){this.root?g(this.root):this.store.fetch({query:this.query,
onComplete:k.hitch(this,function(b){if(1!=b.length)throw Error("dijit.tree.TreeStoreModel: root query returned "+b.length+" items, but must return exactly one");this.root=b[0];g(this.root)}),onError:b})},mayHaveChildren:function(g){return l.some(this.childrenAttrs,function(b){return this.store.hasAttribute(g,b)},this)},getChildren:function(g,b,e){var d=this.store;if(d.isItemLoaded(g)){for(var a=[],c=0;c<this.childrenAttrs.length;c++)var m=d.getValues(g,this.childrenAttrs[c]),a=a.concat(m);var f=0;
this.deferItemLoadingUntilExpand||l.forEach(a,function(a){d.isItemLoaded(a)||f++});0==f?b(a):l.forEach(a,function(c,q){d.isItemLoaded(c)||d.loadItem({item:c,onItem:function(c){a[q]=c;0==--f&&b(a)},onError:e})})}else{var q=k.hitch(this,arguments.callee);d.loadItem({item:g,onItem:function(a){q(a,b,e)},onError:e})}},isItem:function(g){return this.store.isItem(g)},fetchItemByIdentity:function(g){this.store.fetchItemByIdentity(g)},getIdentity:function(g){return this.store.getIdentity(g)},getLabel:function(g){return this.labelAttr?
this.store.getValue(g,this.labelAttr):this.store.getLabel(g)},newItem:function(g,b,e){var d={parent:b,attribute:this.childrenAttrs[0]},a;this.newItemIdAttr&&g[this.newItemIdAttr]?this.fetchItemByIdentity({identity:g[this.newItemIdAttr],scope:this,onItem:function(c){c?this.pasteItem(c,null,b,!0,e):(a=this.store.newItem(g,d))&&void 0!=e&&this.pasteItem(a,b,b,!1,e)}}):(a=this.store.newItem(g,d))&&void 0!=e&&this.pasteItem(a,b,b,!1,e)},pasteItem:function(g,b,e,d,a){var c=this.store,m=this.childrenAttrs[0];
b&&l.forEach(this.childrenAttrs,function(a){if(c.containsValue(b,a,g)){if(!d){var f=l.filter(c.getValues(b,a),function(a){return a!=g});c.setValues(b,a,f)}m=a}});if(e)if("number"==typeof a){var f=c.getValues(e,m).slice();f.splice(a,0,g);c.setValues(e,m,f)}else c.setValues(e,m,c.getValues(e,m).concat(g))},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(g,b){b&&this.getChildren(b.item,k.hitch(this,function(e){this.onChildrenChange(b.item,e)}))},onDeleteItem:function(g){this.onDelete(g)},
onSetItem:function(g,b){if(-1!=l.indexOf(this.childrenAttrs,b))this.getChildren(g,k.hitch(this,function(b){this.onChildrenChange(g,b)}));else this.onChange(g)}})})},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(l,n,h,k,g){return n("dijit.tree.ForestStoreModel",g,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(b){this.root={store:this,root:!0,id:b.rootId,label:b.rootLabel,
children:b.rootChildren}},mayHaveChildren:function(b){return b===this.root||this.inherited(arguments)},getChildren:function(b,e,d){b===this.root?this.root.children?e(this.root.children):this.store.fetch({query:this.query,onComplete:k.hitch(this,function(a){this.root.children=a;e(a)}),onError:d}):this.inherited(arguments)},isItem:function(b){return b===this.root?!0:this.inherited(arguments)},fetchItemByIdentity:function(b){if(b.identity==this.root.id){var e=b.scope||h.global;b.onItem&&b.onItem.call(e,
this.root)}else this.inherited(arguments)},getIdentity:function(b){return b===this.root?this.root.id:this.inherited(arguments)},getLabel:function(b){return b===this.root?this.root.label:this.inherited(arguments)},newItem:function(b,e,d){return e===this.root?(this.onNewRootItem(b),this.store.newItem(b)):this.inherited(arguments)},onNewRootItem:function(){},pasteItem:function(b,e,d,a,c){if(e===this.root&&!a)this.onLeaveRoot(b);this.inherited(arguments,[b,e===this.root?null:e,d===this.root?null:d,a,
c]);if(d===this.root)this.onAddToRoot(b)},onAddToRoot:function(b){console.log(this,": item ",b," added to root")},onLeaveRoot:function(b){console.log(this,": item ",b," removed from root")},_requeryTop:function(){var b=this.root.children||[];this.store.fetch({query:this.query,onComplete:k.hitch(this,function(e){this.root.children=e;if(b.length!=e.length||l.some(b,function(b,a){return e[a]!=b}))this.onChildrenChange(this.root,e)})})},onNewItem:function(b,e){this._requeryTop();this.inherited(arguments)},
onDeleteItem:function(b){-1!=l.indexOf(this.root.children,b)&&this._requeryTop();this.inherited(arguments)},onSetItem:function(b,e,d,a){this._requeryTop();this.inherited(arguments)}})})},"dijit/tree/_dndSelector":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/dnd/common dojo/dom dojo/mouse dojo/on dojo/touch ../a11yclick ./_dndContainer".split(" "),function(l,n,h,k,g,b,e,d,a,c,m){return n("dijit.tree._dndSelector",m,{constructor:function(){this.selection=
{};this.anchor=null;this.events.push(d(this.tree.domNode,a.press,k.hitch(this,"onMouseDown")),d(this.tree.domNode,a.release,k.hitch(this,"onMouseUp")),d(this.tree.domNode,a.move,k.hitch(this,"onMouseMove")),d(this.tree.domNode,c.press,k.hitch(this,"onClickPress")),d(this.tree.domNode,c.release,k.hitch(this,"onClickRelease")))},singular:!1,getSelectedTreeNodes:function(){var a=[],b=this.selection,c;for(c in b)a.push(b[c]);return a},selectNone:function(){this.setSelection([]);return this},destroy:function(){this.inherited(arguments);
this.selection=this.anchor=null},addTreeNode:function(a,b){this.setSelection(this.getSelectedTreeNodes().concat([a]));b&&(this.anchor=a);return a},removeTreeNode:function(a){var c=l.filter(this.getSelectedTreeNodes(),function(c){return!b.isDescendant(c.domNode,a.domNode)});this.setSelection(c);return a},isTreeNodeSelected:function(a){return a.id&&!!this.selection[a.id]},setSelection:function(a){var b=this.getSelectedTreeNodes();l.forEach(this._setDifference(b,a),k.hitch(this,function(a){a.setSelected(!1);
this.anchor==a&&delete this.anchor;delete this.selection[a.id]}));l.forEach(this._setDifference(a,b),k.hitch(this,function(a){a.setSelected(!0);this.selection[a.id]=a}));this._updateSelectionProperties()},_setDifference:function(a,b){l.forEach(b,function(a){a.__exclude__=!0});var c=l.filter(a,function(a){return!a.__exclude__});l.forEach(b,function(a){delete a.__exclude__});return c},_updateSelectionProperties:function(){var a=this.getSelectedTreeNodes(),b=[],c=[];l.forEach(a,function(a){var f=a.getTreePath();
c.push(a);b.push(f)},this);a=l.map(c,function(a){return a.item});this.tree._set("paths",b);this.tree._set("path",b[0]||[]);this.tree._set("selectedNodes",c);this.tree._set("selectedNode",c[0]||null);this.tree._set("selectedItems",a);this.tree._set("selectedItem",a[0]||null)},onClickPress:function(a){if(!this.current||!this.current.isExpandable||!this.tree.isExpandoNode(a.target,this.current)){"mousedown"==a.type&&e.isLeft(a)&&a.preventDefault();var b="keydown"==a.type?this.tree.focusedChild:this.current;
if(b){var c=g.getCopyKeyState(a),d=b.id;!this.singular&&!a.shiftKey&&this.selection[d]?this._doDeselect=!0:(this._doDeselect=!1,this.userSelect(b,c,a.shiftKey))}}},onClickRelease:function(a){this._doDeselect&&(this._doDeselect=!1,this.userSelect("keyup"==a.type?this.tree.focusedChild:this.current,g.getCopyKeyState(a),a.shiftKey))},onMouseMove:function(){this._doDeselect=!1},onMouseDown:function(){},onMouseUp:function(){},_compareNodes:function(a,b){if(a===b)return 0;if("sourceIndex"in document.documentElement)return a.sourceIndex-
b.sourceIndex;if("compareDocumentPosition"in document.documentElement)return a.compareDocumentPosition(b)&2?1:-1;if(document.createRange){var c=doc.createRange();c.setStartBefore(a);var d=doc.createRange();d.setStartBefore(b);return c.compareBoundaryPoints(c.END_TO_END,d)}throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");},userSelect:function(a,b,c){if(this.singular)this.anchor==a&&b?this.selectNone():(this.setSelection([a]),this.anchor=a);else if(c&&
this.anchor){b=this._compareNodes(this.anchor.rowNode,a.rowNode);c=this.anchor;0>b?b=c:(b=a,a=c);for(c=[];b!=a;)c.push(b),b=this.tree._getNext(b);c.push(a);this.setSelection(c)}else this.selection[a.id]&&b?this.removeTreeNode(a):b?this.addTreeNode(a,!0):(this.setSelection([a]),this.anchor=a)},getItem:function(a){return{data:this.selection[a],type:["treeNode"]}},forInSelectedItems:function(a,b){b=b||h.global;for(var c in this.selection)a.call(b,this.getItem(c),c,this)}})})},"dijit/tree/_dndContainer":function(){define("dojo/aspect dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/on dojo/touch".split(" "),
function(l,n,h,k,g,b){return n("dijit.tree._dndContainer",null,{constructor:function(e,d){this.tree=e;this.node=e.domNode;k.mixin(this,d);this.containerState="";h.add(this.node,"dojoDndContainer");this.events=[g(this.node,b.enter,k.hitch(this,"onOverEvent")),g(this.node,b.leave,k.hitch(this,"onOutEvent")),l.after(this.tree,"_onNodeMouseEnter",k.hitch(this,"onMouseOver"),!0),l.after(this.tree,"_onNodeMouseLeave",k.hitch(this,"onMouseOut"),!0),g(this.node,"dragstart, selectstart",function(a){a.preventDefault()})]},
destroy:function(){for(var b;b=this.events.pop();)b.remove();this.node=this.parent=null},onMouseOver:function(b){this.current=b},onMouseOut:function(){this.current=null},_changeState:function(b,d){var a="dojoDnd"+b,c=b.toLowerCase()+"State";h.replace(this.node,a+d,a+this[c]);this[c]=d},_addItemClass:function(b,d){h.add(b,"dojoDndItem"+d)},_removeItemClass:function(b,d){h.remove(b,"dojoDndItem"+d)},onOverEvent:function(){this._changeState("Container","Over")},onOutEvent:function(){this._changeState("Container",
"")}})})},"jimu/dijit/LayerChooserFromMapWithDropbox":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-style dojo/dom-construct dojo/on dojo/Evented dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/LayerChooserFromMapWithDropbox.html".split(" "),function(l,n,h,k,g,b,e,d,a,c){return l([d,a,e],{templateString:c,baseClass:"jimu-layer-chooser-from-map-withdropbox",declaredClass:"jimu.dijit.LayerChooserFromMapWithDropbox",layerChooser:null,postCreate:function(){this.inherited(arguments);
this.layerChooser&&(this.layerChooser.domNode.style.zIndex=1,this.layerChooser.placeAt(this.layerChooseNode),this.own(b(this.layerChooser,"tree-click",n.hitch(this,this._onTreeClick))))},_onDropDownClick:function(){"none"===k.get(this.layerChooseNode,"display")?this.showChooseNode():this.hideChooseNode()},showChooseNode:function(){k.set(this.layerChooseNode,"display","")},hideChooseNode:function(){k.set(this.layerChooseNode,"display","none")},_onTreeClick:function(){g.empty(this.layerNameNode);var a=
[];h.forEach(this.layerChooser.getSelectedItems(),function(b){g.place("\x3cspan\x3e"+b.layerInfo.title+"\x3c/span\x3e",this.layerNameNode);a.push(b.layerInfo.layerObject)},this);var b=!1;if(!this.selectedLayers||this.selectedLayers.length!==a.length)this.selectedLayers=a,b=!0;else{var c=h.map(a,function(a){return a.id}),d=h.map(this.selectedLayers,function(a){return a.id});h.every(c,function(a){return-1<d.indexOf(a)})||(this.selectedLayers=a,b=!0)}b&&0<this.selectedLayers.length&&(k.set(this.layerChooseNode,
"display","none"),this.emit("selection-change",this.selectedLayers))}})})},"widgets/RelatedTableCharts/setting/ChartSetting":function(){define("dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-attr dojo/dom-construct dojo/_base/declare dojo/_base/lang dojo/on dojo/Evented dojo/text!./ChartSetting.html jimu/dijit/TabContainer3 ./ChartThemeSelector ./FieldSelector jimu/dijit/ColorPicker dojo/dom-class dojo/query dojo/_base/Color dojo/_base/array esri/tasks/query esri/tasks/QueryTask dojo/dom-style jimu/dijit/Message ../ChartLayout dijit/popup dojox/charting/themes/GreySkies jimu/dijit/SimpleTable dijit/form/Textarea".split(" "),
function(l,n,h,k,g,b,e,d,a,c,m,f,q,p,G,z,w,r,A,Q,s,y,v,D,x,u){return b([l,n,h,a],{baseClass:"jimu-widget-RelatedTableCharts-setting",templateString:c,_widgets:[],_stringFieldType:"esriFieldTypeString",_oidFieldType:"esriFieldTypeOID",_numberFieldTypes:["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble"],tr:null,layerDetails:null,config:{},_chartColorType:{singleColor:"SingleColor",byThemeColor:"ColorByTheme",byFieldValue:"ColorByFieldValue"},selectedNode:null,
fieldColorPicker:null,defaultColor:"#000000",constructor:function(){this._widgets=[]},startup:function(){this.inherited(arguments)},postCreate:function(){this._createColorByFieldTable();this._initSelf()},destroy:function(){this.tr=null;delete this.tr;r.forEach(this._widgets,function(a){a.destroy()});this._widgets=[];this.inherited(arguments)},getConfig:function(a){var b={sectionTitle:"",chartTitle:"",description:"",chartType:"",dataSeriesField:"",labelField:"",chartColor:{},labelXAxis:"",labelYAxis:""};
if(a&&""===this.sectionTitleTextBox.get("value"))return this._errorMessage(this.nls.errMsgSectionTitle),!1;b.sectionTitle=this.sectionTitleTextBox.get("value");b.chartTitle=this.chartTitleTextBox.get("value");b.description=this.chartDescriptionTextBoxArea.get("value");b.chartType=this._getChartType();b.dataSeriesField=this.dataSeriesFieldDropdown.get("value");b.labelField=this.labelSeriesFieldDropdown.get("value");if(a&&this.rdoColorByFieldValue.checked&&"esriCTEmptyOption"===this.ColorByFieldValueDropdown.value)return this._errorMessage(this.nls.errMsgFieldByValue),
!1;b.chartColor=e.clone(this._getChartColorConfig());b.labelXAxis=this.xAxisTextBox.get("value");b.labelYAxis=this.yAxisTextBox.get("value");return b},setConfig:function(a){a?(a.sectionTitle&&""!==a.sectionTitle?this.sectionTitleTextBox.set("value",a.sectionTitle):this.sectionTitleTextBox.set("value",this.layerDetails.polygonLayerInfo.title),a.chartTitle&&this.chartTitleTextBox.set("value",a.chartTitle),a.description&&this.chartDescriptionTextBoxArea.set("value",a.description),a.chartType?this._setChartType(a.chartType):
this._setChartType("BarChart"),a.dataSeriesField&&this.dataSeriesFieldDropdown.set("value",a.dataSeriesField),a.labelField&&this.labelSeriesFieldDropdown.set("value",a.labelField),a.chartColor&&this._setChartColorType(a.chartColor),a.labelXAxis&&this.xAxisTextBox.set("value",a.labelXAxis),a.labelYAxis&&this.yAxisTextBox.set("value",a.labelYAxis)):this.sectionTitleTextBox.set("value",this.layerDetails.polygonLayerInfo.title)},_createColorByFieldTable:function(){this.colorByFieldTable=new u({fields:[{name:this.nls.fieldColorColor,
title:this.nls.fieldColorColor,"class":"label",type:"empty",width:"50px"},{name:this.nls.fieldColorLabel,title:this.nls.fieldColorLabel,"class":"label",type:"empty"}]},this.colorByFieldTablePanel);this.colorByFieldTable.startup()},_errorMessage:function(a){(new y({message:a})).message=a},_getChartType:function(){var a;this.rdoBarChart.get("checked")?a="BarChart":this.rdoPieChart.get("checked")&&(a="PieChart");return a},_setChartType:function(a){"BarChart"===a?(this.rdoBarChart.set("checked",!0),this.rdoPieChart.set("checked",
!1)):"PieChart"===a&&(this.rdoPieChart.set("checked",!0),this.rdoBarChart.set("checked",!1))},_initSelf:function(){this._initTabs();this.colorPicker.setColor(new w(this.defaultColor));this._initFieldSelectors();this._createRelatedLayerFieldOptions(this.dataSeriesFieldDropdown,!1,this._numberFieldTypes);this._createRelatedLayerFieldOptions(this.labelSeriesFieldDropdown,!0,null);this._createFieldColorPicker();this._createThemeSelector(this.themeSelectorDiv);d(this.colorPicker,"click",e.hitch(this,function(){this.rdoSingleColor.set("checked",
!0)}));d(this.themeSelectorDiv,"click",e.hitch(this,function(){this.rdoColorByTheme.set("checked",!0)}));d(this.ColorByFieldValueDropdown,"click",e.hitch(this,function(){this.rdoColorByFieldValue.set("checked",!0)}));this.layerDetails.polygonLayerInfo.supportsDistinct&&(G.remove(this.colorByFieldContainer,"esriCTHidden"),this._createColorByFieldSelector())},_createFieldColorPicker:function(){this.fieldColorPicker=new p;this.fieldColorPicker.startup();d(this.fieldColorPicker.tooltipDialog,"close",
e.hitch(this,function(){var a;G.contains(this.selectedNode.parentElement.parentElement,"jimu-state-active")&&(a=z(".jimu-state-active",this.colorByFieldTableContainer),0<a.length&&a.removeClass("jimu-state-active"))}));d(this.fieldColorPicker,"change",e.hitch(this,function(){var a,b=this.fieldColorPicker.color.toHex();a=z(".jimu-state-active .fieldColorPicker",this.colorByFieldTableContainer);0<a.length?G.contains(this.selectedNode.parentElement.parentElement,"jimu-state-active")?r.forEach(a,e.hitch(this,
function(a){s.set(a,"backgroundColor",b);k.set(a.parentElement.parentElement,"field_Color",b)})):(s.set(this.selectedNode,"backgroundColor",b),k.set(this.selectedNode.parentElement.parentElement,"field_Color",b)):(s.set(this.selectedNode,"backgroundColor",b),k.set(this.selectedNode.parentElement.parentElement,"field_Color",b))}))},_setChartColorType:function(a){a&&a.colorType&&(this.rdoSingleColor.set("checked",!1),a.colorType===this._chartColorType.singleColor?(this.rdoSingleColor.set("checked",
!0),this.colorPicker.setColor(new w(a.colorInfo))):a.colorType===this._chartColorType.byThemeColor?(this.rdoColorByTheme.set("checked",!0),this.config.chartColor&&(this.config.chartColor.colorType===this._chartColorType.byThemeColor&&this.chartThemeSelector)&&setTimeout(e.hitch(this,function(){this.chartThemeSelector.selectTheme(a.colorInfo)}),500)):a.colorType===this._chartColorType.byFieldValue&&(this.rdoColorByFieldValue.set("checked",!0),this.ColorByFieldValueDropdown.set("value",a.colorInfo.layerField),
G.remove(this.colorByFieldTableContainer,"esriCTHidden")))},_initTabs:function(){var a,b;a={title:this.nls.settingTabTitle,content:this.settingsTabNode};b={title:this.nls.layoutTabTitle,content:this.layoutTabNode};this.tab=new m({tabs:[a,b]});this.tab.placeAt(this.tabDiv);this.own(d(this.tab,"tabChanged",e.hitch(this,function(a){a===b.title&&this._updatePreview()})))},_updatePreview:function(){var a;g.empty(this.layoutDiv);a={chartConfig:this.getConfig(),isPreview:!0};a.chartConfig&&("esriCTEmptyOption"===
a.chartConfig.labelField&&(a.chartConfig.labelField=" "),a.chartData=this._createStaticDataForLayout(a.chartConfig.chartType,a.chartConfig.labelField,a.chartConfig.dataSeriesField),a=new v({config:a}),a.placeAt(g.create("div",{},this.layoutDiv)),a.startup())},_createStaticDataForLayout:function(a,b,f){var c={chartSeries:[],chartLabels:[],selectedTheme:x};switch(a){case "BarChart":c.chartSeries=[{y:65},{y:35},{y:40},{y:55},{y:50}];c.chartLabels=[{value:1,y:65,text:""},{value:2,y:35,text:""},{value:3,
y:40,text:""},{value:4,y:55,text:""},{value:5,y:50,text:""}];c.fill="#7989a0";break;case "PieChart":c.chartSeries=[{y:65,text:"{"+f+" %}"},{y:35,text:"{"+b+"}"}],c.chartLabels=[{value:1,y:65},{value:2,y:35}]}return c},_initFieldSelectors:function(){this._createFieldSelector(this.titleFieldSelectorDiv,this.chartTitleTextBox,this.layerDetails.polygonLayerInfo.fields);this._createFieldSelector(this.descriptionFieldSelectorDiv,this.chartDescriptionTextBoxArea,this.layerDetails.polygonLayerInfo.fields);
this._createFieldSelector(this.xAxisFieldSelectorDiv,this.xAxisTextBox,this.layerDetails.polygonLayerInfo.fields);this._createFieldSelector(this.yAxisFieldSelectorDiv,this.yAxisTextBox,this.layerDetails.polygonLayerInfo.fields)},_createFieldSelector:function(a,b,f){a=new q({fields:f,showOnlyNumericFields:!1,hideOnSelect:!0},g.create("div",{},a));a.onSelect=e.hitch(this,function(a){var f=k.get(b,"value"),f=f+"{"+a.name+"}";b.set?b.set("value",f):k.set(b,"value",f)});this._widgets.push(a);return a},
_createThemeSelector:function(a){this.chartThemeSelector||(this.chartThemeSelector=new f({},g.create("div",{},a)),this._widgets.push(this.chartThemeSelector));return this.chartThemeSelector},_onSectionTitleChanged:function(){this.emit("sectionTitleChanged",this.sectionTitleTextBox.get("value"))},showMainLoadingIndicator:function(){this.emit("showLoadingIndicator")},hideMainLoadingIndicator:function(){this.emit("hideLoadingIndicator")},_onChartTypeChanged:function(){this.rdoPieChart.get("checked")?
(G.add(this.xAxisArea,"esriCTHidden"),G.add(this.yAxisArea,"esriCTHidden")):(G.remove(this.xAxisArea,"esriCTHidden"),G.remove(this.yAxisArea,"esriCTHidden"))},_createRelatedLayerFieldOptions:function(a,b,f){var c={},d,p;if((d=this.layerDetails.relatedLayerInfo.fields)&&0<d.length){b&&a.addOption({value:"esriCTEmptyOption",label:this.nls.defaultFieldSelectLabel,selected:!0});for(p=0;p<d.length;p++)c=!0,f&&0>f.indexOf(d[p].type)&&(c=!1),c&&(c={value:d[p].name,label:d[p].name,selected:!1},0===p&&!b&&
(c.selected=!0),a.addOption(c))}},_createColorByFieldSelector:function(){g.empty(this.ColorByFieldValueDropdown);this._createRelatedLayerFieldOptions(this.ColorByFieldValueDropdown,!0);d(this.ColorByFieldValueDropdown,"change",e.hitch(this,function(a){this.showMainLoadingIndicator();"esriCTEmptyOption"===a?(this._removeTableRows(),G.add(this.colorByFieldTableContainer,"esriCTHidden"),this.hideMainLoadingIndicator()):this._getDistintValueForLayerField(a)}))},_getDistintValueForLayerField:function(a){var b,
f;this._selectedUniqueValues=[];b=new Q(this.layerDetails.relatedLayerInfo.url);f=new A;f.where="1\x3d1";f.returnDistinctValues=!0;f.returnGeometry=!1;f.outFields=[a];b.execute(f,e.hitch(this,function(b){r.forEach(b.features,e.hitch(this,function(b){this._selectedUniqueValues.push(b.attributes[a])}));0<this._selectedUniqueValues.length&&b.fields&&0<b.fields.length&&b.fields[0].type?(b=e.clone(b.fields[0]),1<this._selectedUniqueValues.length&&this._sortUniqueValueData(b.type),this._createTableRows(b)):
(this._errorMessage(this.nls.errMsgFieldValuesNotFound),this.hideMainLoadingIndicator())}),e.hitch(this,function(){this._errorMessage(this.nls.errMsgFieldValuesNotFound);this.hideMainLoadingIndicator()}))},_removeTableRows:function(){var a,b;if((a=this.colorByFieldTable.getRows())&&0<a.length)for(b=0;b<a.length;b++)this.colorByFieldTable.deleteRow(a[b])},_createTableRows:function(a){var b,f;this._removeTableRows();G.remove(this.colorByFieldTableContainer,"esriCTHidden");r.forEach(this._selectedUniqueValues,
e.hitch(this,function(c){var p,q;p=this.colorByFieldTable.addRow({});q=c;p.success&&p.tr&&("esriFieldTypeDate"===a.type&&(q=this._getLocaleFormatedDate(c)),b=p.tr,f=z(".simple-table-cell",b),this._createColorPicker(b,c,f[0]),this._createLabelFields(q,f[1]));b&&d(b,"click",e.hitch(this,function(a){this._toggleRowSelection(a.currentTarget)}))}));this.hideMainLoadingIndicator()},_toggleRowSelection:function(a){G.contains(a,"jimu-state-active")?G.remove(a,"jimu-state-active"):G.add(a,"jimu-state-active")},
_createLabelFields:function(a,b){g.create("label",{innerHTML:a,title:a},b)},_createColorPicker:function(a,b,f){var c;f=g.create("div",{"class":"fieldColorPicker"},f);c=this.config&&this.config.chartColor&&this.config.chartColor.colorInfo&&this.config.chartColor.colorInfo.layerFieldValues&&this.config.chartColor.colorInfo.layerFieldValues[b]?this.config.chartColor.colorInfo.layerFieldValues[b]:this.defaultColor;s.set(f,"backgroundColor",c);k.set(a,"fieldVal",b);k.set(a,"field_Color",c);d(f,"click",
e.hitch(this,function(a){a.stopPropagation();a.preventDefault();this.selectedNode=a.currentTarget;var b=k.get(this.selectedNode.parentElement.parentElement,"field_Color");this.fieldColorPicker.setColor(new w(b));this.fieldColorPicker.picker.setColor((new w(b)).toHex(),!0);D.open({popup:this.fieldColorPicker.tooltipDialog,around:a.currentTarget})}))},_getColorByFieldValue:function(){var a,b={},f={},c;c=this.colorByFieldTable.getRows();for(a=0;a<c.length;a++)f[k.get(c[a],"fieldVal")]=k.get(c[a],"field_Color");
b.layerFieldValues=f;b.layerField=this.ColorByFieldValueDropdown.value;return b},_getChartColorConfig:function(){var a={};this.rdoSingleColor.checked?(a.colorType=this._chartColorType.singleColor,a.colorInfo=this.colorPicker.getColor().toHex()):this.rdoColorByTheme.checked?(a.colorType=this._chartColorType.byThemeColor,a.colorInfo=this.chartThemeSelector.selectedTheme):this.rdoColorByFieldValue.checked&&(a.colorType=this._chartColorType.byFieldValue,a.colorInfo=this._getColorByFieldValue());return a},
_sortUniqueValueData:function(a){"esriFieldTypeString"===a?this._selectedUniqueValues.sort():this._selectedUniqueValues.sort(e.hitch(this,function(a,b){return a-b}))},_getLocaleFormatedDate:function(a){return(new Date(a)).toLocaleDateString()}})})},"widgets/RelatedTableCharts/setting/ChartThemeSelector":function(){define("dojo/_base/declare jimu/BaseWidgetSetting dijit/_WidgetsInTemplateMixin dojo/text!./ChartThemeSelector.html dojo/_base/lang dojox/charting/Chart2D dojo/on dojo/dom-style dojo/dom-attr dojo/dom-construct dojo/_base/array".split(" "),
function(l,n,h,k,g,b,e,d,a,c,m){return l([n,h],{baseClass:"jimu-widget-RelatedTableCharts-setting",templateString:k,selectedTheme:null,themes:[{themeName:"Adobebricks",className:"dojox/charting/themes/Adobebricks"},{themeName:"Algae",className:"dojox/charting/themes/Algae"},{themeName:"Bahamation",className:"dojox/charting/themes/Bahamation"},{themeName:"BlueDusk",className:"dojox/charting/themes/BlueDusk"},{themeName:"CubanShirts",className:"dojox/charting/themes/CubanShirts"},{themeName:"Desert",
className:"dojox/charting/themes/Desert"},{themeName:"Distinctive",className:"dojox/charting/themes/Distinctive"},{themeName:"Dollar",className:"dojox/charting/themes/Dollar"},{themeName:"Grasshopper",className:"dojox/charting/themes/Grasshopper"},{themeName:"Grasslands",className:"dojox/charting/themes/Grasslands"},{themeName:"GreySkies",className:"dojox/charting/themes/GreySkies"},{themeName:"Harmony",className:"dojox/charting/themes/Harmony"},{themeName:"IndigoNation",className:"dojox/charting/themes/IndigoNation"},
{themeName:"Ireland",className:"dojox/charting/themes/Ireland"},{themeName:"MiamiNice",className:"dojox/charting/themes/MiamiNice"},{themeName:"Minty",className:"dojox/charting/themes/Minty"},{themeName:"PurpleRain",className:"dojox/charting/themes/PurpleRain"},{themeName:"RoyalPurples",className:"dojox/charting/themes/RoyalPurples"},{themeName:"SageToLime",className:"dojox/charting/themes/SageToLime"},{themeName:"Tufte",className:"dojox/charting/themes/Tufte"},{themeName:"WatersEdge",className:"dojox/charting/themes/WatersEdge"},
{themeName:"Wetland",className:"dojox/charting/themes/Wetland"},{themeName:"PlotKit.blue",className:"dojox/charting/themes/PlotKit/blue"},{themeName:"PlotKit.cyan",className:"dojox/charting/themes/PlotKit/cyan"},{themeName:"PlotKit.green",className:"dojox/charting/themes/PlotKit/green"},{themeName:"PlotKit.orange",className:"dojox/charting/themes/PlotKit/orange"},{themeName:"PlotKit.purple",className:"dojox/charting/themes/PlotKit/purple"},{themeName:"PlotKit.red",className:"dojox/charting/themes/PlotKit/red"}],
postCreate:function(){this.themes&&0<this.themes.length&&(this.selectedTheme=g.clone(this.themes[0]),this._createThemeList())},destroy:function(){this.inherited(arguments)},_onDropDownClick:function(){"none"===d.get(this.themeChooseNode,"display")?this.showChooseNode():this.hideChooseNode()},showChooseNode:function(){d.set(this.themeChooseNode,"display","")},hideChooseNode:function(){d.set(this.themeChooseNode,"display","none")},_createThemeList:function(){var b=[];m.forEach(this.themes,function(a){b.push(a.className)});
require(b,g.hitch(this,function(){m.forEach(this.themes,g.hitch(this,function(b){var f,d,m;f=c.create("div",{"class":"esriCTThemeItem",title:b.themeName},this.themeList);a.set(f,"ThemeName",b.themeName);a.set(f,"ThemeClass",b.className);e(f,"click",g.hitch(this,function(){var b={themeName:a.get(f,"ThemeName"),className:a.get(f,"ThemeClass")};this.selectTheme(b)}));d=dojo.create("div",{"class":"esriCTThemeChart"},f);m=dojo.create("div",{"class":"esriCTThemeName"},f);d=c.create("div",{},d);c.create("div",
{className:"title",innerHTML:b.themeName},m);this._createChart(b.themeName,d)}));this.selectTheme(this.selectedTheme)}))},_createChart:function(a,d){var p;p=c.create("div",{className:"chart"},d);p=new b(p);p.setTheme(dojo.getObject("dojox.charting.themes."+a));p.addPlot("default",{type:"Pie",radius:11,labels:!1,radGrad:"vml"===dojox.gfx.renderer?"fan":"native"});p.addSeries("Series A",[0.35,0.25,0.42,0.53,0.69]);p.render()},selectTheme:function(b){c.empty(this.selectedThemeChart);this.selectedTheme=
{themeName:b.themeName,className:b.className};this._createChart(b.themeName,this.selectedThemeChart);a.set(this.selectedThemeName,"innerHTML",b.themeName);this.hideChooseNode();this.onThemeSelect(this.selectedTheme)},onThemeSelect:function(a){}})})},"dojox/charting/Chart2D":function(){define("dojo/_base/kernel dojo/_base/lang .. ./Chart ./axis2d/Default ./axis2d/Invisible ./plot2d/Default ./plot2d/Lines ./plot2d/Areas ./plot2d/Markers ./plot2d/MarkersOnly ./plot2d/Scatter ./plot2d/Stacked ./plot2d/StackedLines ./plot2d/StackedAreas ./plot2d/Columns ./plot2d/StackedColumns ./plot2d/ClusteredColumns ./plot2d/Bars ./plot2d/StackedBars ./plot2d/ClusteredBars ./plot2d/Grid ./plot2d/Pie ./plot2d/Bubble ./plot2d/Candlesticks ./plot2d/OHLC ./plot2d/Spider".split(" "),
function(l,n,h,k){l.deprecated("dojox.charting.Chart2D","Use dojox.charting.Chart instead and require all other components explicitly","2.0");return n.setObject("dojox.charting.Chart2D",k)})},"dojox/charting/Chart":function(){define("../main dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/dom-style dojo/dom dojo/dom-geometry dojo/dom-construct dojo/_base/Color dojo/sniff ./Element ./SimpleTheme ./Series ./axis2d/common dojox/gfx/shape dojox/gfx dojo/has!dojo-bidi?./bidi/Chart dojox/lang/functional dojox/lang/functional/fold dojox/lang/functional/reversed".split(" "),
function(l,n,h,k,g,b,e,d,a,c,m,f,q,p,G,z,w,r){function A(a,b){a&&b&&(a.min=Math.min(a.min,b.min),a.max=Math.max(a.max,b.max));return a||b}function Q(a,b){var f={},c={};h.forEach(a,function(a){var b=f[a.name]=a.getSeriesStats();a.hAxis&&(c[a.hAxis]=A(c[a.hAxis],{min:b.hmin,max:b.hmax}));a.vAxis&&(c[a.vAxis]=A(c[a.vAxis],{min:b.vmin,max:b.vmax}))});h.forEach(a,function(a){var d=f[a.name];if(a.hAxis){var p=c[a.hAxis];d.hmin=p.min;d.hmax=p.max}a.vAxis&&(p=c[a.vAxis],d.vmin=p.min,d.vmax=p.max);a.initializeScalers(b,
d)})}var s=n.getObject("charting",!0,l),y=r.lambda("item.clear()"),v=r.lambda("item.purgeGroup()"),D=r.lambda("item.destroy()"),x=r.lambda("item.dirty \x3d false"),u=r.lambda("item.dirty \x3d true"),B=r.lambda("item.name");l=k(c("dojo-bidi")?"dojox.charting.NonBidiChart":"dojox.charting.Chart",null,{constructor:function(a,f){f||(f={});this.margins=f.margins?f.margins:{l:10,t:10,r:10,b:10};this.stroke=f.stroke;this.fill=f.fill;this.delayInMs=f.delayInMs||200;this.title=f.title;this.titleGap=f.titleGap;
this.titlePos=f.titlePos;this.titleFont=f.titleFont;this.titleFontColor=f.titleFontColor;this.chartTitle=null;this.htmlLabels=!0;"htmlLabels"in f&&(this.htmlLabels=f.htmlLabels);this.theme=null;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.dirty=!0;this.node=b.byId(a);var c=e.getMarginBox(a);this.surface=z.createSurface(this.node,c.w||400,c.h||300);-1==this.surface.declaredClass.indexOf("vml")&&(this._nativeClip=!0)},destroy:function(){h.forEach(this.series,D);h.forEach(this.stack,
D);r.forIn(this.axes,D);this.surface.destroy();this.chartTitle&&this.chartTitle.tagName&&d.destroy(this.chartTitle)},getCoords:function(){var a=this.node,b=g.getComputedStyle(a),b=e.getMarginBox(a,b),a=e.position(a,!0);b.x=a.x;b.y=a.y;return b},setTheme:function(a){this.theme=a.clone();this.dirty=!0;return this},addAxis:function(a,b){var f;f=b&&b.type||"Default";if("string"==typeof f){if(!s.axis2d||!s.axis2d[f])throw Error("Can't find axis: "+f+" - Check require() dependencies.");f=new s.axis2d[f](this,
b)}else f=new f(this,b);f.name=a;f.dirty=!0;a in this.axes&&this.axes[a].destroy();this.axes[a]=f;this.dirty=!0;return this},getAxis:function(a){return this.axes[a]},removeAxis:function(a){a in this.axes&&(this.axes[a].destroy(),delete this.axes[a],this.dirty=!0);return this},addPlot:function(a,b){var f;f=b&&b.type||"Default";if("string"==typeof f){if(!s.plot2d||!s.plot2d[f])throw Error("Can't find plot: "+f+" - didn't you forget to dojo.require() it?");f=new s.plot2d[f](this,b)}else f=new f(this,
b);f.name=a;f.dirty=!0;a in this.plots?(this.stack[this.plots[a]].destroy(),this.stack[this.plots[a]]=f):(this.plots[a]=this.stack.length,this.stack.push(f));this.dirty=!0;return this},getPlot:function(a){return this.stack[this.plots[a]]},removePlot:function(a){if(a in this.plots){var b=this.plots[a];delete this.plots[a];this.stack[b].destroy();this.stack.splice(b,1);r.forIn(this.plots,function(a,f,c){a>b&&(c[f]=a-1)});var f=h.filter(this.series,function(b){return b.plot!=a});f.length<this.series.length&&
(h.forEach(this.series,function(b){b.plot==a&&b.destroy()}),this.runs={},h.forEach(f,function(a,b){this.runs[a.plot]=b},this),this.series=f);this.dirty=!0}return this},getPlotOrder:function(){return r.map(this.stack,B)},setPlotOrder:function(a){var b={},f=r.filter(a,function(a){if(!(a in this.plots)||a in b)return!1;b[a]=1;return!0},this);f.length<this.stack.length&&r.forEach(this.stack,function(a){a=a.name;a in b||f.push(a)});a=r.map(f,function(a){return this.stack[this.plots[a]]},this);r.forEach(a,
function(a,b){this.plots[a.name]=b},this);this.stack=a;this.dirty=!0;return this},movePlotToFront:function(a){if(a in this.plots){var b=this.plots[a];if(b){var f=this.getPlotOrder();f.splice(b,1);f.unshift(a);return this.setPlotOrder(f)}}return this},movePlotToBack:function(a){if(a in this.plots){var b=this.plots[a];if(b<this.stack.length-1){var f=this.getPlotOrder();f.splice(b,1);f.push(a);return this.setPlotOrder(f)}}return this},addSeries:function(a,b,f){b=new q(this,b,f);b.name=a;a in this.runs?
(this.series[this.runs[a]].destroy(),this.series[this.runs[a]]=b):(this.runs[a]=this.series.length,this.series.push(b));this.dirty=!0;!("ymin"in b)&&"min"in b&&(b.ymin=b.min);!("ymax"in b)&&"max"in b&&(b.ymax=b.max);return this},getSeries:function(a){return this.series[this.runs[a]]},removeSeries:function(a){if(a in this.runs){var b=this.runs[a];delete this.runs[a];this.series[b].destroy();this.series.splice(b,1);r.forIn(this.runs,function(a,f,c){a>b&&(c[f]=a-1)});this.dirty=!0}return this},updateSeries:function(a,
b,f){a in this.runs&&(a=this.series[this.runs[a]],a.update(b),f?this.dirty=!0:(this._invalidateDependentPlots(a.plot,!1),this._invalidateDependentPlots(a.plot,!0)));return this},getSeriesOrder:function(a){return r.map(r.filter(this.series,function(b){return b.plot==a}),B)},setSeriesOrder:function(a){var b,f={},c=r.filter(a,function(a){if(!(a in this.runs)||a in f)return!1;var c=this.series[this.runs[a]];if(b){if(c.plot!=b)return!1}else b=c.plot;f[a]=1;return!0},this);r.forEach(this.series,function(a){var d=
a.name;!(d in f)&&a.plot==b&&c.push(d)});this.series=r.map(c,function(a){return this.series[this.runs[a]]},this).concat(r.filter(this.series,function(a){return a.plot!=b}));r.forEach(this.series,function(a,b){this.runs[a.name]=b},this);this.dirty=!0;return this},moveSeriesToFront:function(a){if(a in this.runs){var b=this.runs[a],f=this.getSeriesOrder(this.series[b].plot);if(a!=f[0])return f.splice(b,1),f.unshift(a),this.setSeriesOrder(f)}return this},moveSeriesToBack:function(a){if(a in this.runs){var b=
this.runs[a],f=this.getSeriesOrder(this.series[b].plot);if(a!=f[f.length-1])return f.splice(b,1),f.push(a),this.setSeriesOrder(f)}return this},resize:function(a,b){switch(arguments.length){case 1:e.setMarginBox(this.node,a);break;case 2:e.setMarginBox(this.node,{w:a,h:b})}var f=e.getMarginBox(this.node),c=this.surface.getDimensions();return c.width!=f.w||c.height!=f.h?(this.surface.setDimensions(f.w,f.h),this.dirty=!0,this.render()):this},getGeometry:function(){var a={};r.forIn(this.axes,function(b){b.initialized()&&
(a[b.name]={name:b.name,vertical:b.vertical,scaler:b.scaler,ticks:b.ticks})});return a},setAxisWindow:function(a,b,f,c){var d=this.axes[a];d&&(d.setWindow(b,f),h.forEach(this.stack,function(b){if(b.hAxis==a||b.vAxis==a)b.zoom=c}));return this},setWindow:function(a,b,f,c,d){"plotArea"in this||this.calculateGeometry();r.forIn(this.axes,function(d){var p,e;p=d.getScaler().bounds;e=p.span/(p.upper-p.lower);d.vertical?(p=b,e=c/e/p):(p=a,e=f/e/p);d.setWindow(p,e)});h.forEach(this.stack,function(a){a.zoom=
d});return this},zoomIn:function(a,b,f){var c=this.axes[a];if(c){var c=c.getScaler().bounds,d=Math.min(b[0],b[1]),p=Math.max(b[0],b[1]),d=b[0]<c.lower?c.lower:d,p=b[1]>c.upper?c.upper:p;this.setAxisWindow(a,(c.upper-c.lower)/(p-d),d-c.lower);f?this.delayedRender():this.render()}},calculateGeometry:function(){if(this.dirty)return this.fullGeometry();var a=h.filter(this.stack,function(a){return a.dirty||a.hAxis&&this.axes[a.hAxis].dirty||a.vAxis&&this.axes[a.vAxis].dirty},this);Q(a,this.plotArea);return this},
fullGeometry:function(){this._makeDirty();h.forEach(this.stack,y);this.theme||this.setTheme(new f);h.forEach(this.series,function(a){if(!(a.plot in this.plots)){if(!s.plot2d||!s.plot2d.Default)throw Error("Can't find plot: Default - didn't you forget to dojo.require() it?");var b=new s.plot2d.Default(this,{});b.name=a.plot;this.plots[a.plot]=this.stack.length;this.stack.push(b)}this.stack[this.plots[a.plot]].addSeries(a)},this);h.forEach(this.stack,function(a){a.assignAxes&&a.assignAxes(this.axes)},
this);var a=this.dim=this.surface.getDimensions();a.width=z.normalizedLength(a.width);a.height=z.normalizedLength(a.height);r.forIn(this.axes,y);Q(this.stack,a);var b=this.offsets={l:0,r:0,t:0,b:0},d=this;r.forIn(this.axes,function(a){c("dojo-bidi")&&d._resetLeftBottom(a);r.forIn(a.getOffsets(),function(a,f){b[f]=Math.max(a,b[f])})});if(this.title){this.titleGap=0==this.titleGap?0:this.titleGap||this.theme.chart.titleGap||20;this.titlePos=this.titlePos||this.theme.chart.titlePos||"top";this.titleFont=
this.titleFont||this.theme.chart.titleFont;this.titleFontColor=this.titleFontColor||this.theme.chart.titleFontColor||"black";var p=z.normalizedLength(z.splitFontString(this.titleFont).size);b["top"==this.titlePos?"t":"b"]+=p+this.titleGap}r.forIn(this.margins,function(a,f){b[f]+=a});this.plotArea={width:a.width-b.l-b.r,height:a.height-b.t-b.b};r.forIn(this.axes,y);Q(this.stack,this.plotArea);return this},render:function(){this._delayedRenderHandle&&(clearTimeout(this._delayedRenderHandle),this._delayedRenderHandle=
null);this.theme&&this.theme.clear();if(this.dirty)return this.fullRender();this.calculateGeometry();r.forEachRev(this.stack,function(a){a.render(this.dim,this.offsets)},this);r.forIn(this.axes,function(a){a.render(this.dim,this.offsets)},this);this._makeClean();return this},fullRender:function(){this.fullGeometry();var a=this.offsets,b=this.dim,f=Math.max(0,b.width-a.l-a.r),e=Math.max(0,b.height-a.t-a.b);h.forEach(this.series,v);r.forIn(this.axes,v);h.forEach(this.stack,v);var q=this.surface.children;
if(G.dispose)for(var m=0;m<q.length;++m)G.dispose(q[m]);this.chartTitle&&this.chartTitle.tagName&&d.destroy(this.chartTitle);this.surface.clear();this.chartTitle=null;this._renderChartBackground(b,a);this._renderPlotBackground(b,a,f,e);r.foldr(this.stack,function(f,c){return c.render(b,a),0},0);this._nativeClip||this._renderChartBackground(b,a);this.title&&(f="canvas"==z.renderer&&this.htmlLabels||!c("ie")&&!c("opera")&&this.htmlLabels?"html":"gfx",e=z.normalizedLength(z.splitFontString(this.titleFont).size),
this.chartTitle=p.createText[f](this,this.surface,b.width/2,"top"==this.titlePos?e+this.margins.t:b.height-this.margins.b,"middle",this.title,this.titleFont,this.titleFontColor));r.forIn(this.axes,function(f){f.render(b,a)});this._makeClean();return this},_renderChartBackground:function(b,f){var c=this.theme,d,p=void 0!==this.fill?this.fill:c.chart&&c.chart.fill,c=void 0!==this.stroke?this.stroke:c.chart&&c.chart.stroke;if("inherit"==p){d=this.node;for(p=new a(g.get(d,"backgroundColor"));0==p.a&&
d!=document.documentElement;)p=new a(g.get(d,"backgroundColor")),d=d.parentNode}p&&(this._nativeClip?(p=m.prototype._shapeFill(m.prototype._plotFill(p,b),{x:0,y:0,width:b.width+1,height:b.height+1}),this.surface.createRect({width:b.width+1,height:b.height+1}).setFill(p)):(p=m.prototype._plotFill(p,b,f),f.l&&(d={x:0,y:0,width:f.l,height:b.height+1},this.surface.createRect(d).setFill(m.prototype._shapeFill(p,d))),f.r&&(d={x:b.width-f.r,y:0,width:f.r+1,height:b.height+2},this.surface.createRect(d).setFill(m.prototype._shapeFill(p,
d))),f.t&&(d={x:0,y:0,width:b.width+1,height:f.t},this.surface.createRect(d).setFill(m.prototype._shapeFill(p,d))),f.b&&(d={x:0,y:b.height-f.b,width:b.width+1,height:f.b+2},this.surface.createRect(d).setFill(m.prototype._shapeFill(p,d)))));c&&this.surface.createRect({width:b.width-1,height:b.height-1}).setStroke(c)},_renderPlotBackground:function(a,b,f,c){var d=this.theme,p=d.plotarea&&d.plotarea.fill,d=d.plotarea&&d.plotarea.stroke,e={x:b.l-1,y:b.t-1,width:f+2,height:c+2};p&&(p=m.prototype._shapeFill(m.prototype._plotFill(p,
a,b),e),this.surface.createRect(e).setFill(p));d&&this.surface.createRect({x:b.l,y:b.t,width:f+1,height:c+1}).setStroke(d)},delayedRender:function(){this._delayedRenderHandle||(this._delayedRenderHandle=setTimeout(n.hitch(this,function(){this.render()}),this.delayInMs));return this},connectToPlot:function(a,b,f){return a in this.plots?this.stack[this.plots[a]].connect(b,f):null},fireEvent:function(a,b,f){if(a in this.runs){var c=this.series[this.runs[a]].plot;c in this.plots&&(c=this.stack[this.plots[c]])&&
c.fireEvent(a,b,f)}return this},_makeClean:function(){h.forEach(this.axes,x);h.forEach(this.stack,x);h.forEach(this.series,x);this.dirty=!1},_makeDirty:function(){h.forEach(this.axes,u);h.forEach(this.stack,u);h.forEach(this.series,u);this.dirty=!0},_invalidateDependentPlots:function(a,b){if(a in this.plots){var f=this.stack[this.plots[a]],c,d=b?"vAxis":"hAxis";if(f[d]){if((c=this.axes[f[d]])&&c.dependOnData())c.dirty=!0,h.forEach(this.stack,function(a){a[d]&&a[d]==f[d]&&(a.dirty=!0)})}else f.dirty=
!0}},setDir:function(a){return this},_resetLeftBottom:function(a){},formatTruncatedLabel:function(a,b,f){}});return c("dojo-bidi")?k("dojox.charting.Chart",[l,w]):l})},"dojox/charting/Element":function(){define(["dojo/_base/array","dojo/dom-construct","dojo/_base/declare","dojox/gfx","dojox/gfx/shape"],function(l,n,h,k,g){return h("dojox.charting.Element",null,{chart:null,group:null,htmlElements:null,dirty:!0,renderingOptions:null,constructor:function(b,e){this.chart=b;this.group=null;this.htmlElements=
[];this.dirty=!0;this.trailingSymbol="...";this._events=[];e&&e.renderingOptions&&(this.renderingOptions=e.renderingOptions)},purgeGroup:function(){this.destroyHtmlElements();if(this.group){this.getGroup().removeShape();var b=this.getGroup().children;if(g.dispose)for(var e=0;e<b.length;++e)g.dispose(b[e],!0);this.getGroup().rawNode&&n.empty(this.getGroup().rawNode);this.getGroup().clear();g.dispose&&g.dispose(this.getGroup(),!0);this.getGroup()!=this.group&&(this.group.rawNode&&n.empty(this.group.rawNode),
this.group.clear(),g.dispose&&g.dispose(this.group,!0));this.group=null}this.dirty=!0;this._events.length&&(l.forEach(this._events,function(b){b.shape.disconnect(b.handle)}),this._events=[]);return this},cleanGroup:function(b){this.destroyHtmlElements();b||(b=this.chart.surface);if(this.group){var e;b=this.getGroup().children;if(g.dispose)for(var d=0;d<b.length;++d)g.dispose(b[d],!0);this.getGroup().rawNode&&(e=this.getGroup().bgNode,n.empty(this.getGroup().rawNode));this.getGroup().clear();e&&this.getGroup().rawNode.appendChild(e)}else if(this.group=
b.createGroup(),this.renderingOptions&&this.group.rawNode&&"http://www.w3.org/2000/svg"==this.group.rawNode.namespaceURI)for(d in this.renderingOptions)this.group.rawNode.setAttribute(d,this.renderingOptions[d]);this.dirty=!0;return this},getGroup:function(){return this.group},destroyHtmlElements:function(){this.htmlElements.length&&(l.forEach(this.htmlElements,n.destroy),this.htmlElements=[])},destroy:function(){this.purgeGroup()},getTextWidth:function(b,e){return k._base._getTextBox(b,{font:e}).w||
0},getTextWithLimitLength:function(b,e,d,a){if(!b||0>=b.length)return{text:"",truncated:a||!1};if(!d||0>=d)return{text:b,truncated:a||!1};var c=b.substring(0,1)+this.trailingSymbol,m=this.getTextWidth(c,e);if(d<=m)return{text:c,truncated:!0};if(this.getTextWidth(b,e)<=d)return{text:b,truncated:a||!1};a=0;for(c=b.length;a<c;){if(2>=c-a){for(;this.getTextWidth(b.substring(0,a)+this.trailingSymbol,e)>d;)a-=1;return{text:b.substring(0,a)+this.trailingSymbol,truncated:!0}}m=a+Math.round(0.618*(c-a));this.getTextWidth(b.substring(0,
m),e)<d?a=m:c=m}},getTextWithLimitCharCount:function(b,e,d,a){return!b||0>=b.length?{text:"",truncated:a||!1}:!d||0>=d||b.length<=d?{text:b,truncated:a||!1}:{text:b.substring(0,d)+this.trailingSymbol,truncated:!0}},_plotFill:function(b,e,d){if(!b||!b.type||!b.space)return b;var a=b.space,c;switch(b.type){case "linear":if("plot"===a||"shapeX"===a||"shapeY"===a){b=k.makeParameters(k.defaultLinearGradient,b);b.space=a;if("plot"===a||"shapeX"===a)c=e.height-d.t-d.b,b.y1=d.t+c*b.y1/100,b.y2=d.t+c*b.y2/
100;if("plot"===a||"shapeY"===a)c=e.width-d.l-d.r,b.x1=d.l+c*b.x1/100,b.x2=d.l+c*b.x2/100}break;case "radial":"plot"===a&&(b=k.makeParameters(k.defaultRadialGradient,b),b.space=a,a=e.width-d.l-d.r,e=e.height-d.t-d.b,b.cx=d.l+a*b.cx/100,b.cy=d.t+e*b.cy/100,b.r=b.r*Math.sqrt(a*a+e*e)/200);break;case "pattern":if("plot"===a||"shapeX"===a||"shapeY"===a){b=k.makeParameters(k.defaultPattern,b);b.space=a;if("plot"===a||"shapeX"===a)c=e.height-d.t-d.b,b.y=d.t+c*b.y/100,b.height=c*b.height/100;if("plot"===
a||"shapeY"===a)c=e.width-d.l-d.r,b.x=d.l+c*b.x/100,b.width=c*b.width/100}}return b},_shapeFill:function(b,e){if(!b||!b.space)return b;var d=b.space,a;switch(b.type){case "linear":if("shape"===d||"shapeX"===d||"shapeY"===d){b=k.makeParameters(k.defaultLinearGradient,b);b.space=d;if("shape"===d||"shapeX"===d)a=e.width,b.x1=e.x+a*b.x1/100,b.x2=e.x+a*b.x2/100;if("shape"===d||"shapeY"===d)a=e.height,b.y1=e.y+a*b.y1/100,b.y2=e.y+a*b.y2/100}break;case "radial":"shape"===d&&(b=k.makeParameters(k.defaultRadialGradient,
b),b.space=d,b.cx=e.x+e.width/2,b.cy=e.y+e.height/2,b.r=b.r*e.width/200);break;case "pattern":if("shape"===d||"shapeX"===d||"shapeY"===d){b=k.makeParameters(k.defaultPattern,b);b.space=d;if("shape"===d||"shapeX"===d)a=e.width,b.x=e.x+a*b.x/100,b.width=a*b.width/100;if("shape"===d||"shapeY"===d)a=e.height,b.y=e.y+a*b.y/100,b.height=a*b.height/100}}return b},_pseudoRadialFill:function(b,e,d,a,c){if(!b||"radial"!==b.type||"shape"!==b.space)return b;var m=b.space;b=k.makeParameters(k.defaultRadialGradient,
b);b.space=m;if(4>arguments.length)return b.cx=e.x,b.cy=e.y,b.r=b.r*d/100,b;m=5>arguments.length?a:(c+a)/2;return{type:"linear",x1:e.x,y1:e.y,x2:e.x+b.r*d*Math.cos(m)/100,y2:e.y+b.r*d*Math.sin(m)/100,colors:b.colors}}})})},"dojox/gfx/shape":function(){define("./_base dojo/_base/lang dojo/_base/declare dojo/_base/kernel dojo/_base/sniff dojo/on dojo/_base/array dojo/dom-construct dojo/_base/Color ./matrix".split(" "),function(l,n,h,k,g,b,e,d,a,c){var m=l.shape={};m.Shape=h("dojox.gfx.shape.Shape",
null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null;if(g("gfxRegistry")){var a=m.register(this);this.getUID=function(){return a}}},destroy:function(){g("gfxRegistry")&&m.dispose(this);this.rawNode&&"__gfxObject__"in this.rawNode&&(this.rawNode.__gfxObject__=null);this.rawNode=null},getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},getFill:function(){return this.fillStyle},
getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var a=this.getBoundingBox();if(!a)return null;var b=this._getRealMatrix();return[c.multiplyPoint(b,a.x,a.y),c.multiplyPoint(b,a.x+a.width,a.y),c.multiplyPoint(b,a.x+a.width,a.y+a.height),c.multiplyPoint(b,a.x,a.y+a.height)]},getEventSource:function(){return this.rawNode},setClip:function(a){this.clip=a},getClip:function(){return this.clip},
setShape:function(a){this.shape=l.makeParameters(this.shape,a);this.bbox=null;return this},setFill:function(a){if(!a)return this.fillStyle=null,this;var b=null;if("object"==typeof a&&"type"in a)switch(a.type){case "linear":b=l.makeParameters(l.defaultLinearGradient,a);break;case "radial":b=l.makeParameters(l.defaultRadialGradient,a);break;case "pattern":b=l.makeParameters(l.defaultPattern,a)}else b=l.normalizeColor(a);this.fillStyle=b;return this},setStroke:function(b){if(!b)return this.strokeStyle=
null,this;if("string"==typeof b||n.isArray(b)||b instanceof a)b={color:b};b=this.strokeStyle=l.makeParameters(l.defaultStroke,b);b.color=l.normalizeColor(b.color);return this},setTransform:function(a){this.matrix=c.clone(a?c.normalize(a):c.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var a=this.getParent();a&&(a._moveChildToFront(this),this._moveToFront());return this},moveToBack:function(){var a=this.getParent();a&&(a._moveChildToBack(this),
this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(a){return a?this.setTransform([this.matrix,a]):this},applyLeftTransform:function(a){return a?this.setTransform([a,this.matrix]):this},applyTransform:function(a){return a?this.setTransform([this.matrix,a]):this},removeShape:function(a){this.parent&&this.parent.remove(this,a);return this},_setParent:function(a,b){this.parent=a;return this._updateParentMatrix(b)},_updateParentMatrix:function(a){this.parentMatrix=
a?c.clone(a):null;return this._applyTransform()},_getRealMatrix:function(){for(var a=this.matrix,b=this.parent;b;)b.matrix&&(a=c.multiply(b.matrix,a)),b=b.parent;return a}});m._eventsProcessing={on:function(a,c){return b(this.getEventSource(),a,m.fixCallback(this,l.fixTarget,c))},connect:function(a,b,c){"on"==a.substring(0,2)&&(a=a.substring(2));return this.on(a,c?n.hitch(b,c):b)},disconnect:function(a){return a.remove()}};m.fixCallback=function(a,b,c,d){d||(d=c,c=null);if(n.isString(d)){c=c||k.global;
if(!c[d])throw['dojox.gfx.shape.fixCallback: scope["',d,'"] is null (scope\x3d"',c,'")'].join("");return function(e){return b(e,a)?c[d].apply(c,arguments||[]):void 0}}return!c?function(e){return b(e,a)?d.apply(c,arguments):void 0}:function(e){return b(e,a)?d.apply(c,arguments||[]):void 0}};n.extend(m.Shape,m._eventsProcessing);m.Container={_init:function(){this.children=[];this._batch=0},openBatch:function(){return this},closeBatch:function(){return this},add:function(a){var b=a.getParent();b&&b.remove(a,
!0);this.children.push(a);return a._setParent(this,this._getRealMatrix())},remove:function(a,b){for(var c=0;c<this.children.length;++c)if(this.children[c]==a){b||(a.parent=null,a.parentMatrix=null);this.children.splice(c,1);break}return this},clear:function(a){for(var b,c=0;c<this.children.length;++c)b=this.children[c],b.parent=null,b.parentMatrix=null,a&&b.destroy();this.children=[];return this},getBoundingBox:function(){if(this.children){var a=null;e.forEach(this.children,function(b){var d=b.getBoundingBox();
d&&((b=b.getTransform())&&(d=c.multiplyRectangle(b,d)),a?(a.x=Math.min(a.x,d.x),a.y=Math.min(a.y,d.y),a.endX=Math.max(a.endX,d.x+d.width),a.endY=Math.max(a.endY,d.y+d.height)):a={x:d.x,y:d.y,endX:d.x+d.width,endY:d.y+d.height})});a&&(a.width=a.endX-a.x,a.height=a.endY-a.y);return a}return null},_moveChildToFront:function(a){for(var b=0;b<this.children.length;++b)if(this.children[b]==a){this.children.splice(b,1);this.children.push(a);break}return this},_moveChildToBack:function(a){for(var b=0;b<this.children.length;++b)if(this.children[b]==
a){this.children.splice(b,1);this.children.unshift(a);break}return this}};m.Surface=h("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){e.forEach(this._nodes,d.destroy);this._nodes=[];e.forEach(this._events,function(a){a&&a.remove()});this._events=[];this.rawNode=null;if(g("ie"))for(;this._parent.lastChild;)d.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},
_getRealMatrix:function(){return null},isLoaded:!0,onLoad:function(a){},whenLoaded:function(a,c){var d=n.hitch(a,c);if(this.isLoaded)d(this);else b.once(this,"load",function(a){d(a)})}});n.extend(m.Surface,m._eventsProcessing);m.Rect=h("dojox.gfx.shape.Rect",m.Shape,{constructor:function(a){this.shape=l.getDefault("Rect");this.rawNode=a},getBoundingBox:function(){return this.shape}});m.Ellipse=h("dojox.gfx.shape.Ellipse",m.Shape,{constructor:function(a){this.shape=l.getDefault("Ellipse");this.rawNode=
a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:a.cx-a.rx,y:a.cy-a.ry,width:2*a.rx,height:2*a.ry}}return this.bbox}});m.Circle=h("dojox.gfx.shape.Circle",m.Shape,{constructor:function(a){this.shape=l.getDefault("Circle");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:a.cx-a.r,y:a.cy-a.r,width:2*a.r,height:2*a.r}}return this.bbox}});m.Line=h("dojox.gfx.shape.Line",m.Shape,{constructor:function(a){this.shape=l.getDefault("Line");this.rawNode=
a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:Math.min(a.x1,a.x2),y:Math.min(a.y1,a.y2),width:Math.abs(a.x2-a.x1),height:Math.abs(a.y2-a.y1)}}return this.bbox}});m.Polyline=h("dojox.gfx.shape.Polyline",m.Shape,{constructor:function(a){this.shape=l.getDefault("Polyline");this.rawNode=a},setShape:function(a,b){a&&a instanceof Array?(this.inherited(arguments,[{points:a}]),b&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[a]);
return this},_normalizePoints:function(){var a=this.shape.points,b=a&&a.length;if(b&&"number"==typeof a[0]){for(var c=[],d=0;d<b;d+=2)c.push({x:a[d],y:a[d+1]});this.shape.points=c}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var a=this.shape.points,b=a.length,c=a[0],d=c.x,e=c.y,m=c.x,g=c.y,h=1;h<b;++h)c=a[h],d>c.x&&(d=c.x),m<c.x&&(m=c.x),e>c.y&&(e=c.y),g<c.y&&(g=c.y);this.bbox={x:d,y:e,width:m-d,height:g-e}}return this.bbox}});m.Image=h("dojox.gfx.shape.Image",m.Shape,
{constructor:function(a){this.shape=l.getDefault("Image");this.rawNode=a},getBoundingBox:function(){return this.shape},setStroke:function(){return this},setFill:function(){return this}});m.Text=h(m.Shape,{constructor:function(a){this.fontStyle=null;this.shape=l.getDefault("Text");this.rawNode=a},getFont:function(){return this.fontStyle},setFont:function(a){this.fontStyle="string"==typeof a?l.splitFontString(a):l.makeParameters(l.defaultFont,a);this._setFont();return this},getBoundingBox:function(){var a=
null;this.getShape().text&&(a=l._base._computeTextBoundingBox(this));return a}});m.Creator={createShape:function(a){switch(a.type){case l.defaultPath.type:return this.createPath(a);case l.defaultRect.type:return this.createRect(a);case l.defaultCircle.type:return this.createCircle(a);case l.defaultEllipse.type:return this.createEllipse(a);case l.defaultLine.type:return this.createLine(a);case l.defaultPolyline.type:return this.createPolyline(a);case l.defaultImage.type:return this.createImage(a);
case l.defaultText.type:return this.createText(a);case l.defaultTextPath.type:return this.createTextPath(a)}return null},createGroup:function(){return this.createObject(l.Group)},createRect:function(a){return this.createObject(l.Rect,a)},createEllipse:function(a){return this.createObject(l.Ellipse,a)},createCircle:function(a){return this.createObject(l.Circle,a)},createLine:function(a){return this.createObject(l.Line,a)},createPolyline:function(a){return this.createObject(l.Polyline,a)},createImage:function(a){return this.createObject(l.Image,
a)},createText:function(a){return this.createObject(l.Text,a)},createPath:function(a){return this.createObject(l.Path,a)},createTextPath:function(a){return this.createObject(l.TextPath,{}).setText(a)},createObject:function(a,b){return null}};return m})},"dojox/charting/SimpleTheme":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/Color dojox/lang/utils dojox/gfx/gradutils".split(" "),function(l,n,h,k,g,b){var e=h("dojox.charting.SimpleTheme",null,{shapeSpaces:{shape:1,
shapeX:1,shapeY:1},constructor:function(b){b=b||{};var a=e.defaultTheme;n.forEach("chart plotarea axis grid series marker indicator".split(" "),function(c){this[c]=l.delegate(a[c],b[c])},this);b.seriesThemes&&b.seriesThemes.length?(this.colors=null,this.seriesThemes=b.seriesThemes.slice(0)):(this.seriesThemes=null,this.colors=(b.colors||e.defaultColors).slice(0));this.markerThemes=null;b.markerThemes&&b.markerThemes.length&&(this.markerThemes=b.markerThemes.slice(0));this.markers=b.markers?l.clone(b.markers):
l.delegate(e.defaultMarkers);this.noGradConv=b.noGradConv;this.noRadialConv=b.noRadialConv;b.reverseFills&&this.reverseFills();this._current=0;this._buildMarkerArray()},clone:function(){var b=new this.constructor({chart:this.chart,plotarea:this.plotarea,axis:this.axis,grid:this.grid,series:this.series,marker:this.marker,colors:this.colors,markers:this.markers,indicator:this.indicator,seriesThemes:this.seriesThemes,markerThemes:this.markerThemes,noGradConv:this.noGradConv,noRadialConv:this.noRadialConv});
n.forEach("clone clear next skip addMixin post getTick".split(" "),function(a){this.hasOwnProperty(a)&&(b[a]=this[a])},this);return b},clear:function(){this._current=0},next:function(b,a,c){var e=g.merge,f;if(this.colors){f=l.delegate(this.series);var e=l.delegate(this.marker),q=new k(this.colors[this._current%this.colors.length]),p;f.stroke&&f.stroke.color?(f.stroke=l.delegate(f.stroke),p=new k(f.stroke.color),f.stroke.color=new k(q),f.stroke.color.a=p.a):f.stroke={color:q};e.stroke&&e.stroke.color?
(e.stroke=l.delegate(e.stroke),p=new k(e.stroke.color),e.stroke.color=new k(q),e.stroke.color.a=p.a):e.stroke={color:q};!f.fill||f.fill.type?f.fill=q:(p=new k(f.fill),f.fill=new k(q),f.fill.a=p.a);!e.fill||e.fill.type?e.fill=q:(p=new k(e.fill),e.fill=new k(q),e.fill.a=p.a)}else f=this.seriesThemes?e(this.series,this.seriesThemes[this._current%this.seriesThemes.length]):this.series,e=this.markerThemes?e(this.marker,this.markerThemes[this._current%this.markerThemes.length]):f;f={series:f,marker:e,symbol:e&&
e.symbol||this._markers[this._current%this._markers.length]};++this._current;a&&(f=this.addMixin(f,b,a));c&&(f=this.post(f,b));return f},skip:function(){++this._current},addMixin:function(b,a,c,e){if(l.isArray(c))n.forEach(c,function(c){b=this.addMixin(b,a,c)},this);else{var f={};"color"in c&&("line"==a||"area"==a?(l.setObject("series.stroke.color",c.color,f),l.setObject("marker.stroke.color",c.color,f)):l.setObject("series.fill",c.color,f));n.forEach("stroke outline shadow fill filter font fontColor labelWiring".split(" "),
function(a){var b="marker"+a.charAt(0).toUpperCase()+a.substr(1),d=b in c;a in c&&(l.setObject("series."+a,c[a],f),d||l.setObject("marker."+a,c[a],f));d&&l.setObject("marker."+a,c[b],f)});"marker"in c&&(f.symbol=c.marker,f.symbol=c.marker);b=g.merge(b,f)}e&&(b=this.post(b,a));return b},post:function(b,a){var c=b.series.fill,e;if(!this.noGradConv&&this.shapeSpaces[c.space]&&"linear"==c.type){if("bar"==a)e={x1:c.y1,y1:c.x1,x2:c.y2,y2:c.x2};else if(!this.noRadialConv&&"shape"==c.space&&("slice"==a||
"circle"==a))e={type:"radial",cx:0,cy:0,r:100};if(e)return g.merge(b,{series:{fill:e}})}return b},getTick:function(b,a){var c=this.axis.tick,e=b+"Tick",f=g.merge;c?this.axis[e]&&(c=f(c,this.axis[e])):c=this.axis[e];a&&(c?a[e]&&(c=f(c,a[e])):c=a[e]);return c},inspectObjects:function(b){n.forEach("chart plotarea axis grid series marker indicator".split(" "),function(a){b(this[a])},this);this.seriesThemes&&n.forEach(this.seriesThemes,b);this.markerThemes&&n.forEach(this.markerThemes,b)},reverseFills:function(){this.inspectObjects(function(d){d&&
d.fill&&(d.fill=b.reverse(d.fill))})},addMarker:function(b,a){this.markers[b]=a;this._buildMarkerArray()},setMarkers:function(b){this.markers=b;this._buildMarkerArray()},_buildMarkerArray:function(){this._markers=[];for(var b in this.markers)this._markers.push(this.markers[b])}});l.mixin(e,{defaultMarkers:{CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",
TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"},defaultColors:["#54544c","#858e94","#6e767a","#948585","#474747"],defaultTheme:{chart:{stroke:null,fill:"white",pageStyle:null,titleGap:20,titlePos:"top",titleFont:"normal normal bold 14pt Tahoma",titleFontColor:"#333"},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},tick:{color:"#666",position:"center",font:"normal normal normal 7pt Tahoma",fontColor:"#333",labelGap:4},majorTick:{width:1,length:6},minorTick:{width:0.8,length:3},microTick:{width:0.5,
length:1},title:{gap:15,font:"normal normal normal 11pt Tahoma",fontColor:"#333",orientation:"axis"}},series:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000",labelWiring:{width:1,color:"#ccc"}},marker:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000"},indicator:{lineStroke:{width:1.5,color:"#333"},lineOutline:{width:0.1,
color:"#ccc"},lineShadow:null,lineFill:null,stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",radius:3,font:"normal normal normal 10pt Tahoma",fontColor:"#000",markerFill:"#ccc",markerSymbol:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",markerStroke:{width:1.5,color:"#333"},markerOutline:{width:0.1,color:"#ccc"},markerShadow:null}}});return e})},"dojox/lang/utils":function(){define(["..","dojo/_base/lang"],function(l,n){var h=n.getObject("lang.utils",!0,l),k={},
g=Object.prototype.toString,b=function(b){if(b)switch(g.call(b)){case "[object Array]":return b.slice(0);case "[object Object]":return n.delegate(b)}return b};n.mixin(h,{coerceType:function(b,d){switch(typeof b){case "number":return Number(eval("("+d+")"));case "string":return String(d);case "boolean":return Boolean(eval("("+d+")"))}return eval("("+d+")")},updateWithObject:function(e,d,a){if(!d)return e;for(var c in e)if(c in d&&!(c in k)){var m=e[c];m&&"object"==typeof m?h.updateWithObject(m,d[c],
a):e[c]=a?h.coerceType(m,d[c]):b(d[c])}return e},updateWithPattern:function(e,d,a,c){if(!d||!a)return e;for(var m in a)m in d&&!(m in k)&&(e[m]=c?h.coerceType(a[m],d[m]):b(d[m]));return e},merge:function(b,d){if(d){var a=g.call(b),c=g.call(d),m,f;switch(c){case "[object Array]":if(c==a){a=Array(Math.max(b.length,d.length));m=0;for(c=a.length;m<c;++m)a[m]=h.merge(b[m],d[m]);return a}return d.slice(0);case "[object Object]":if(c==a&&b){a=n.delegate(b);for(m in d)m in b?(c=b[m],f=d[m],f!==c&&(a[m]=h.merge(c,
f))):a[m]=n.clone(d[m]);return a}return n.clone(d)}}return d}});return h})},"dojox/gfx/gradutils":function(){define(["./_base","dojo/_base/lang","./matrix","dojo/_base/Color"],function(l,n,h,k){function g(b,e){if(0>=b)return e[0].color;var d=e.length;if(1<=b)return e[d-1].color;for(var a=0;a<d;++a){var c=e[a];if(c.offset>=b)return a?(d=e[a-1],k.blendColors(new k(d.color),new k(c.color),(b-d.offset)/(c.offset-d.offset))):c.color}return e[d-1].color}l=l.gradutils={};l.getColor=function(b,e){var d;if(b){switch(b.type){case "linear":d=
Math.atan2(b.y2-b.y1,b.x2-b.x1);d=h.rotate(-d);var a=h.project(b.x2-b.x1,b.y2-b.y1),c=h.multiplyPoint(a,e),m=h.multiplyPoint(a,b.x1,b.y1),a=h.multiplyPoint(a,b.x2,b.y2),a=h.multiplyPoint(d,a.x-m.x,a.y-m.y).x;d=h.multiplyPoint(d,c.x-m.x,c.y-m.y).x/a;break;case "radial":d=e.x-b.cx,c=e.y-b.cy,d=Math.sqrt(d*d+c*c)/b.r}return g(d,b.colors)}return new k(b||[0,0,0,0])};l.reverse=function(b){if(b)switch(b.type){case "linear":case "radial":if(b=n.delegate(b),b.colors){for(var e=b.colors,d=e.length,a=0,c,m=
b.colors=Array(e.length);a<d;++a)c=e[a],m[a]={offset:1-c.offset,color:c.color};m.sort(function(a,b){return a.offset-b.offset})}}return b};return l})},"dojox/charting/Series":function(){define(["dojo/_base/lang","dojo/_base/declare","./Element"],function(l,n,h){return n("dojox.charting.Series",h,{constructor:function(h,g,b){l.mixin(this,b);"string"!=typeof this.plot&&(this.plot="default");this.update(g)},clear:function(){this.dyn={}},update:function(h){l.isArray(h)?this.data=h:(this.source=h,this.data=
this.source.data,this.source.setSeriesObject&&this.source.setSeriesObject(this));this.dirty=!0;this.clear()}})})},"dojox/charting/axis2d/common":function(){define(["dojo/_base/lang","dojo/_base/window","dojo/dom-geometry","dojox/gfx","dojo/has"],function(l,n,h,k,g){var b=l.getObject("dojox.charting.axis2d.common",!0),e=function(b){b.marginLeft="0px";b.marginTop="0px";b.marginRight="0px";b.marginBottom="0px";b.paddingLeft="0px";b.paddingTop="0px";b.paddingRight="0px";b.paddingBottom="0px";b.borderLeftWidth=
"0px";b.borderTopWidth="0px";b.borderRightWidth="0px";b.borderBottomWidth="0px"};return l.mixin(b,{createText:{gfx:function(b,a,c,e,f,q,p,G){return a.createText({x:c,y:e,text:q,align:f}).setFont(p).setFill(G)},html:function(b,a,c,m,f,q,p,G,z){a=n.doc.createElement("div");var w=a.style,r;b.getTextDir&&(a.dir=b.getTextDir(q));e(w);w.font=p;a.innerHTML=String(q).replace(/\s/g,"\x26nbsp;");w.color=G;w.position="absolute";w.left="-10000px";n.body().appendChild(a);var A=k.normalizedLength(k.splitFontString(p).size);
z||(a.getBoundingClientRect?(r=a.getBoundingClientRect(),r=r.width||r.right-r.left):r=h.getMarginBox(a).w);"rtl"==a.dir&&(c+=z?z:r);n.body().removeChild(a);w.position="relative";if(z)switch(w.width=z+"px",f){case "middle":w.textAlign="center";w.left=c-z/2+"px";break;case "end":w.textAlign="right";w.left=c-z+"px";break;default:w.left=c+"px",w.textAlign="left"}else switch(f){case "middle":w.left=Math.floor(c-r/2)+"px";break;case "end":w.left=Math.floor(c-r)+"px";break;default:w.left=Math.floor(c)+"px"}w.top=
Math.floor(m-A)+"px";w.whiteSpace="nowrap";z=n.doc.createElement("div");w=z.style;e(w);w.width="0px";w.height="0px";z.appendChild(a);b.node.insertBefore(z,b.node.firstChild);g("dojo-bidi")&&b.htmlElementsRegistry.push([z,c,m,f,q,p,G]);return z}}})})},"dojox/lang/functional":function(){define(["./functional/lambda","./functional/array","./functional/object"],function(l){return l})},"dojox/lang/functional/lambda":function(){define(["../..","dojo/_base/lang","dojo/_base/array"],function(l,n,h){var k=
n.getObject("lang.functional",!0,l),g={},b=1<"ab".split(/a*/).length?String.prototype.split:function(a){var b=this.split.call(this,a);(a=a.exec(this))&&0==a.index&&b.unshift("");return b},e=function(a){var c=[],d=b.call(a,/\s*->\s*/m);if(1<d.length)for(;d.length;)a=d.pop(),c=d.pop().split(/\s*,\s*|\s+/m),d.length&&d.push("(function("+c.join(", ")+"){ return ("+a+"); })");else if(a.match(/\b_\b/))c=["_"];else{var d=a.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),f=a.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(d||
f)d&&(c.push("$1"),a="$1"+a),f&&(c.push("$2"),a+="$2");else{var d=a.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],e={};h.forEach(d,function(a){e.hasOwnProperty(a)||(c.push(a),
e[a]=1)})}}return{args:c,body:a}},d=function(a){return a.length?function(){var b=a.length-1,d=k.lambda(a[b]).apply(this,arguments);for(--b;0<=b;--b)d=k.lambda(a[b]).call(this,d);return d}:function(a){return a}};n.mixin(k,{rawLambda:function(a){return e(a)},buildLambda:function(a){a=e(a);return"function("+a.args.join(",")+"){return ("+a.body+");}"},lambda:function(a){if("function"==typeof a)return a;if(a instanceof Array)return d(a);if(g.hasOwnProperty(a))return g[a];var b=e(a);return g[a]=new Function(b.args,
"return ("+b.body+");")},clearLambdaCache:function(){g={}}});return k})},"dojox/lang/functional/array":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","./lambda"],function(l,n,h,k){var g={};n.mixin(k,{filter:function(b,e,d){"string"==typeof b&&(b=b.split(""));d=d||l.global;e=k.lambda(e);var a=[],c,m,f;if(n.isArray(b)){m=0;for(f=b.length;m<f;++m)c=b[m],e.call(d,c,m,b)&&a.push(c)}else if("function"==typeof b.hasNext&&"function"==typeof b.next)for(m=0;b.hasNext();)c=b.next(),
e.call(d,c,m++,b)&&a.push(c);else for(m in b)m in g||(c=b[m],e.call(d,c,m,b)&&a.push(c));return a},forEach:function(b,e,d){"string"==typeof b&&(b=b.split(""));d=d||l.global;e=k.lambda(e);var a,c;if(n.isArray(b)){a=0;for(c=b.length;a<c;e.call(d,b[a],a,b),++a);}else if("function"==typeof b.hasNext&&"function"==typeof b.next)for(a=0;b.hasNext();e.call(d,b.next(),a++,b));else for(a in b)a in g||e.call(d,b[a],a,b);return d},map:function(b,e,d){"string"==typeof b&&(b=b.split(""));d=d||l.global;e=k.lambda(e);
var a,c,m;if(n.isArray(b)){a=Array(c=b.length);for(m=0;m<c;a[m]=e.call(d,b[m],m,b),++m);}else if("function"==typeof b.hasNext&&"function"==typeof b.next){a=[];for(m=0;b.hasNext();a.push(e.call(d,b.next(),m++,b)));}else for(m in a=[],b)m in g||a.push(e.call(d,b[m],m,b));return a},every:function(b,e,d){"string"==typeof b&&(b=b.split(""));d=d||l.global;e=k.lambda(e);var a,c;if(n.isArray(b)){a=0;for(c=b.length;a<c;++a)if(!e.call(d,b[a],a,b))return!1}else if("function"==typeof b.hasNext&&"function"==typeof b.next)for(a=
0;b.hasNext();){if(!e.call(d,b.next(),a++,b))return!1}else for(a in b)if(!(a in g)&&!e.call(d,b[a],a,b))return!1;return!0},some:function(b,e,d){"string"==typeof b&&(b=b.split(""));d=d||l.global;e=k.lambda(e);var a,c;if(n.isArray(b)){a=0;for(c=b.length;a<c;++a)if(e.call(d,b[a],a,b))return!0}else if("function"==typeof b.hasNext&&"function"==typeof b.next)for(a=0;b.hasNext();){if(e.call(d,b.next(),a++,b))return!0}else for(a in b)if(!(a in g)&&e.call(d,b[a],a,b))return!0;return!1}});return k})},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel",
"dojo/_base/lang","./lambda"],function(l,n,h){var k={};n.mixin(h,{keys:function(g){var b=[],e;for(e in g)e in k||b.push(e);return b},values:function(g){var b=[],e;for(e in g)e in k||b.push(g[e]);return b},filterIn:function(g,b,e){e=e||l.global;b=h.lambda(b);var d={},a,c;for(c in g)c in k||(a=g[c],b.call(e,a,c,g)&&(d[c]=a));return d},forIn:function(g,b,e){e=e||l.global;b=h.lambda(b);for(var d in g)d in k||b.call(e,g[d],d,g);return e},mapIn:function(g,b,e){e=e||l.global;b=h.lambda(b);var d={},a;for(a in g)a in
k||(d[a]=b.call(e,g[a],a,g));return d}});return h})},"dojox/lang/functional/fold":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/kernel","./lambda"],function(l,n,h,k){var g={};l.mixin(k,{foldl:function(b,e,d,a){"string"==typeof b&&(b=b.split(""));a=a||h.global;e=k.lambda(e);var c,m;if(l.isArray(b)){c=0;for(m=b.length;c<m;d=e.call(a,d,b[c],c,b),++c);}else if("function"==typeof b.hasNext&&"function"==typeof b.next)for(c=0;b.hasNext();d=e.call(a,d,b.next(),c++,b));else for(c in b)c in
g||(d=e.call(a,d,b[c],c,b));return d},foldl1:function(b,e,d){"string"==typeof b&&(b=b.split(""));d=d||h.global;e=k.lambda(e);var a,c,m;if(l.isArray(b)){a=b[0];c=1;for(m=b.length;c<m;a=e.call(d,a,b[c],c,b),++c);}else if("function"==typeof b.hasNext&&"function"==typeof b.next){if(b.hasNext()){a=b.next();for(c=1;b.hasNext();a=e.call(d,a,b.next(),c++,b));}}else for(c in m=!0,b)c in g||(m?(a=b[c],m=!1):a=e.call(d,a,b[c],c,b));return a},foldr:function(b,e,d,a){"string"==typeof b&&(b=b.split(""));a=a||h.global;
e=k.lambda(e);for(var c=b.length;0<c;--c,d=e.call(a,d,b[c],c,b));return d},foldr1:function(b,e,d){"string"==typeof b&&(b=b.split(""));d=d||h.global;e=k.lambda(e);for(var a=b.length,c=b[a-1],a=a-1;0<a;--a,c=e.call(d,c,b[a],a,b));return c},reduce:function(b,e,d){return 3>arguments.length?k.foldl1(b,e):k.foldl(b,e,d)},reduceRight:function(b,e,d){return 3>arguments.length?k.foldr1(b,e):k.foldr(b,e,d)},unfold:function(b,e,d,a,c){c=c||h.global;e=k.lambda(e);d=k.lambda(d);b=k.lambda(b);for(var m=[];!b.call(c,
a);m.push(e.call(c,a)),a=d.call(c,a));return m}})})},"dojox/lang/functional/reversed":function(){define(["dojo/_base/lang","dojo/_base/kernel","./lambda"],function(l,n,h){l.mixin(h,{filterRev:function(k,g,b){"string"==typeof k&&(k=k.split(""));b=b||n.global;g=h.lambda(g);for(var e=[],d,a=k.length-1;0<=a;--a)d=k[a],g.call(b,d,a,k)&&e.push(d);return e},forEachRev:function(k,g,b){"string"==typeof k&&(k=k.split(""));b=b||n.global;g=h.lambda(g);for(var e=k.length-1;0<=e;g.call(b,k[e],e,k),--e);},mapRev:function(k,
g,b){"string"==typeof k&&(k=k.split(""));b=b||n.global;g=h.lambda(g);for(var e=k.length,d=Array(e),e=e-1,a=0;0<=e;d[a++]=g.call(b,k[e],e,k),--e);return d},everyRev:function(k,g,b){"string"==typeof k&&(k=k.split(""));b=b||n.global;g=h.lambda(g);for(var e=k.length-1;0<=e;--e)if(!g.call(b,k[e],e,k))return!1;return!0},someRev:function(k,g,b){"string"==typeof k&&(k=k.split(""));b=b||n.global;g=h.lambda(g);for(var e=k.length-1;0<=e;--e)if(g.call(b,k[e],e,k))return!0;return!1}});return h})},"dojox/charting/axis2d/Default":function(){define("dojo/_base/lang dojo/_base/array dojo/sniff dojo/_base/declare dojo/_base/connect dojo/dom-geometry ./Invisible ../scaler/linear ./common dojox/gfx dojox/lang/utils dojox/lang/functional dojo/has!dojo-bidi?../bidi/axis2d/Default".split(" "),
function(l,n,h,k,g,b,e,d,a,c,m,f,q){e=k(h("dojo-bidi")?"dojox.charting.axis2d.NonBidiDefault":"dojox.charting.axis2d.Default",e,{defaultParams:{vertical:!1,fixUpper:"none",fixLower:"none",natural:!1,leftBottom:!0,includeZero:!1,fixed:!0,majorLabels:!0,minorTicks:!0,minorLabels:!0,microTicks:!1,rotation:0,htmlLabels:!0,enableCache:!1,dropLabels:!0,labelSizeChange:!1,position:"leftOrBottom"},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,
maxLabelSize:0,maxLabelCharCount:0,trailingSymbol:null,stroke:{},majorTick:{},minorTick:{},microTick:{},tick:{},font:"",fontColor:"",title:"",titleGap:0,titleFont:"",titleFontColor:"",titleOrientation:""},constructor:function(a,b){this.opt=l.clone(this.defaultParams);m.updateWithObject(this.opt,b);m.updateWithPattern(this.opt,b,this.optionalParams);this.opt.enableCache&&(this._textFreePool=[],this._lineFreePool=[],this._textUsePool=[],this._lineUsePool=[]);this._invalidMaxLabelSize=!0;b&&"position"in
b||(this.opt.position=this.opt.leftBottom?"leftOrBottom":"rightOrTop");this.renderingOptions={"shape-rendering":"crispEdges"}},setWindow:function(a,b){a!=this.scale&&(this._invalidMaxLabelSize=!0);return this.inherited(arguments)},_groupLabelWidth:function(a,b,d){if(!a.length)return 0;50<a.length&&(a.length=50);l.isObject(a[0])&&(a=f.map(a,function(a){return a.text}));d&&(a=f.map(a,function(a){return 0==l.trim(a).length?"":a.substring(0,d)+this.trailingSymbol},this));a=a.join("\x3cbr\x3e");return c._base._getTextBox(a,
{font:b}).w||0},_getMaxLabelSize:function(a,b,c,f,e,q){if(null==this._maxLabelSize&&6==arguments.length){var m=this.opt;this.scaler.minMinorStep=this._prevMinMinorStep=0;var g=l.clone(m);delete g.to;delete g.from;var h=d.buildScaler(a,b,c,g,m.to-m.from);h.minMinorStep=0;this._majorStart=h.major.start;m=d.buildTicks(h,m);if(q&&m){var k=h=0,D=function(a){a.label&&this.push(a.label)},x=[];this.opt.majorLabels&&(n.forEach(m.major,D,x),h=this._groupLabelWidth(x,e,g.maxLabelCharCount),g.maxLabelSize&&(h=
Math.min(g.maxLabelSize,h)));x=[];this.opt.dropLabels&&this.opt.minorLabels&&(n.forEach(m.minor,D,x),k=this._groupLabelWidth(x,e,g.maxLabelCharCount),g.maxLabelSize&&(k=Math.min(g.maxLabelSize,k)));this._maxLabelSize={majLabelW:h,minLabelW:k,majLabelH:q,minLabelH:q}}else this._maxLabelSize=null}return this._maxLabelSize},calculate:function(a,b,f){this.inherited(arguments);this.scaler.minMinorStep=this._prevMinMinorStep;if((this._invalidMaxLabelSize||f!=this._oldSpan)&&Infinity!=a&&-Infinity!=b){this._invalidMaxLabelSize=
!1;this.opt.labelSizeChange&&(this._maxLabelSize=null);this._oldSpan=f;var e=this.opt,q=this.chart.theme.axis,m=e.rotation%360,g=this.chart.theme.axis.tick.labelGap,h=e.font||q.majorTick&&q.majorTick.font||q.tick&&q.tick.font,q=h?c.normalizedLength(c.splitFontString(h).size):0,h=this._getMaxLabelSize(a,b,f,m,h,q);"number"!=typeof g&&(g=4);if(h&&e.dropLabels){var e=Math.abs(Math.cos(m*Math.PI/180)),k=Math.abs(Math.sin(m*Math.PI/180));0>m&&(m+=360);switch(m){case 0:case 180:this.vertical?m=q:(m=h.majLabelW,
q=h.minLabelW);break;case 90:case 270:this.vertical?(m=h.majLabelW,q=h.minLabelW):m=q;break;default:var m=this.vertical?Math.min(h.majLabelW,q/e):Math.min(h.majLabelW,q/k),l=Math.sqrt(h.minLabelW*h.minLabelW+q*q),q=Math.min(l,this.vertical?q*e+h.minLabelW*k:h.minLabelW*e+q*k)}this.scaler.minMinorStep=this._prevMinMinorStep=Math.max(m,q)+g;this._skipInterval=this.scaler.minMinorStep<=this.scaler.minor.tick*this.scaler.bounds.scale?0:Math.floor((m+g)/(this.scaler.major.tick*this.scaler.bounds.scale))}else this._skipInterval=
0}this.ticks=d.buildTicks(this.scaler,this.opt);return this},getOffsets:function(){var a={l:0,r:0,t:0,b:0};if(!this.scaler)return a;var b=this.opt,d=this.chart.theme.axis,f=this.chart.theme.axis.tick.labelGap,e=b.titleFont||d.title&&d.title.font,d=0==b.titleGap?0:b.titleGap||d.title&&d.title.gap,q=this.chart.theme.getTick("major",b),m=this.chart.theme.getTick("minor",b),e=e?c.normalizedLength(c.splitFontString(e).size):0,g=b.rotation%360,h=b.position,k="rightOrTop"!==h,l=Math.abs(Math.cos(g*Math.PI/
180)),n=Math.abs(Math.sin(g*Math.PI/180));this.trailingSymbol=void 0===b.trailingSymbol||null===b.trailingSymbol?this.trailingSymbol:b.trailingSymbol;"number"!=typeof f&&(f=4);0>g&&(g+=360);var u=this._getMaxLabelSize();if(u){var B=Math.ceil(Math.max(u.majLabelW,u.minLabelW))+1,E=Math.ceil(Math.max(u.majLabelH,u.minLabelH))+1;if(this.vertical)switch(u=k?"l":"r",g){case 0:case 180:a[u]="center"===h?0:B;a.t=a.b=E/2;break;case 90:case 270:a[u]=E;a.t=a.b=B/2;break;default:45>=g||180<g&&225>=g?(a[u]=E*
n/2+B*l,a[k?"t":"b"]=E*l/2+B*n,a[k?"b":"t"]=E*l/2):315<g||180>g&&135<g?(a[u]=E*n/2+B*l,a[k?"b":"t"]=E*l/2+B*n,a[k?"t":"b"]=E*l/2):90>g||180<g&&270>g?(a[u]=E*n+B*l,a[k?"t":"b"]=E*l+B*n):(a[u]=E*n+B*l,a[k?"b":"t"]=E*l+B*n)}else switch(u=k?"b":"t",g){case 0:case 180:a[u]="center"===h?0:E;a.l=a.r=B/2;break;case 90:case 270:a[u]=B;a.l=a.r=E/2;break;default:45<=g&&90>=g||225<=g&&270>=g?(a[u]=E*l/2+B*n,a[k?"r":"l"]=E*n/2+B*l,a[k?"l":"r"]=E*n/2):90<=g&&135>=g||270<=g&&315>=g?(a[u]=E*l/2+B*n,a[k?"l":"r"]=
E*n/2+B*l,a[k?"r":"l"]=E*n/2):45>g||180<g&&225>g?(a[u]=E*l+B*n,a[k?"r":"l"]=E*n+B*l):(a[u]=E*l+B*n,a[k?"l":"r"]=E*n+B*l)}a[u]="center"===h?0:a[u]+(f+Math.max(0<q.length?q.length:0,0<m.length?m.length:0)+(b.title?e+d:0))}return a},cleanGroup:function(a){this.opt.enableCache&&this.group&&(this._lineFreePool=this._lineFreePool.concat(this._lineUsePool),this._lineUsePool=[],this._textFreePool=this._textFreePool.concat(this._textUsePool),this._textUsePool=[]);this.inherited(arguments)},createText:function(b,
c,d,f,e,q,g,m,h){if(!this.opt.enableCache||"html"==b)return a.createText[b](this.chart,c,d,f,e,q,g,m,h);0<this._textFreePool.length?(b=this._textFreePool.pop(),b.setShape({x:d,y:f,text:q,align:e}),c.add(b)):b=a.createText[b](this.chart,c,d,f,e,q,g,m);this._textUsePool.push(b);return b},createLine:function(a,b){var c;this.opt.enableCache&&0<this._lineFreePool.length?(c=this._lineFreePool.pop(),c.setShape(b),a.add(c)):c=a.createLine(b);this.opt.enableCache&&this._lineUsePool.push(c);return c},render:function(b,
f){var e,q,g,m,k,l,y,v,D,x,u,B,E,t,K=this._isRtl();if(!this.dirty||!this.scaler)return this;var H=this.opt;D=this.chart.theme.axis;var I=H.position,C="rightOrTop"!==I,J=H.rotation%360,M=0,F,L,M=this.chart.theme.axis.tick.labelGap,N=H.font||D.majorTick&&D.majorTick.font||D.tick&&D.tick.font,O=H.titleFont||D.title&&D.title.font,Z=H.fontColor||D.majorTick&&D.majorTick.fontColor||D.tick&&D.tick.fontColor||"black",X=H.titleFontColor||D.title&&D.title.fontColor||"black";k=0==H.titleGap?0:H.titleGap||D.title&&
D.title.gap||15;var S=H.titleOrientation||D.title&&D.title.orientation||"axis",V=this.chart.theme.getTick("major",H),U=this.chart.theme.getTick("minor",H),aa=this.chart.theme.getTick("micro",H),ea="stroke"in H?H.stroke:D.stroke,T=N?c.normalizedLength(c.splitFontString(N).size):0;l=Math.abs(Math.cos(J*Math.PI/180));F=Math.abs(Math.sin(J*Math.PI/180));var ca=O?c.normalizedLength(c.splitFontString(O).size):0;"number"!=typeof M&&(M=4);0>J&&(J+=360);var P=this._getMaxLabelSize(),P=P&&P.majLabelW;if(this.vertical){E=
b.height-f.b;t=void 0;u=f.t;B=void 0;D=(b.height-f.b+f.t)/2;x=void 0;F=T*F+(P||0)*l+M+Math.max(0<V.length?V.length:0,0<U.length?U.length:0)+ca+k;y=0;v=-1;q=e=0;k=1;l=0;g=M;m=0;switch(J){case 0:L="end";q=0.4*T;break;case 90:L="middle";e=-T;break;case 180:L="start";q=0.4*-T;break;case 270:L="middle";break;default:45>J?(L="end",q=0.4*T):90>J?(L="end",q=0.4*T):135>J?L="start":225>J?(L="start",q=0.4*-T):270>J?(L="start",e=C?0:0.4*T):315>J?(L="end",e=C?0:0.4*T):(L="end",q=0.4*T)}if(C)t=B="center"===I?b.width/
2:f.l,M=S&&"away"==S?90:270,x=f.l-F+(270==M?ca:0),k=-1,g=-g;else switch(t=B=b.width-f.r,M=S&&"axis"==S?90:270,x=b.width-f.r+F-(270==M?0:ca),L){case "start":L="end";break;case "end":L="start";break;case "middle":e+=T}}else{t=f.l;E=void 0;B=b.width-f.r;u=void 0;x=(b.width-f.r+f.l)/2;D=void 0;F=T*l+(P||0)*F+M+Math.max(0<V.length?V.length:0,0<U.length?U.length:0)+ca+k;y=K?-1:1;k=q=e=v=0;l=1;g=0;m=M;switch(J){case 0:L="middle";q=T;break;case 90:L="start";e=0.4*-T;break;case 180:L="middle";break;case 270:L=
"end";e=0.4*T;break;default:45>J?(L="start",q=C?T:0):135>J?(L="start",e=0.4*-T):180>J?(L="start",q=C?0:-T):225>J?(L="end",q=C?0:-T):315>J?(L="end",q=C?0.4*T:0):(L="end",q=C?T:0)}if(C)E=u="center"===I?b.height/2:b.height-f.b,M=S&&"axis"==S?180:0,D=b.height-f.b+F-(M?ca:0);else switch(E=u=f.t,M=S&&"away"==S?180:0,D=f.t-F+(M?0:ca),l=-1,m=-m,L){case "start":L="end";break;case "end":L="start";break;case "middle":q-=T}}this.cleanGroup();var R=this.group,I=this.scaler,C=this.ticks,ba=d.getTransformerFromModel(this.scaler),
Y=(!H.title||!M)&&!J&&this.opt.htmlLabels&&!h("ie")&&!h("opera")?"html":"gfx",W=k*V.length,$=l*V.length,da=this._skipInterval;R.createLine({x1:t,y1:E,x2:B,y2:u}).setStroke(ea);H.title&&(O=a.createText[Y](this.chart,R,x,D,"middle",H.title,O,X),"html"==Y?this.htmlElements.push(O):O.setTransform(c.matrix.rotategAt(M,x,D)));if(null==C)return this.dirty=!1,this;var ga=0<C.major.length?(C.major[0].value-this._majorStart)/I.major.tick:0,fa=this.opt.majorLabels;n.forEach(C.major,function(a,b){var f=ba(a.value),
d=(K?B:t)+y*f,p=E+v*f;b+=ga;this.createLine(R,{x1:d,y1:p,x2:d+W,y2:p+$}).setStroke(V);if(a.label&&(!da||0==(b-(1+da))%(1+da))){var h=H.maxLabelCharCount?this.getTextWithLimitCharCount(a.label,N,H.maxLabelCharCount):{text:a.label,truncated:!1},h=H.maxLabelSize?this.getTextWithLimitLength(h.text,N,H.maxLabelSize,h.truncated):h,f=this.createText(Y,R,d+(0<V.length?W:0)+g+(J?0:e),p+(0<V.length?$:0)+m+(J?0:q),L,h.text,N,Z);h.truncated&&this.chart.formatTruncatedLabel(f,a.label,Y);h.truncated&&this.labelTooltip(f,
this.chart,a.label,h.text,N,Y);"html"==Y?this.htmlElements.push(f):J&&f.setTransform([{dx:e,dy:q},c.matrix.rotategAt(J,d+(0<V.length?W:0)+g,p+(0<V.length?$:0)+m)])}},this);W=k*U.length;$=l*U.length;fa=this.opt.minorLabels&&I.minMinorStep<=I.minor.tick*I.bounds.scale;n.forEach(C.minor,function(a){var b=ba(a.value),f=(K?B:t)+y*b,d=E+v*b;this.createLine(R,{x1:f,y1:d,x2:f+W,y2:d+$}).setStroke(U);if(fa&&a.label){var p=H.maxLabelCharCount?this.getTextWithLimitCharCount(a.label,N,H.maxLabelCharCount):{text:a.label,
truncated:!1},p=H.maxLabelSize?this.getTextWithLimitLength(p.text,N,H.maxLabelSize,p.truncated):p,b=this.createText(Y,R,f+(0<U.length?W:0)+g+(J?0:e),d+(0<U.length?$:0)+m+(J?0:q),L,p.text,N,Z);p.truncated&&this.chart.formatTruncatedLabel(b,a.label,Y);p.truncated&&this.labelTooltip(b,this.chart,a.label,p.text,N,Y);"html"==Y?this.htmlElements.push(b):J&&b.setTransform([{dx:e,dy:q},c.matrix.rotategAt(J,f+(0<U.length?W:0)+g,d+(0<U.length?$:0)+m)])}},this);W=k*aa.length;$=l*aa.length;n.forEach(C.micro,
function(a){var b=ba(a.value);a=t+y*b;b=E+v*b;this.createLine(R,{x1:a,y1:b,x2:a+W,y2:b+$}).setStroke(aa)},this);this.dirty=!1;return this},labelTooltip:function(a,f,d,e,q,m){var h=["dijit/Tooltip"],k={type:"rect"},n=["above","below"];e=c._base._getTextBox(e,{font:q}).w||0;q=q?c.normalizedLength(c.splitFontString(q).size):0;"html"==m?(l.mixin(k,b.position(a.firstChild,!0)),k.width=Math.ceil(e),k.height=Math.ceil(q),this._events.push({shape:dojo,handle:g.connect(a.firstChild,"onmouseover",this,function(a){require(h,
function(a){a.show(d,k,n)})})}),this._events.push({shape:dojo,handle:g.connect(a.firstChild,"onmouseout",this,function(a){require(h,function(a){a.hide(k)})})})):(m=a.getShape(),f=f.getCoords(),k=l.mixin(k,{x:m.x-e/2,y:m.y}),k.x+=f.x,k.y+=f.y,k.x=Math.round(k.x),k.y=Math.round(k.y),k.width=Math.ceil(e),k.height=Math.ceil(q),this._events.push({shape:a,handle:a.connect("onmouseenter",this,function(a){require(h,function(a){a.show(d,k,n)})})}),this._events.push({shape:a,handle:a.connect("onmouseleave",
this,function(a){require(h,function(a){a.hide(k)})})}))},_isRtl:function(){return!1}});return h("dojo-bidi")?k("dojox.charting.axis2d.Default",[e,q]):e})},"dojox/charting/axis2d/Invisible":function(){define(["dojo/_base/lang","dojo/_base/declare","./Base","../scaler/linear","dojox/lang/utils"],function(l,n,h,k,g){return n("dojox.charting.axis2d.Invisible",h,{defaultParams:{vertical:!1,fixUpper:"none",fixLower:"none",natural:!1,leftBottom:!0,includeZero:!1,fixed:!0},optionalParams:{min:0,max:1,from:0,
to:1,majorTickStep:4,minorTickStep:2,microTickStep:1},constructor:function(b,e){this.opt=l.clone(this.defaultParams);g.updateWithObject(this.opt,e);g.updateWithPattern(this.opt,e,this.optionalParams)},dependOnData:function(){return!("min"in this.opt)||!("max"in this.opt)},clear:function(){delete this.scaler;delete this.ticks;this.dirty=!0;return this},initialized:function(){return"scaler"in this&&!(this.dirty&&this.dependOnData())},setWindow:function(b,e){this.scale=b;this.offset=e;return this.clear()},
getWindowScale:function(){return"scale"in this?this.scale:1},getWindowOffset:function(){return"offset"in this?this.offset:0},calculate:function(b,e,d){if(this.initialized())return this;var a=this.opt;this.labels=a.labels;this.scaler=k.buildScaler(b,e,d,a);var c=this.scaler.bounds;"scale"in this&&(a.from=c.lower+this.offset,a.to=(c.upper-c.lower)/this.scale+a.from,!isFinite(a.from)||isNaN(a.from)||!isFinite(a.to)||isNaN(a.to)||a.to-a.from>=c.upper-c.lower?(delete a.from,delete a.to,delete this.scale,
delete this.offset):(a.from<c.lower?(a.to+=c.lower-a.from,a.from=c.lower):a.to>c.upper&&(a.from+=c.upper-a.to,a.to=c.upper),this.offset=a.from-c.lower),this.scaler=k.buildScaler(b,e,d,a),1==this.scale&&0==this.offset&&(delete this.scale,delete this.offset));return this},getScaler:function(){return this.scaler},getTicks:function(){return this.ticks}})})},"dojox/charting/axis2d/Base":function(){define(["dojo/_base/declare","../Element"],function(l,n){return l("dojox.charting.axis2d.Base",n,{constructor:function(h,
k){this.vertical=k&&k.vertical;this.opt={};this.opt.min=k&&k.min;this.opt.max=k&&k.max},clear:function(){return this},initialized:function(){return!1},calculate:function(h,k,g){return this},getScaler:function(){return null},getTicks:function(){return null},getOffsets:function(){return{l:0,r:0,t:0,b:0}},render:function(h,k){this.dirty=!1;return this}})})},"dojox/charting/scaler/linear":function(){define(["dojo/_base/lang","./common"],function(l,n){function h(b,d){b=b.toLowerCase();for(var a=d.length-
1;0<=a;--a)if(b===d[a])return!0;return!1}var k=l.getObject("dojox.charting.scaler.linear",!0),g=n.getNumericLabel,b=function(b,d,a,c,g,f,q){a=l.delegate(a);c||("major"==a.fixUpper&&(a.fixUpper="minor"),"major"==a.fixLower&&(a.fixLower="minor"));g||("minor"==a.fixUpper&&(a.fixUpper="micro"),"minor"==a.fixLower&&(a.fixLower="micro"));f||("micro"==a.fixUpper&&(a.fixUpper="none"),"micro"==a.fixLower&&(a.fixLower="none"));var p=h(a.fixLower,["major"])?Math.floor(a.min/c)*c:h(a.fixLower,["minor"])?Math.floor(a.min/
g)*g:h(a.fixLower,["micro"])?Math.floor(a.min/f)*f:a.min,G=h(a.fixUpper,["major"])?Math.ceil(a.max/c)*c:h(a.fixUpper,["minor"])?Math.ceil(a.max/g)*g:h(a.fixUpper,["micro"])?Math.ceil(a.max/f)*f:a.max;a.useMin&&(b=p);a.useMax&&(d=G);var z=!c||a.useMin&&h(a.fixLower,["major"])?b:Math.ceil(b/c)*c,w=!g||a.useMin&&h(a.fixLower,["major","minor"])?b:Math.ceil(b/g)*g,r=!f||a.useMin&&h(a.fixLower,["major","minor","micro"])?b:Math.ceil(b/f)*f,A=!c?0:(a.useMax&&h(a.fixUpper,["major"])?Math.round((d-z)/c):Math.floor((d-
z)/c))+1,n=!g?0:(a.useMax&&h(a.fixUpper,["major","minor"])?Math.round((d-w)/g):Math.floor((d-w)/g))+1;a=!f?0:(a.useMax&&h(a.fixUpper,["major","minor","micro"])?Math.round((d-r)/f):Math.floor((d-r)/f))+1;var s=g?Math.round(c/g):0,y=f?Math.round(g/f):0,v=c?Math.floor(Math.log(c)/Math.LN10):0,D=g?Math.floor(Math.log(g)/Math.LN10):0,x=q/(d-b);isFinite(x)||(x=1);return{bounds:{lower:p,upper:G,from:b,to:d,scale:x,span:q},major:{tick:c,start:z,count:A,prec:v},minor:{tick:g,start:w,count:n,prec:D},micro:{tick:f,
start:r,count:a,prec:0},minorPerMajor:s,microPerMinor:y,scaler:k}};return l.mixin(k,{buildScaler:function(e,d,a,c,g,f){var q={fixUpper:"none",fixLower:"none",natural:!1};c&&("fixUpper"in c&&(q.fixUpper=String(c.fixUpper)),"fixLower"in c&&(q.fixLower=String(c.fixLower)),"natural"in c&&(q.natural=Boolean(c.natural)));f=!f||3>f?3:f;"min"in c&&(e=c.min);"max"in c&&(d=c.max);c.includeZero&&(0<e&&(e=0),0>d&&(d=0));q.min=e;q.useMin=!0;q.max=d;q.useMax=!0;"from"in c&&(e=c.from,q.useMin=!1);"to"in c&&(d=c.to,
q.useMax=!1);if(d<=e)return b(e,d,q,0,0,0,a);g||(g=d-e);g=Math.floor(Math.log(g)/Math.LN10);g=c&&"majorTickStep"in c?c.majorTickStep:Math.pow(10,g);var p=0,h=0,k;if(c&&"minorTickStep"in c)p=c.minorTickStep;else{do{p=g/10;if(!q.natural||0.9<p)if(k=b(e,d,q,g,p,0,a),k.bounds.scale*k.minor.tick>f)break;p=g/5;if(!q.natural||0.9<p)if(k=b(e,d,q,g,p,0,a),k.bounds.scale*k.minor.tick>f)break;p=g/2;if(!q.natural||0.9<p)if(k=b(e,d,q,g,p,0,a),k.bounds.scale*k.minor.tick>f)break;return b(e,d,q,g,0,0,a)}while(0)
}if(c&&"microTickStep"in c)h=c.microTickStep,k=b(e,d,q,g,p,h,a);else{do{h=p/10;if(!q.natural||0.9<h)if(k=b(e,d,q,g,p,h,a),3<k.bounds.scale*k.micro.tick)break;h=p/5;if(!q.natural||0.9<h)if(k=b(e,d,q,g,p,h,a),3<k.bounds.scale*k.micro.tick)break;h=p/2;if(!q.natural||0.9<h)if(k=b(e,d,q,g,p,h,a),3<k.bounds.scale*k.micro.tick)break;h=0}while(0)}return h?k:b(e,d,q,g,p,0,a)},buildTicks:function(b,d){var a,c,h,f=b.major.start,q=b.minor.start,p=b.micro.start;if(d.microTicks&&b.micro.tick)a=b.micro.tick,c=p;
else if(d.minorTicks&&b.minor.tick)a=b.minor.tick,c=q;else if(b.major.tick)a=b.major.tick,c=f;else return null;var k=1/b.bounds.scale;if(b.bounds.to<=b.bounds.from||isNaN(k)||!isFinite(k)||0>=a||isNaN(a)||!isFinite(a))return null;for(var z=[],l=[],r=[];c<=b.bounds.to+k;)Math.abs(f-c)<a/2?(h={value:f},d.majorLabels&&(h.label=g(f,b.major.prec,d)),z.push(h),f+=b.major.tick,q+=b.minor.tick):Math.abs(q-c)<a/2?(d.minorTicks&&(h={value:q},d.minorLabels&&b.minMinorStep<=b.minor.tick*b.bounds.scale&&(h.label=
g(q,b.minor.prec,d)),l.push(h)),q+=b.minor.tick):d.microTicks&&r.push({value:p}),p+=b.micro.tick,c+=a;return{major:z,minor:l,micro:r}},getTransformerFromModel:function(b){var d=b.bounds.from,a=b.bounds.scale;return function(b){return(b-d)*a}},getTransformerFromPlot:function(b){var d=b.bounds.from,a=b.bounds.scale;return function(b){return b/a+d}}})})},"dojox/charting/scaler/common":function(){define(["dojo/_base/lang"],function(l){var n=function(g,b){return Math.abs(g-b)<=1E-6*(Math.abs(g)+Math.abs(b))},
h=l.getObject("dojox.charting.scaler.common",!0),k={};return l.mixin(h,{doIfLoaded:function(g,b,e){if(void 0==k[g])try{k[g]=require(g)}catch(d){k[g]=null}return k[g]?b(k[g]):e()},getNumericLabel:function(g,b,e){var d="";h.doIfLoaded("dojo/number",function(a){d=(e.fixed?a.format(g,{places:0>b?-b:0}):a.format(g))||""},function(){d=e.fixed?g.toFixed(0>b?-b:0):g.toString()});if(e.labelFunc){var a=e.labelFunc(d,g,b);if(a)return a}if(e.labels){for(var a=e.labels,c=0,m=a.length;c<m;){var f=Math.floor((c+
m)/2);a[f].value<g?c=f+1:m=f}if(c<a.length&&n(a[c].value,g))return a[c].text;--c;if(0<=c&&c<a.length&&n(a[c].value,g))return a[c].text;c+=2;if(c<a.length&&n(a[c].value,g))return a[c].text}return d}})})},"dojox/charting/plot2d/Default":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/has ./CartesianBase ./_PlotEvents ./common dojox/lang/functional dojox/lang/functional/reversed dojox/lang/utils dojox/gfx/fx".split(" "),function(l,n,h,k,g,b,e,d,a,c,m){var f=a.lambda("item.purgeGroup()");
return n("dojox.charting.plot2d.Default",[g,b],{defaultParams:{lines:!0,areas:!1,markers:!1,tension:"",animate:!1,enableCache:!1,interpolate:!1},optionalParams:{stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:"",marker:"",markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerFont:"",markerFontColor:""},constructor:function(a,b){this.opt=l.clone(l.mixin(this.opt,this.defaultParams));c.updateWithObject(this.opt,b);c.updateWithPattern(this.opt,b,this.optionalParams);
this.animate=this.opt.animate},createPath:function(a,b,c){var f;this.opt.enableCache&&0<a._pathFreePool.length?(f=a._pathFreePool.pop(),f.setShape(c),b.add(f)):f=b.createPath(c);this.opt.enableCache&&a._pathUsePool.push(f);return f},buildSegments:function(a,b){for(var c=this.series[a],f=b?Math.max(0,Math.floor(this._hScaler.bounds.from-1)):0,d=b?Math.min(c.data.length,Math.ceil(this._hScaler.bounds.to)):c.data.length,e=null,g=[];f<d;f++)if(null!=c.data[f]&&(b||null!=c.data[f].y))e||(e=[],g.push({index:f,
rseg:e})),e.push(b&&c.data[f].hasOwnProperty("y")?c.data[f].y:c.data[f]);else if(!this.opt.interpolate||b)e=null;return g},render:function(a,b){if(this.zoom&&!this.isDataDirty())return this.performZoom(a,b);this.resetEvents();this.dirty=this.isDirty();var c;this.dirty&&(h.forEach(this.series,f),this._eventSeries={},this.cleanGroup(),this.getGroup().setTransform(null),c=this.getGroup(),d.forEachRev(this.series,function(a){a.cleanGroup(c)}));for(var g=this.chart.theme,w,r,A=this.events(),n=this.series.length-
1;0<=n;--n){var s=this.series[n];if(!this.dirty&&!s.dirty)g.skip(),this._reconnectEvents(s.name);else if(s.cleanGroup(),this.opt.enableCache&&(s._pathFreePool=(s._pathFreePool?s._pathFreePool:[]).concat(s._pathUsePool?s._pathUsePool:[]),s._pathUsePool=[]),s.data.length){var y=g.next(this.opt.areas?"area":"line",[this.opt,s],!0),v,D=this._hScaler.scaler.getTransformerFromModel(this._hScaler),x=this._vScaler.scaler.getTransformerFromModel(this._vScaler),u=this._eventSeries[s.name]=Array(s.data.length);
c=s.group;if(s.hidden)this.opt.lines&&(s.dyn.stroke=y.series.stroke),this.opt.markers&&(s.dyn.markerFill=y.marker.fill,s.dyn.markerStroke=y.marker.stroke,s.dyn.marker=y.symbol),this.opt.areas&&(s.dyn.fill=y.series.fill);else{for(var B=h.some(s.data,function(a){return"number"==typeof a||a&&!a.hasOwnProperty("x")}),E=this.buildSegments(n,B),t=0;t<E.length;t++){var K=E[t];v=B?h.map(K.rseg,function(c,f){return{x:D(f+K.index+1)+b.l,y:a.height-b.b-x(c),data:c}},this):h.map(K.rseg,function(c){return{x:D(c.x)+
b.l,y:a.height-b.b-x(c.y),data:c}},this);if(B&&this.opt.interpolate)for(;t<E.length;)t++,(K=E[t])&&(v=v.concat(h.map(K.rseg,function(c,f){return{x:D(f+K.index+1)+b.l,y:a.height-b.b-x(c),data:c}},this)));var H=this.opt.tension?e.curve(v,this.opt.tension):"";if(this.opt.areas&&1<v.length){var I=this._plotFill(y.series.fill,a,b),C=l.clone(v);this.opt.tension?s.dyn.fill=c.createPath(H+" "+("L"+C[C.length-1].x+","+(a.height-b.b)+" L"+C[0].x+","+(a.height-b.b)+" L"+C[0].x+","+C[0].y)).setFill(I).getFill():
(C.push({x:v[v.length-1].x,y:a.height-b.b}),C.push({x:v[0].x,y:a.height-b.b}),C.push(v[0]),s.dyn.fill=c.createPolyline(C).setFill(I).getFill())}if(this.opt.lines||this.opt.markers)w=y.series.stroke,y.series.outline&&(r=s.dyn.outline=e.makeStroke(y.series.outline),r.width=2*r.width+w.width);this.opt.markers&&(s.dyn.marker=y.symbol);var J=null,M=null,F=null;if(w&&y.series.shadow&&1<v.length){var L=y.series.shadow,I=h.map(v,function(a){return{x:a.x+L.dx,y:a.y+L.dy}});this.opt.lines&&(s.dyn.shadow=this.opt.tension?
c.createPath(e.curve(I,this.opt.tension)).setStroke(L).getStroke():c.createPolyline(I).setStroke(L).getStroke());this.opt.markers&&y.marker.shadow&&(L=y.marker.shadow,F=h.map(I,function(a){return this.createPath(s,c,"M"+a.x+" "+a.y+" "+y.symbol).setStroke(L).setFill(L.color)},this))}if(this.opt.lines&&1<v.length){var N;r&&(s.dyn.outline=this.opt.tension?c.createPath(H).setStroke(r).getStroke():c.createPolyline(v).setStroke(r).getStroke());s.dyn.stroke=this.opt.tension?(N=c.createPath(H)).setStroke(w).getStroke():
(N=c.createPolyline(v)).setStroke(w).getStroke();N.setFilter&&y.series.filter&&N.setFilter(y.series.filter)}H=null;if(this.opt.markers){var O=y,J=Array(v.length),M=Array(v.length);r=null;O.marker.outline&&(r=e.makeStroke(O.marker.outline),r.width=2*r.width+(O.marker.stroke?O.marker.stroke.width:0));h.forEach(v,function(a,b){if(this.opt.styleFunc||"number"!=typeof a.data){var f="number"!=typeof a.data?[a.data]:[];this.opt.styleFunc&&f.push(this.opt.styleFunc(a.data));O=g.addMixin(y,"marker",f,!0)}else O=
g.post(y,"marker");f="M"+a.x+" "+a.y+" "+O.symbol;r&&(M[b]=this.createPath(s,c,f).setStroke(r));J[b]=this.createPath(s,c,f).setStroke(O.marker.stroke).setFill(O.marker.fill)},this);s.dyn.markerFill=O.marker.fill;s.dyn.markerStroke=O.marker.stroke;!H&&this.opt.labels&&(H=J[0].getBoundingBox());A?h.forEach(J,function(a,b){var c={element:"marker",index:b+K.index,run:s,shape:a,outline:M[b]||null,shadow:F&&F[b]||null,cx:v[b].x,cy:v[b].y};B?(c.x=b+K.index+1,c.y=s.data[b+K.index]):(c.x=K.rseg[b].x,c.y=s.data[b+
K.index].y);this._connectEvents(c);u[b+K.index]=c},this):delete this._eventSeries[s.name]}if(this.opt.labels){var Z=H?H.width:2,X=H?H.height:2;h.forEach(v,function(a,b){if(this.opt.styleFunc||"number"!=typeof a.data){var f="number"!=typeof a.data?[a.data]:[];this.opt.styleFunc&&f.push(this.opt.styleFunc(a.data));O=g.addMixin(y,"marker",f,!0)}else O=g.post(y,"marker");this.createLabel(c,K.rseg[b],{x:a.x-Z/2,y:a.y-X/2,width:Z,height:X},O)},this)}}s.dirty=!1}}else s.dirty=!1,g.skip()}k("dojo-bidi")&&
this._checkOrientation(this.group,a,b);this.animate&&(w=this.getGroup(),m.animateTransform(l.delegate({shape:w,duration:1200,transform:[{name:"translate",start:[0,a.height-b.b],end:[0,0]},{name:"scale",start:[1,0],end:[1,1]},{name:"original"}]},this.animate)).play());this.dirty=!1;return this}})})},"dojox/charting/plot2d/CartesianBase":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/connect dojo/has ./Base ../scaler/primitive dojox/gfx dojox/gfx/fx dojox/lang/utils".split(" "),function(l,
n,h,k,g,b,e,d,a){return n("dojox.charting.plot2d.CartesianBase",g,{baseParams:{hAxis:"x",vAxis:"y",labels:!1,labelOffset:10,fixed:!0,precision:1,labelStyle:"inside",htmlLabels:!0,omitLabels:!0,labelFunc:null},constructor:function(b,d){this.axes=["hAxis","vAxis"];this.zoom=null;this.zoomQueue=[];this.lastWindow={vscale:1,hscale:1,xoffset:0,yoffset:0};this.hAxis=d&&d.hAxis||"x";this.vAxis=d&&d.vAxis||"y";this.series=[];this.opt=l.clone(this.baseParams);a.updateWithObject(this.opt,d)},clear:function(){this.inherited(arguments);
this._vAxis=this._hAxis=null;return this},cleanGroup:function(a,b){this.inherited(arguments);if(!b&&this.chart._nativeClip){var f=this.chart.offsets,d=this.chart.dim,e=Math.max(0,d.width-f.l-f.r),d=Math.max(0,d.height-f.t-f.b);this.group.setClip({x:f.l,y:f.t,width:e,height:d});this._clippedGroup||(this._clippedGroup=this.group.createGroup())}},purgeGroup:function(){this.inherited(arguments);this._clippedGroup=null},getGroup:function(){return this._clippedGroup||this.group},setAxis:function(a){a&&
(this[a.vertical?"_vAxis":"_hAxis"]=a);return this},toPage:function(a){var b=this._hAxis,f=this._vAxis,d=b.getScaler(),e=f.getScaler(),g=d.scaler.getTransformerFromModel(d),h=e.scaler.getTransformerFromModel(e),k=this.chart.getCoords(),l=this.chart.offsets,A=this.chart.dim,d=function(a){var c={};c.x=g(a[b.name])+k.x+l.l;c.y=k.y+A.height-l.b-h(a[f.name]);return c};return a?d(a):d},toData:function(a){var b=this._hAxis,f=this._vAxis,d=b.getScaler(),e=f.getScaler(),g=d.scaler.getTransformerFromPlot(d),
h=e.scaler.getTransformerFromPlot(e),k=this.chart.getCoords(),l=this.chart.offsets,A=this.chart.dim,d=function(a){var c={};c[b.name]=g(a.x-k.x-l.l);c[f.name]=h(k.y+A.height-a.y-l.b);return c};return a?d(a):d},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty},createLabel:function(a,b,f,d){if(this.opt.labels){var g,h=this.opt.labelFunc?this.opt.labelFunc.apply(this,[b,this.opt.fixed,this.opt.precision]):this._getLabel(isNaN(b.y)?b:b.y);if("inside"==
this.opt.labelStyle){var k=e._base._getTextBox(h,{font:d.series.font});b=f.x+f.width/2;g=f.y+f.height/2+k.h/4;if(k.w>f.width||k.h>f.height)return}else b=f.x+f.width/2,g=f.y-this.opt.labelOffset;this.renderLabel(a,b,g,h,d,"inside"==this.opt.labelStyle)}},performZoom:function(a,b){var f=this._vAxis.scale||1,e=this._hAxis.scale||1,g=a.height-b.b,k=this._hScaler.bounds,k=(k.from-k.lower)*k.scale,z=this._vScaler.bounds,z=(z.from-z.lower)*z.scale,w=f/this.lastWindow.vscale,r=e/this.lastWindow.hscale,A=
(this.lastWindow.xoffset-k)/(1==this.lastWindow.hscale?e:this.lastWindow.hscale),n=(z-this.lastWindow.yoffset)/(1==this.lastWindow.vscale?f:this.lastWindow.vscale),s=this.getGroup(),g=d.animateTransform(l.delegate({shape:s,duration:1200,transform:[{name:"translate",start:[0,0],end:[b.l*(1-r),g*(1-w)]},{name:"scale",start:[1,1],end:[r,w]},{name:"original"},{name:"translate",start:[0,0],end:[A,n]}]},this.zoom));l.mixin(this.lastWindow,{vscale:f,hscale:e,xoffset:k,yoffset:z});this.zoomQueue.push(g);
h.connect(g,"onEnd",this,function(){this.zoom=null;this.zoomQueue.shift();0<this.zoomQueue.length&&this.zoomQueue[0].play()});1==this.zoomQueue.length&&this.zoomQueue[0].play();return this},initializeScalers:function(a,d){this._hAxis?(this._hAxis.initialized()||this._hAxis.calculate(d.hmin,d.hmax,a.width),this._hScaler=this._hAxis.getScaler()):this._hScaler=b.buildScaler(d.hmin,d.hmax,a.width);this._vAxis?(this._vAxis.initialized()||this._vAxis.calculate(d.vmin,d.vmax,a.height),this._vScaler=this._vAxis.getScaler()):
this._vScaler=b.buildScaler(d.vmin,d.vmax,a.height);return this}})})},"dojox/charting/plot2d/Base":function(){define("dojo/_base/declare dojo/_base/array dojox/gfx ../Element ./common ../axis2d/common dojo/has".split(" "),function(l,n,h,k,g,b,e){l=l("dojox.charting.plot2d.Base",k,{constructor:function(b,a){a&&a.tooltipFunc&&(this.tooltipFunc=a.tooltipFunc)},clear:function(){this.series=[];this.dirty=!0;return this},setAxis:function(b){return this},assignAxes:function(b){n.forEach(this.axes,function(a){this[a]&&
this.setAxis(b[this[a]])},this)},addSeries:function(b){this.series.push(b);return this},getSeriesStats:function(){return g.collectSimpleStats(this.series)},calculateAxes:function(b){this.initializeScalers(b,this.getSeriesStats());return this},initializeScalers:function(){return this},isDataDirty:function(){return n.some(this.series,function(b){return b.dirty})},render:function(b,a){return this},renderLabel:function(d,a,c,e,f,g,p){d=b.createText[this.opt.htmlLabels&&"vml"!=h.renderer?"html":"gfx"](this.chart,
d,a,c,p?p:"middle",e,f.series.font,f.series.fontColor);g&&(this.opt.htmlLabels&&"vml"!=h.renderer?d.style.pointerEvents="none":d.rawNode&&(d.rawNode.style.pointerEvents="none"));this.opt.htmlLabels&&"vml"!=h.renderer&&this.htmlElements.push(d);return d},getRequiredColors:function(){return this.series.length},_getLabel:function(b){return g.getLabel(b,this.opt.fixed,this.opt.precision)}});e("dojo-bidi")&&l.extend({_checkOrientation:function(b,a,c){this.chart.applyMirroring(this.group,a,c)}});return l})},
"dojox/charting/plot2d/common":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/Color dojox/gfx dojox/lang/functional ../scaler/common".split(" "),function(l,n,h,k,g,b){var e=l.getObject("dojox.charting.plot2d.common",!0);return l.mixin(e,{doIfLoaded:b.doIfLoaded,makeStroke:function(b){if(!b)return b;if("string"==typeof b||b instanceof h)b={color:b};return k.makeParameters(k.defaultStroke,b)},augmentColor:function(b,a){var c=new h(b),e=new h(a);e.a=c.a;return e},augmentStroke:function(b,
a){var c=e.makeStroke(b);c&&(c.color=e.augmentColor(c.color,a));return c},augmentFill:function(b,a){new h(a);return"string"==typeof b||b instanceof h?e.augmentColor(b,a):b},defaultStats:{vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY,hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(b){for(var a=l.delegate(e.defaultStats),c=0;c<b.length;++c)for(var g=b[c],f=0;f<g.data.length;f++)if(null!==g.data[f]){if("number"==typeof g.data[f]){var f=a.vmin,h=
a.vmax;n.forEach(g.data,function(b,c){if(null!==b){var f=c+1,d=b;isNaN(d)&&(d=0);a.hmin=Math.min(a.hmin,f);a.hmax=Math.max(a.hmax,f);a.vmin=Math.min(a.vmin,d);a.vmax=Math.max(a.vmax,d)}})}else{var p=a.hmin,k=a.hmax,f=a.vmin,h=a.vmax;(!("xmin"in g)||!("xmax"in g)||!("ymin"in g)||!("ymax"in g))&&n.forEach(g.data,function(b,c){if(null!==b){var f="x"in b?b.x:c+1,d=b.y;isNaN(f)&&(f=0);isNaN(d)&&(d=0);a.hmin=Math.min(a.hmin,f);a.hmax=Math.max(a.hmax,f);a.vmin=Math.min(a.vmin,d);a.vmax=Math.max(a.vmax,d)}});
"xmin"in g&&(a.hmin=Math.min(p,g.xmin));"xmax"in g&&(a.hmax=Math.max(k,g.xmax))}"ymin"in g&&(a.vmin=Math.min(f,g.ymin));"ymax"in g&&(a.vmax=Math.max(h,g.ymax));break}return a},calculateBarSize:function(b,a,c){c||(c=1);var e=a.gap,e=(b-2*e)/c;"minBarSize"in a&&(e=Math.max(e,a.minBarSize));"maxBarSize"in a&&(e=Math.min(e,a.maxBarSize));e=Math.max(e,1);return{size:e,gap:(b-e*c)/2}},collectStackedStats:function(b){var a=l.clone(e.defaultStats);if(b.length){a.hmin=Math.min(a.hmin,1);a.hmax=g.foldl(b,"seed, run -\x3e Math.max(seed, run.data.length)",
a.hmax);for(var c=0;c<a.hmax;++c){var h=b[0].data[c],h=h&&("number"==typeof h?h:h.y);isNaN(h)&&(h=0);a.vmin=Math.min(a.vmin,h);for(var f=1;f<b.length;++f){var q=b[f].data[c],q=q&&("number"==typeof q?q:q.y);isNaN(q)&&(q=0);h+=q}a.vmax=Math.max(a.vmax,h)}}return a},curve:function(b,a){var c=b.slice(0);"x"==a&&(c[c.length]=c[0]);return n.map(c,function(b,f){if(0==f)return"M"+b.x+","+b.y;if(isNaN(a)){if("X"==a||"x"==a||"S"==a){var d,e=c[f-1],g=c[f],h,k,l,A=1/6;1==f?(d="x"==a?c[c.length-2]:e,A=1/3):d=
c[f-2];f==c.length-1?(h="x"==a?c[1]:g,A=1/3):h=c[f+1];k=Math.sqrt((g.x-e.x)*(g.x-e.x)+(g.y-e.y)*(g.y-e.y));l=Math.sqrt((g.x-d.x)*(g.x-d.x)+(g.y-d.y)*(g.y-d.y));var n=Math.sqrt((h.x-e.x)*(h.x-e.x)+(h.y-e.y)*(h.y-e.y)),s=l*A,A=n*A;s>k/2&&A>k/2?(s=k/2,A=k/2):s>k/2?(s=k/2,A=k/2*n/l):A>k/2&&(A=k/2,s=k/2*l/n);"S"==a&&(d==e&&(s=0),g==h&&(A=0));k=e.x+s*(g.x-d.x)/l;d=e.y+s*(g.y-d.y)/l;l=g.x-A*(h.x-e.x)/n;e=g.y-A*(h.y-e.y)/n}}else return g=b.x-c[f-1].x,"C"+(b.x-(a-1)*(g/a))+","+c[f-1].y+" "+(b.x-g/a)+","+b.y+
" "+b.x+","+b.y;return"C"+(k+","+d+" "+l+","+e+" "+g.x+","+g.y)}).join(" ")},getLabel:function(d,a,c){return b.doIfLoaded("dojo/number",function(b){return(a?b.format(d,{places:c}):b.format(d))||""},function(){return a?d.toFixed(c):d.toString()})}})})},"dojox/charting/scaler/primitive":function(){define(["dojo/_base/lang"],function(l){var n=l.getObject("dojox.charting.scaler.primitive",!0);return l.mixin(n,{buildScaler:function(h,k,g,b){h==k&&(h-=0.5,k+=0.5);return{bounds:{lower:h,upper:k,from:h,to:k,
scale:g/(k-h),span:g},scaler:n}},buildTicks:function(h,k){return{major:[],minor:[],micro:[]}},getTransformerFromModel:function(h){var k=h.bounds.from,g=h.bounds.scale;return function(b){return(b-k)*g}},getTransformerFromPlot:function(h){var k=h.bounds.from,g=h.bounds.scale;return function(b){return b/g+k}}})})},"dojox/gfx/fx":function(){define("dojo/_base/lang ./_base ./matrix dojo/_base/Color dojo/_base/array dojo/_base/fx dojo/_base/connect dojo/sniff".split(" "),function(l,n,h,k,g,b,e,d){function a(a,
b){this.start=a;this.end=b}function c(a,b,c){this.start=a;this.end=b;this.units=c}function m(a,b){this.start=a;this.end=b;this.temp=new k}function f(a){this.values=a;this.length=a.length}function q(a,b){this.values=a;this.def=b?b:{}}function p(a,b){this.stack=a;this.original=b}function G(a,b,c,d){if(a.values)return new f(a.values);var e,g;g=a.start?n.normalizeColor(a.start):e=b?c?b[c]:b:d;a.end?a=n.normalizeColor(a.end):(e||(e=b?c?b[c]:b:d),a=e);return new m(g,a)}var z=n.fx={};a.prototype.getValue=
function(a){return(this.end-this.start)*a+this.start};c.prototype.getValue=function(a){return(this.end-this.start)*a+this.start+this.units};m.prototype.getValue=function(a){return k.blendColors(this.start,this.end,a,this.temp)};f.prototype.getValue=function(a){return this.values[Math.min(Math.floor(a*this.length),this.length-1)]};q.prototype.getValue=function(a){var b=l.clone(this.def),c;for(c in this.values)b[c]=this.values[c].getValue(a);return b};p.prototype.getValue=function(a){var b=[];g.forEach(this.stack,
function(c){if(c instanceof h.Matrix2D)b.push(c);else if("original"==c.name&&this.original)b.push(this.original);else if("matrix"==c.name){if(c.start instanceof h.Matrix2D&&c.end instanceof h.Matrix2D){var f=new h.Matrix2D,d;for(d in c.start)f[d]=(c.end[d]-c.start[d])*a+c.start[d];b.push(f)}}else c.name in h&&(f=h[c.name],"function"!=typeof f?b.push(f):(d=g.map(c.start,function(b,f){return(c.end[f]-b)*a+b}),f=f.apply(h,d),f instanceof h.Matrix2D&&b.push(f)))},this);return b};var w=new k(0,0,0,0);
z.animateStroke=function(c){c.easing||(c.easing=b._defaultEasing);var d=new b.Animation(c),g=c.shape,h;e.connect(d,"beforeBegin",d,function(){h=g.getStroke();var b=c.color,d={},e;b&&(d.color=G(b,h,"color",w));if((b=c.style)&&b.values)d.style=new f(b.values);if(b=c.width){var p=b;p.values?e=new f(p.values):(b=p.start?p.start:e=h?h.width:1,p.end?e=p.end:"number"!=typeof e&&(e=h?h.width:1),e=new a(b,e));d.width=e}if((b=c.cap)&&b.values)d.cap=new f(b.values);if(b=c.join)b.values?d.join=new f(b.values):
(e=b.start?b.start:h&&h.join||0,b=b.end?b.end:h&&h.join||0,"number"==typeof e&&"number"==typeof b&&(d.join=new a(e,b)));this.curve=new q(d,h)});e.connect(d,"onAnimate",g,"setStroke");return d};z.animateFill=function(a){a.easing||(a.easing=b._defaultEasing);var c=new b.Animation(a),f=a.shape,d;e.connect(c,"beforeBegin",c,function(){d=f.getFill();var b=a.color;b&&(this.curve=G(b,d,"",w))});e.connect(c,"onAnimate",f,"setFill");return c};z.animateFont=function(a){a.easing||(a.easing=b._defaultEasing);
var d=new b.Animation(a),g=a.shape,h;e.connect(d,"beforeBegin",d,function(){h=g.getFont();var b=a.style,d={},e,p;b&&b.values&&(d.style=new f(b.values));if((b=a.variant)&&b.values)d.variant=new f(b.values);if((b=a.weight)&&b.values)d.weight=new f(b.values);if((b=a.family)&&b.values)d.family=new f(b.values);if((b=a.size)&&b.units)e=parseFloat(b.start?b.start:g.font&&g.font.size||"0"),p=parseFloat(b.end?b.end:g.font&&g.font.size||"0"),d.size=new c(e,p,b.units);this.curve=new q(d,h)});e.connect(d,"onAnimate",
g,"setFont");return d};z.animateTransform=function(a){a.easing||(a.easing=b._defaultEasing);var c=new b.Animation(a),f=a.shape,h;e.connect(c,"beforeBegin",c,function(){h=f.getTransform();this.curve=new p(a.transform,h)});e.connect(c,"onAnimate",f,"setTransform");if("svg"===n.renderer&&10<=d("ie"))var k=[e.connect(c,"onBegin",c,function(){for(var a=f.getParent();a&&a.getParent;)a=a.getParent();a&&(f.__svgContainer=a.rawNode.parentNode)}),e.connect(c,"onAnimate",c,function(){try{if(f.__svgContainer){var a=
f.__svgContainer.style.visibility;f.__svgContainer.style.visibility="visible";f.__svgContainer.style.visibility=a}}catch(b){}}),e.connect(c,"onEnd",c,function(){g.forEach(k,e.disconnect);if(f.__svgContainer){var a=f.__svgContainer.style.visibility,b=f.__svgContainer;f.__svgContainer.style.visibility="visible";setTimeout(function(){try{b.style.visibility=a,b=null}catch(c){}},100)}delete f.__svgContainer})];return c};return z})},"dojox/charting/plot2d/_PlotEvents":function(){define(["dojo/_base/lang",
"dojo/_base/array","dojo/_base/declare","dojo/_base/connect"],function(l,n,h,k){return h("dojox.charting.plot2d._PlotEvents",null,{constructor:function(){this._shapeEvents=[];this._eventSeries={}},destroy:function(){this.resetEvents();this.inherited(arguments)},plotEvent:function(g){},raiseEvent:function(g){this.plotEvent(g);var b=l.delegate(g);b.originalEvent=g.type;b.originalPlot=g.plot;b.type="onindirect";n.forEach(this.chart.stack,function(e){e!==this&&e.plotEvent&&(b.plot=e,e.plotEvent(b))},
this)},connect:function(g,b){this.dirty=!0;return k.connect(this,"plotEvent",g,b)},events:function(){return!!this.plotEvent.after},resetEvents:function(){this._shapeEvents.length&&(n.forEach(this._shapeEvents,function(g){g.shape.disconnect(g.handle)}),this._shapeEvents=[]);this.raiseEvent({type:"onplotreset",plot:this})},_connectSingleEvent:function(g,b){this._shapeEvents.push({shape:g.eventMask,handle:g.eventMask.connect(b,this,function(e){g.type=b;g.event=e;this.raiseEvent(g);g.event=null})})},
_connectEvents:function(g){g&&(g.chart=this.chart,g.plot=this,g.hAxis=this.hAxis||null,g.vAxis=this.vAxis||null,g.eventMask=g.eventMask||g.shape,this._connectSingleEvent(g,"onmouseover"),this._connectSingleEvent(g,"onmouseout"),this._connectSingleEvent(g,"onclick"))},_reconnectEvents:function(g){(g=this._eventSeries[g])&&n.forEach(g,this._connectEvents,this)},fireEvent:function(g,b,e,d){if((g=this._eventSeries[g])&&g.length&&e<g.length)e=g[e],e.type=b,e.event=d||null,this.raiseEvent(e),e.event=null}})})},
"dojox/charting/plot2d/Lines":function(){define(["dojo/_base/declare","./Default"],function(l,n){return l("dojox.charting.plot2d.Lines",n,{constructor:function(){this.opt.lines=!0}})})},"dojox/charting/plot2d/Areas":function(){define(["dojo/_base/declare","./Default"],function(l,n){return l("dojox.charting.plot2d.Areas",n,{constructor:function(){this.opt.lines=!0;this.opt.areas=!0}})})},"dojox/charting/plot2d/Markers":function(){define(["dojo/_base/declare","./Default"],function(l,n){return l("dojox.charting.plot2d.Markers",
n,{constructor:function(){this.opt.markers=!0}})})},"dojox/charting/plot2d/MarkersOnly":function(){define(["dojo/_base/declare","./Default"],function(l,n){return l("dojox.charting.plot2d.MarkersOnly",n,{constructor:function(){this.opt.lines=!1;this.opt.markers=!0}})})},"dojox/charting/plot2d/Scatter":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/has ./CartesianBase ./_PlotEvents ./common dojox/lang/functional dojox/lang/functional/reversed dojox/lang/utils dojox/gfx/fx dojox/gfx/gradutils".split(" "),
function(l,n,h,k,g,b,e,d,a,c,m,f){var q=a.lambda("item.purgeGroup()");return h("dojox.charting.plot2d.Scatter",[g,b],{defaultParams:{shadows:null,animate:null},optionalParams:{markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerFont:"",markerFontColor:"",styleFunc:null},constructor:function(a,b){this.opt=l.clone(l.mixin(this.opt,this.defaultParams));c.updateWithObject(this.opt,b);c.updateWithPattern(this.opt,b,this.optionalParams);this.animate=this.opt.animate},render:function(a,
b){if(this.zoom&&!this.isDataDirty())return this.performZoom(a,b);this.resetEvents();this.dirty=this.isDirty();var c;this.dirty&&(n.forEach(this.series,q),this._eventSeries={},this.cleanGroup(),c=this.getGroup(),d.forEachRev(this.series,function(a){a.cleanGroup(c)}));for(var g=this.chart.theme,h=this.events(),l=this.series.length-1;0<=l;--l){var m=this.series[l];if(!this.dirty&&!m.dirty)g.skip(),this._reconnectEvents(m.name);else if(m.cleanGroup(),m.data.length){var s=g.next("marker",[this.opt,m]),
y,v=this._hScaler.scaler.getTransformerFromModel(this._hScaler),D=this._vScaler.scaler.getTransformerFromModel(this._vScaler);if(m.hidden)m.dyn.marker=s.symbol,m.dyn.markerFill=s.marker.fill,m.dyn.markerStroke=s.marker.stroke;else{c=m.group;y="number"==typeof m.data[0]?n.map(m.data,function(c,f){return{x:v(f+1)+b.l,y:a.height-b.b-D(c)}},this):n.map(m.data,function(c,f){return{x:v(c.x)+b.l,y:a.height-b.b-D(c.y)}},this);var x=Array(y.length),u=Array(y.length),B=Array(y.length);n.forEach(y,function(d,
h){var k=m.data[h],q;this.opt.styleFunc||"number"!=typeof k?(q="number"!=typeof k?[k]:[],this.opt.styleFunc&&q.push(this.opt.styleFunc(k)),q=g.addMixin(s,"marker",q,!0)):q=g.post(s,"marker");var l="M"+d.x+" "+d.y+" "+q.symbol;q.marker.shadow&&(x[h]=c.createPath("M"+(d.x+q.marker.shadow.dx)+" "+(d.y+q.marker.shadow.dy)+" "+q.symbol).setStroke(q.marker.shadow).setFill(q.marker.shadow.color),this.animate&&this._animateScatter(x[h],a.height-b.b));if(q.marker.outline){var n=e.makeStroke(q.marker.outline);
n.width=2*n.width+q.marker.stroke.width;B[h]=c.createPath(l).setStroke(n);this.animate&&this._animateScatter(B[h],a.height-b.b)}var n=e.makeStroke(q.marker.stroke),A=this._plotFill(q.marker.fill,a,b);if(A&&("linear"===A.type||"radial"==A.type))A=f.getColor(A,{x:d.x,y:d.y}),n&&(n.color=A);u[h]=c.createPath(l).setStroke(n).setFill(A);this.opt.labels&&(l=u[h].getBoundingBox(),this.createLabel(c,k,l,q));this.animate&&this._animateScatter(u[h],a.height-b.b)},this);u.length&&(m.dyn.marker=s.symbol,m.dyn.markerStroke=
u[u.length-1].getStroke(),m.dyn.markerFill=u[u.length-1].getFill());if(h){var E=Array(u.length);n.forEach(u,function(a,b){var c={element:"marker",index:b,run:m,shape:a,outline:B&&B[b]||null,shadow:x&&x[b]||null,cx:y[b].x,cy:y[b].y};"number"==typeof m.data[0]?(c.x=b+1,c.y=m.data[b]):(c.x=m.data[b].x,c.y=m.data[b].y);this._connectEvents(c);E[b]=c},this);this._eventSeries[m.name]=E}else delete this._eventSeries[m.name];m.dirty=!1}}else m.dirty=!1,g.skip()}this.dirty=!1;k("dojo-bidi")&&this._checkOrientation(this.group,
a,b);return this},_animateScatter:function(a,b){m.animateTransform(l.delegate({shape:a,duration:1200,transform:[{name:"translate",start:[0,b],end:[0,0]},{name:"scale",start:[0,0],end:[1,1]},{name:"original"}]},this.animate)).play()}})})},"dojox/charting/plot2d/Stacked":function(){define(["dojo/_base/declare","./Default","./commonStacked"],function(l,n,h){return l("dojox.charting.plot2d.Stacked",n,{getSeriesStats:function(){return h.collectStats(this.series)},buildSegments:function(k,g){for(var b=
this.series[k],e=g?Math.max(0,Math.floor(this._hScaler.bounds.from-1)):0,d=g?Math.min(b.data.length-1,Math.ceil(this._hScaler.bounds.to)):b.data.length-1,a=null,c=[];e<=d;e++){var m=g?h.getIndexValue(this.series,k,e):h.getValue(this.series,k,b.data[e]?b.data[e].x:null);if(null!=m[0]&&(g||null!=m[0].y))a||(a=[],c.push({index:e,rseg:a})),a.push(m[0]);else if(!this.opt.interpolate||g)a=null}return c}})})},"dojox/charting/plot2d/commonStacked":function(){define(["dojo/_base/lang","./common"],function(l,
n){var h=l.getObject("dojox.charting.plot2d.commonStacked",!0);return l.mixin(h,{collectStats:function(k){for(var g=l.delegate(n.defaultStats),b=0;b<k.length;++b)for(var e=k[b],d=0;d<e.data.length;d++){var a,c;null!==e.data[d]&&("number"==typeof e.data[d]||!e.data[d].hasOwnProperty("x")?(c=h.getIndexValue(k,b,d)[0],a=d+1):(a=e.data[d].x,null!==a&&(c=h.getValue(k,b,a)[0],c=null!=c&&c.y?c.y:null)),g.hmin=Math.min(g.hmin,a),g.hmax=Math.max(g.hmax,a),g.vmin=Math.min(g.vmin,c),g.vmax=Math.max(g.vmax,c))}return g},
getIndexValue:function(h,g,b){var e=0,d,a,c;for(a=0;a<=g;++a)h[a].hidden||(c=e,d=h[a].data[b],null!=d&&(isNaN(d)&&(d=d.y||0),e+=d));return[e,c]},getValue:function(h,g,b){var e=null,d,a,c,m;for(d=0;d<=g;++d)if(!h[d].hidden)for(a=0;a<h[d].data.length;a++)if(m=e,c=h[d].data[a],null!==c)if(c.x==b){e||(e={x:b});null!=c.y&&(null==e.y&&(e.y=0),e.y+=c.y);break}else if(c.x>b)break;return[e,m]}})})},"dojox/charting/plot2d/StackedLines":function(){define(["dojo/_base/declare","./Stacked"],function(l,n){return l("dojox.charting.plot2d.StackedLines",
n,{constructor:function(){this.opt.lines=!0}})})},"dojox/charting/plot2d/StackedAreas":function(){define(["dojo/_base/declare","./Stacked"],function(l,n){return l("dojox.charting.plot2d.StackedAreas",n,{constructor:function(){this.opt.lines=!0;this.opt.areas=!0}})})},"dojox/charting/plot2d/Columns":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/has ./CartesianBase ./_PlotEvents ./common dojox/lang/functional dojox/lang/functional/reversed dojox/lang/utils dojox/gfx/fx".split(" "),
function(l,n,h,k,g,b,e,d,a,c,m){var f=a.lambda("item.purgeGroup()");return h("dojox.charting.plot2d.Columns",[g,b],{defaultParams:{gap:0,animate:null,enableCache:!1},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:""},constructor:function(a,b){this.opt=l.clone(l.mixin(this.opt,this.defaultParams));c.updateWithObject(this.opt,b);c.updateWithPattern(this.opt,b,this.optionalParams);this.animate=this.opt.animate;this.renderingOptions=
{"shape-rendering":"crispEdges"}},getSeriesStats:function(){var a=e.collectSimpleStats(this.series);a.hmin-=0.5;a.hmax+=0.5;return a},createRect:function(a,b,c){var f;this.opt.enableCache&&0<a._rectFreePool.length?(f=a._rectFreePool.pop(),f.setShape(c),b.add(f)):f=b.createRect(c);this.opt.enableCache&&a._rectUsePool.push(f);return f},render:function(a,b){if(this.zoom&&!this.isDataDirty())return this.performZoom(a,b);this.resetEvents();this.dirty=this.isDirty();var c;this.dirty&&(n.forEach(this.series,
f),this._eventSeries={},this.cleanGroup(),c=this.getGroup(),d.forEachRev(this.series,function(a){a.cleanGroup(c)}));var e=this.chart.theme,g=this._hScaler.scaler.getTransformerFromModel(this._hScaler),h=this._vScaler.scaler.getTransformerFromModel(this._vScaler),m=Math.max(0,this._vScaler.bounds.lower),Q=h(m),s=this.events(),y=this.getBarProperties(),v=this.series.length;n.forEach(this.series,function(a){a.hidden&&v--});for(var D=this.series.length-1;0<=D;--D){var x=this.series[D];if(!this.dirty&&
!x.dirty)e.skip(),this._reconnectEvents(x.name);else{x.cleanGroup();this.opt.enableCache&&(x._rectFreePool=(x._rectFreePool?x._rectFreePool:[]).concat(x._rectUsePool?x._rectUsePool:[]),x._rectUsePool=[]);var u=e.next("column",[this.opt,x]),B=Array(x.data.length);if(x.hidden)x.dyn.fill=u.series.fill;else{v--;c=x.group;for(var E=n.some(x.data,function(a){return"number"==typeof a||a&&!a.hasOwnProperty("x")}),t=E?Math.max(0,Math.floor(this._hScaler.bounds.from-1)):0,K=E?Math.min(x.data.length,Math.ceil(this._hScaler.bounds.to)):
x.data.length;t<K;++t){var H=x.data[t];if(null!=H){var I=this.getValue(H,t,D,E),C=h(I.y),J=Math.abs(C-Q),M,F;this.opt.styleFunc||"number"!=typeof H?(M="number"!=typeof H?[H]:[],this.opt.styleFunc&&M.push(this.opt.styleFunc(H)),M=e.addMixin(u,"column",M,!0)):M=e.post(u,"column");if(1<=y.width&&0<=J){var L={x:b.l+g(I.x+0.5)+y.gap+y.thickness*v,y:a.height-b.b-(I.y>m?C:Q),width:y.width,height:J};M.series.shadow&&(F=l.clone(L),F.x+=M.series.shadow.dx,F.y+=M.series.shadow.dy,F=this.createRect(x,c,F).setFill(M.series.shadow.color).setStroke(M.series.shadow),
this.animate&&this._animateColumn(F,a.height-b.b+Q,J));var N=this._plotFill(M.series.fill,a,b),N=this._shapeFill(N,L),N=this.createRect(x,c,L).setFill(N).setStroke(M.series.stroke);N.setFilter&&M.series.filter&&N.setFilter(M.series.filter);x.dyn.fill=N.getFill();x.dyn.stroke=N.getStroke();if(s){var O={element:"column",index:t,run:x,shape:N,shadow:F,cx:I.x+0.5,cy:I.y,x:E?t:x.data[t].x,y:E?x.data[t]:x.data[t].y};this._connectEvents(O);B[t]=O}!isNaN(I.py)&&I.py>m&&(L.height=C-h(I.py));this.createLabel(c,
H,L,M);this.animate&&this._animateColumn(N,a.height-b.b-Q,J)}}}this._eventSeries[x.name]=B;x.dirty=!1}}}this.dirty=!1;k("dojo-bidi")&&this._checkOrientation(this.group,a,b);return this},getValue:function(a,b,c,f){f?(c="number"==typeof a?a:a.y,a=b):(c=a.y,a=a.x-1);return{x:a,y:c}},getBarProperties:function(){var a=e.calculateBarSize(this._hScaler.bounds.scale,this.opt);return{gap:a.gap,width:a.size,thickness:0}},_animateColumn:function(a,b,c){0==c&&(c=1);m.animateTransform(l.delegate({shape:a,duration:1200,
transform:[{name:"translate",start:[0,b-b/c],end:[0,0]},{name:"scale",start:[1,1/c],end:[1,1]},{name:"original"}]},this.animate)).play()}})})},"dojox/charting/plot2d/StackedColumns":function(){define(["dojo/_base/declare","./Columns","./commonStacked"],function(l,n,h){return l("dojox.charting.plot2d.StackedColumns",n,{getSeriesStats:function(){var k=h.collectStats(this.series);k.hmin-=0.5;k.hmax+=0.5;return k},getValue:function(k,g,b,e){e?k=h.getIndexValue(this.series,b,g):(g=k.x-1,k=h.getValue(this.series,
b,k.x),k=[k[0]?k[0].y:null,k[1]?k[1]:null]);return{x:g,y:k[0],py:k[1]}}})})},"dojox/charting/plot2d/ClusteredColumns":function(){define(["dojo/_base/declare","dojo/_base/array","./Columns","./common"],function(l,n,h,k){return l("dojox.charting.plot2d.ClusteredColumns",h,{getBarProperties:function(){var g=this.series.length;n.forEach(this.series,function(b){b.hidden&&g--});var b=k.calculateBarSize(this._hScaler.bounds.scale,this.opt,g);return{gap:b.gap,width:b.size,thickness:b.size,clusterSize:g}}})})},
"dojox/charting/plot2d/Bars":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/has ./CartesianBase ./_PlotEvents ./common dojox/gfx/fx dojox/lang/utils dojox/lang/functional dojox/lang/functional/reversed".split(" "),function(l,n,h,k,g,b,e,d,a,c,m){var f=m.lambda("item.purgeGroup()");return h("dojox.charting.plot2d.Bars",[g,b],{defaultParams:{gap:0,animate:null,enableCache:!1},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,
font:"",fontColor:""},constructor:function(b,c){this.opt=l.clone(l.mixin(this.opt,this.defaultParams));a.updateWithObject(this.opt,c);a.updateWithPattern(this.opt,c,this.optionalParams);this.animate=this.opt.animate;this.renderingOptions={"shape-rendering":"crispEdges"}},getSeriesStats:function(){var a=e.collectSimpleStats(this.series),b;a.hmin-=0.5;a.hmax+=0.5;b=a.hmin;a.hmin=a.vmin;a.vmin=b;b=a.hmax;a.hmax=a.vmax;a.vmax=b;return a},createRect:function(a,b,c){var f;this.opt.enableCache&&0<a._rectFreePool.length?
(f=a._rectFreePool.pop(),f.setShape(c),b.add(f)):f=b.createRect(c);this.opt.enableCache&&a._rectUsePool.push(f);return f},createLabel:function(a,b,c,f){this.opt.labels&&"outside"==this.opt.labelStyle?this.renderLabel(a,c.x+c.width+this.opt.labelOffset,c.y+c.height/2,this._getLabel(isNaN(b.y)?b:b.y),f,"start"):this.inherited(arguments)},render:function(a,b){if(this.zoom&&!this.isDataDirty())return this.performZoom(a,b);this.dirty=this.isDirty();this.resetEvents();var d;this.dirty&&(n.forEach(this.series,
f),this._eventSeries={},this.cleanGroup(),d=this.getGroup(),c.forEachRev(this.series,function(a){a.cleanGroup(d)}));var e=this.chart.theme,g=this._hScaler.scaler.getTransformerFromModel(this._hScaler),h=this._vScaler.scaler.getTransformerFromModel(this._vScaler),m=Math.max(0,this._hScaler.bounds.lower),Q=g(m),s=this.events(),y=this.getBarProperties(),v=this.series.length;n.forEach(this.series,function(a){a.hidden&&v--});for(var D=v,x=this.series.length-1;0<=x;--x){var u=this.series[x];if(!this.dirty&&
!u.dirty)e.skip(),this._reconnectEvents(u.name);else{u.cleanGroup();this.opt.enableCache&&(u._rectFreePool=(u._rectFreePool?u._rectFreePool:[]).concat(u._rectUsePool?u._rectUsePool:[]),u._rectUsePool=[]);var B=e.next("bar",[this.opt,u]);if(u.hidden)u.dyn.fill=B.series.fill,u.dyn.stroke=B.series.stroke;else{D--;var E=Array(u.data.length);d=u.group;for(var t=n.some(u.data,function(a){return"number"==typeof a||a&&!a.hasOwnProperty("x")}),K=t?Math.max(0,Math.floor(this._vScaler.bounds.from-1)):0,H=t?
Math.min(u.data.length,Math.ceil(this._vScaler.bounds.to)):u.data.length;K<H;++K){var I=u.data[K];if(null!=I){var C=this.getValue(I,K,x,t),J=g(C.y),M=Math.abs(J-Q),F,L;this.opt.styleFunc||"number"!=typeof I?(F="number"!=typeof I?[I]:[],this.opt.styleFunc&&F.push(this.opt.styleFunc(I)),F=e.addMixin(B,"bar",F,!0)):F=e.post(B,"bar");if(0<=M&&1<=y.height){J={x:b.l+(C.y<m?J:Q),y:a.height-b.b-h(C.x+1.5)+y.gap+y.thickness*(v-D-1),width:M,height:y.height};F.series.shadow&&(L=l.clone(J),L.x+=F.series.shadow.dx,
L.y+=F.series.shadow.dy,L=this.createRect(u,d,L).setFill(F.series.shadow.color).setStroke(F.series.shadow),this.animate&&this._animateBar(L,b.l+Q,-M));var N=this._plotFill(F.series.fill,a,b),N=this._shapeFill(N,J),N=this.createRect(u,d,J).setFill(N).setStroke(F.series.stroke);N.setFilter&&F.series.filter&&N.setFilter(F.series.filter);u.dyn.fill=N.getFill();u.dyn.stroke=N.getStroke();if(s){var O={element:"bar",index:K,run:u,shape:N,shadow:L,cx:C.y,cy:C.x+1.5,x:t?K:u.data[K].x,y:t?u.data[K]:u.data[K].y};
this._connectEvents(O);E[K]=O}!isNaN(C.py)&&C.py>m&&(J.x+=g(C.py),J.width-=g(C.py));this.createLabel(d,I,J,F);this.animate&&this._animateBar(N,b.l+Q,-M)}}}this._eventSeries[u.name]=E;u.dirty=!1}}}this.dirty=!1;k("dojo-bidi")&&this._checkOrientation(this.group,a,b);return this},getValue:function(a,b,c,f){f?(c="number"==typeof a?a:a.y,a=b):(c=a.y,a=a.x-1);return{y:c,x:a}},getBarProperties:function(){var a=e.calculateBarSize(this._vScaler.bounds.scale,this.opt);return{gap:a.gap,height:a.size,thickness:0}},
_animateBar:function(a,b,c){0==c&&(c=1);d.animateTransform(l.delegate({shape:a,duration:1200,transform:[{name:"translate",start:[b-b/c,0],end:[0,0]},{name:"scale",start:[1/c,1],end:[1,1]},{name:"original"}]},this.animate)).play()}})})},"dojox/charting/plot2d/StackedBars":function(){define(["dojo/_base/declare","./Bars","./commonStacked"],function(l,n,h){return l("dojox.charting.plot2d.StackedBars",n,{getSeriesStats:function(){var k=h.collectStats(this.series),g;k.hmin-=0.5;k.hmax+=0.5;g=k.hmin;k.hmin=
k.vmin;k.vmin=g;g=k.hmax;k.hmax=k.vmax;k.vmax=g;return k},getValue:function(k,g,b,e){e?k=h.getIndexValue(this.series,b,g):(g=k.x-1,k=h.getValue(this.series,b,k.x),k=[k[0]?k[0].y:null,k[1]?k[1]:null]);return{x:g,y:k[0],py:k[1]}}})})},"dojox/charting/plot2d/ClusteredBars":function(){define(["dojo/_base/declare","dojo/_base/array","./Bars","./common"],function(l,n,h,k){return l("dojox.charting.plot2d.ClusteredBars",h,{getBarProperties:function(){var g=this.series.length;n.forEach(this.series,function(b){b.hidden&&
g--});var b=k.calculateBarSize(this._vScaler.bounds.scale,this.opt,g);return{gap:b.gap,height:b.size,thickness:b.size}}})})},"dojox/charting/plot2d/Grid":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/sniff ./CartesianBase ./common dojox/lang/utils dojox/gfx/fx".split(" "),function(l,n,h,k,g,b,e,d){var a=function(a,b){return a.value-b.value};return n("dojox.charting.plot2d.Grid",g,{defaultParams:{hMajorLines:!0,hMinorLines:!1,vMajorLines:!0,vMinorLines:!1,hStripes:!1,
vStripes:!1,animate:null,enableCache:!1,renderOnAxis:!0},optionalParams:{majorHLine:{},minorHLine:{},majorVLine:{},minorVLine:{},hFill:{},vFill:{},hAlternateFill:{},vAlternateFill:{}},constructor:function(a,b){this.opt=l.clone(this.defaultParams);e.updateWithObject(this.opt,b);e.updateWithPattern(this.opt,b,this.optionalParams);this.animate=this.opt.animate;this.opt.enableCache&&(this._lineFreePool=[],this._lineUsePool=[],this._rectFreePool=[],this._rectUsePool=[])},addSeries:function(a){return this},
getSeriesStats:function(){return l.delegate(b.defaultStats)},cleanGroup:function(){this.inherited(arguments);this.opt.enableCache&&(this._lineFreePool=this._lineFreePool.concat(this._lineUsePool),this._lineUsePool=[],this._rectFreePool=this._rectFreePool.concat(this._rectUsePool),this._rectUsePool=[])},createLine:function(a,b){var f;this.opt.enableCache&&0<this._lineFreePool.length?(f=this._lineFreePool.pop(),f.setShape(b),a.add(f)):f=a.createLine(b);this.opt.enableCache&&this._lineUsePool.push(f);
return f},createRect:function(a,b){var f;this.opt.enableCache&&0<this._rectFreePool.length?(f=this._rectFreePool.pop(),f.setShape(b),a.add(f)):f=a.createRect(b);this.opt.enableCache&&this._rectUsePool.push(f);return f},render:function(a,b){if(this.zoom)return this.performZoom(a,b);this.dirty=this.isDirty();if(!this.dirty)return this;this.cleanGroup();var f=this.getGroup(),d=this.chart.theme,e;if(k("ios")&&6>k("ios")||k("android")||k("safari")&&!k("ios")){e=Math.max(0,a.width-b.l-b.r);var g=Math.max(0,
a.height-b.t-b.b);f.createRect({x:b.l,y:b.t,width:e,height:g})}if(this._vAxis&&(e=this._vAxis.getTicks(),g=this._vAxis.getScaler(),null!=e&&null!=g)){var h=g.scaler.getTransformerFromModel(g);this.opt.hStripes&&this._renderHRect(e,d.grid,a,b,g,h);this.opt.hMinorLines&&(f=this.opt.minorHLine||d.grid&&d.grid.minorLine||d.axis.minorTick,this._renderHLines(e.minor,f,a,b,g,h));this.opt.hMajorLines&&(f=this.opt.majorHLine||d.grid&&d.grid.majorLine||d.axis.majorTick,this._renderHLines(e.major,f,a,b,g,h))}this._hAxis&&
(e=this._hAxis.getTicks(),g=this._hAxis.getScaler(),null!=e&&null!=g&&(h=g.scaler.getTransformerFromModel(g),this.opt.vStripes&&this._renderVRect(e,d.grid,a,b,g,h),e&&this.opt.vMinorLines&&(f=this.opt.minorVLine||d.grid&&d.grid.minorLine||d.axis.minorTick,this._renderVLines(e.minor,f,a,b,g,h)),e&&this.opt.vMajorLines&&(f=this.opt.majorVLine||d.grid&&d.grid.majorLine||d.axis.majorTick,this._renderVLines(e.major,f,a,b,g,h))));this.dirty=!1;return this},_renderHLines:function(a,b,f,d,e,g){var k=this.getGroup();
h.forEach(a,function(a){if(this.opt.renderOnAxis||a.value!=(this._vAxis.opt.leftBottom?e.bounds.from:e.bounds.to))a=f.height-d.b-g(a.value),a=this.createLine(k,{x1:d.l,y1:a,x2:f.width-d.r,y2:a}).setStroke(b),this.animate&&this._animateGrid(a,"h",d.l,d.r+d.l-f.width)},this)},_renderVLines:function(a,b,f,d,e,g){var k=this.getGroup();h.forEach(a,function(a){if(this.opt.renderOnAxis||a.value!=(this._hAxis.opt.leftBottom?e.bounds.from:e.bounds.to))a=d.l+g(a.value),a=this.createLine(k,{x1:a,y1:d.t,x2:a,
y2:f.height-d.b}).setStroke(b),this.animate&&this._animateGrid(a,"v",f.height-d.b,f.height-d.b-d.t)},this)},_renderHRect:function(b,d,f,e,g,h){var k,l,n;b=b.major.concat(b.minor);b.sort(a);b[0].value>g.bounds.from&&b.splice(0,0,{value:g.bounds.from});b[b.length-1].value<g.bounds.to&&b.push({value:g.bounds.to});g=this.getGroup();for(var A=0;A<b.length-1;A++)if(k=b[A],l=f.height-e.b-h(k.value),n=f.height-e.b-h(b[A+1].value),k=0==A%2?this.opt.hAlternateFill||d&&d.alternateFill:this.opt.hFill||d&&d.fill)k=
this.createRect(g,{x:e.l,y:l,width:f.width-e.r,height:l-n}).setFill(k),this.animate&&this._animateGrid(k,"h",e.l,e.r+e.l-f.width)},_renderVRect:function(b,d,f,e,g,h){var k,l,n;b=b.major.concat(b.minor);b.sort(a);b[0].value>g.bounds.from&&b.splice(0,0,{value:g.bounds.from});b[b.length-1].value<g.bounds.to&&b.push({value:g.bounds.to});g=this.getGroup();for(var A=0;A<b.length-1;A++)if(k=b[A],l=e.l+h(k.value),n=e.l+h(b[A+1].value),k=0==A%2?this.opt.vAlternateFill||d&&d.alternateFill:this.opt.vFill||d&&
d.fill)k=this.createRect(g,{x:l,y:e.t,width:n-l,height:f.width-e.r}).setFill(k),this.animate&&this._animateGrid(k,"v",f.height-e.b,f.height-e.b-e.t)},_animateGrid:function(a,b,f,e){d.animateTransform(l.delegate({shape:a,duration:1200,transform:[{name:"translate",start:"h"==b?[f,0]:[0,f],end:[0,0]},{name:"scale",start:"h"==b?[1/e,1]:[1,1/e],end:[1,1]},{name:"original"}]},this.animate)).play()}})})},"dojox/charting/plot2d/Pie":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare ./Base ./_PlotEvents ./common dojox/gfx dojox/gfx/matrix dojox/lang/functional dojox/lang/utils dojo/has".split(" "),
function(l,n,h,k,g,b,e,d,a,c,m){return h("dojox.charting.plot2d.Pie",[k,g],{defaultParams:{labels:!0,ticks:!1,fixed:!0,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:!0,radGrad:"native",fanSize:5,startAngle:0},optionalParams:{radius:0,omitLabels:!1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:"",labelWiring:{}},constructor:function(a,b){this.opt=l.clone(this.defaultParams);c.updateWithObject(this.opt,b);c.updateWithPattern(this.opt,b,this.optionalParams);
this.axes=[];this.run=null;this.dyn=[];this.runFilter=[]},clear:function(){this.inherited(arguments);this.dyn=[];this.run=null;return this},setAxis:function(a){return this},addSeries:function(a){this.run=a;return this},getSeriesStats:function(){return l.delegate(b.defaultStats)},getRequiredColors:function(){return this.run?this.run.data.length:0},render:function(b,c){if(!this.dirty)return this;this.resetEvents();this.dirty=!1;this._eventSeries={};this.cleanGroup();var g=this.group,h=this.chart.theme;
if(!this.run||!this.run.data.length)return this;var k=(b.width-c.l-c.r)/2,w=(b.height-c.t-c.b)/2,r=Math.min(k,w),A="font"in this.opt?this.opt.font:h.series.font,Q,s=d._degToRad(this.opt.startAngle),y=s,v,D,x,u,B=this.events(),E=n.map(this.run.data,function(a,b){"number"!=typeof a&&a.hidden&&(this.runFilter.push(b),a.hidden=!1);return n.some(this.runFilter,function(a){return a==b})?"number"==typeof a?0:{y:0,text:a.text}:a},this);this.dyn=[];"radius"in this.opt&&(r=this.opt.radius,u=r-this.opt.labelOffset);
var t={cx:c.l+k,cy:c.t+w,r:r};if(this.opt.shadow||h.shadow){v=this.opt.shadow||h.shadow;var K=l.clone(t);K.cx+=v.dx;K.cy+=v.dy;g.createCircle(K).setFill(v.color).setStroke(v)}if(g.setFilter&&(this.opt.filter||h.filter))g.createCircle(t).setFill(h.series.stroke).setFilter(this.opt.filter||h.filter);if("number"==typeof E[0]){v=a.map(E,"x ? Math.max(x, 0) : 0");if(a.every(v,"\x3c\x3d 0"))return g.createCircle(t).setStroke(h.series.stroke),this.dyn=n.map(v,function(){return{}}),this;D=a.map(v,"/this",
a.foldl(v,"+",0));this.opt.labels&&(x=n.map(D,function(a){return 0<a?this._getLabel(100*a)+"%":""},this))}else{v=a.map(E,"x ? Math.max(x.y, 0) : 0");if(a.every(v,"\x3c\x3d 0"))return g.createCircle(t).setStroke(h.series.stroke),this.dyn=n.map(v,function(){return{}}),this;D=a.map(v,"/this",a.foldl(v,"+",0));this.opt.labels&&(x=n.map(D,function(a,b){if(0>a)return"";var c=E[b];return"text"in c?c.text:this._getLabel(100*a)+"%"},this))}var H=a.map(E,function(a,b){var c=[this.opt,this.run];null!==a&&"number"!=
typeof a&&c.push(a);this.opt.styleFunc&&c.push(this.opt.styleFunc(a));return h.next("slice",c,!0)},this);this.opt.labels&&(Q=A?e.normalizedLength(e.splitFontString(A).size):0,v=a.foldl1(a.map(x,function(a,b){return e._base._getTextBox(a,{font:H[b].series.font}).w},this),"Math.max(a, b)")/2,0>this.opt.labelOffset&&(r=Math.min(k-2*v,w-Q)+this.opt.labelOffset),u=r-this.opt.labelOffset);var I=Array(D.length);n.some(D,function(a,e){if(0>a)return!1;var h=E[e],k=H[e],l;if(0==a)return this.dyn.push({fill:k.series.fill,
stroke:k.series.stroke}),!1;if(1<=a){l=this._plotFill(k.series.fill,b,c);l=this._shapeFill(l,{x:t.cx-t.r,y:t.cy-t.r,width:2*t.r,height:2*t.r});l=this._pseudoRadialFill(l,{x:t.cx,y:t.cy},t.r);var m=g.createCircle(t).setFill(l).setStroke(k.series.stroke);this.dyn.push({fill:l,stroke:k.series.stroke});B&&(h={element:"slice",index:e,run:this.run,shape:m,x:e,y:"number"==typeof h?h:h.y,cx:t.cx,cy:t.cy,cr:r},this._connectEvents(h),I[e]=h);return!1}var n=y+2*a*Math.PI;e+1==D.length&&(n=s+2*Math.PI);var m=
n-y,z=t.cx+r*Math.cos(y),G=t.cy+r*Math.sin(y),w=t.cx+r*Math.cos(n),A=t.cy+r*Math.sin(n);l=d._degToRad(this.opt.fanSize);if(k.series.fill&&"radial"===k.series.fill.type&&"fan"===this.opt.radGrad&&m>l){var v=g.createGroup(),u=Math.ceil(m/l),x=m/u;l=this._shapeFill(k.series.fill,{x:t.cx-t.r,y:t.cy-t.r,width:2*t.r,height:2*t.r});for(var K=0;K<u;++K){var Q=0==K?z:t.cx+r*Math.cos(y+(K-0.2)*x),C=0==K?G:t.cy+r*Math.sin(y+(K-0.2)*x),F=K==u-1?w:t.cx+r*Math.cos(y+(K+1+0.2)*x),J=K==u-1?A:t.cy+r*Math.sin(y+(K+
1+0.2)*x);v.createPath().moveTo(t.cx,t.cy).lineTo(Q,C).arcTo(r,r,0,x>Math.PI,!0,F,J).lineTo(t.cx,t.cy).closePath().setFill(this._pseudoRadialFill(l,{x:t.cx,y:t.cy},r,y+(K+0.5)*x,y+(K+0.5)*x))}v.createPath().moveTo(t.cx,t.cy).lineTo(z,G).arcTo(r,r,0,m>Math.PI,!0,w,A).lineTo(t.cx,t.cy).closePath().setStroke(k.series.stroke);m=v}else m=g.createPath().moveTo(t.cx,t.cy).lineTo(z,G).arcTo(r,r,0,m>Math.PI,!0,w,A).lineTo(t.cx,t.cy).closePath().setStroke(k.series.stroke),(l=k.series.fill)&&"radial"===l.type?
(l=this._shapeFill(l,{x:t.cx-t.r,y:t.cy-t.r,width:2*t.r,height:2*t.r}),"linear"===this.opt.radGrad&&(l=this._pseudoRadialFill(l,{x:t.cx,y:t.cy},r,y,n))):l&&"linear"===l.type&&(l=this._plotFill(l,b,c),l=this._shapeFill(l,m.getBoundingBox())),m.setFill(l);this.dyn.push({fill:l,stroke:k.series.stroke});B&&(h={element:"slice",index:e,run:this.run,shape:m,x:e,y:"number"==typeof h?h:h.y,cx:t.cx,cy:t.cy,cr:r},this._connectEvents(h),I[e]=h);y=n;return!1},this);if(this.opt.labels){var C=m("dojo-bidi")&&this.chart.isRightToLeft();
if("default"==this.opt.labelStyle)y=s,n.some(D,function(a,c){if(0>=a)return!1;var d=H[c];if(1<=a)return this.renderLabel(g,t.cx,t.cy+Q/2,x[c],d,0<this.opt.labelOffset),!0;var e=y+2*a*Math.PI;c+1==D.length&&(e=s+2*Math.PI);if(this.opt.omitLabels&&0.0010>e-y)return!1;var h=(y+e)/2,k=t.cx+u*Math.cos(h),h=t.cy+u*Math.sin(h)+Q/2;this.renderLabel(g,C?b.width-k:k,h,x[c],d,0<this.opt.labelOffset);y=e;return!1},this);else if("columns"==this.opt.labelStyle){var y=s,J=this.opt.omitLabels,M=[];n.forEach(D,function(a,
b){var c=y+2*a*Math.PI;b+1==D.length&&(c=s+2*Math.PI);var d=(y+c)/2;M.push({angle:d,left:0>Math.cos(d),theme:H[b],index:b,omit:J?0.0010>c-y:!1});y=c});k=e._base._getTextBox("a",{font:A}).h;this._getProperLabelRadius(M,k,1.1*t.r);n.forEach(M,function(a,c){if(!a.omit){var d=t.cx-2*t.r,h=t.cx+2*t.r,k=e._base._getTextBox(x[c],{font:a.theme.series.font}).w,l=t.cx+a.labelR*Math.cos(a.angle),m=t.cy+a.labelR*Math.sin(a.angle),h=a.left?d+k:h-k,d=a.left?d:h,q=g.createPath().moveTo(t.cx+t.r*Math.cos(a.angle),
t.cy+t.r*Math.sin(a.angle));Math.abs(a.labelR*Math.cos(a.angle))<2*t.r-k&&q.lineTo(l,m);q.lineTo(h,m).setStroke(a.theme.series.labelWiring);this.renderLabel(g,C?b.width-k-d:d,m,x[c],a.theme,!1,"left")}},this)}}var F=0;this._eventSeries[this.run.name]=a.map(E,function(a){return 0>=a?null:I[F++]});m("dojo-bidi")&&this._checkOrientation(this.group,b,c);return this},_getProperLabelRadius:function(a,b,c){var d,e,g=1,h=1;if(1==a.length)a[0].labelR=c;else{for(var k=0;k<a.length;k++){var l=Math.abs(Math.sin(a[k].angle));
a[k].left?g>=l&&(g=l,d=a[k]):h>=l&&(h=l,e=a[k])}d.labelR=e.labelR=c;this._calculateLabelR(d,a,b);this._calculateLabelR(e,a,b)}},_calculateLabelR:function(a,b,c){for(var d=a.index,e=b.length,g=a.labelR;!(b[d%e].left^b[(d+1)%e].left);)b[(d+1)%e].omit||(g=(Math.sin(b[d%e].angle)*g+(b[d%e].left?-c:c))/Math.sin(b[(d+1)%e].angle),g=g<a.labelR?a.labelR:g,b[(d+1)%e].labelR=g),d++;d=a.index;for(e=0==d?e-1:d-1;!(b[d].left^b[e].left);)b[e].omit||(g=(Math.sin(b[d].angle)*g+(b[d].left?c:-c))/Math.sin(b[e].angle),
g=g<a.labelR?a.labelR:g,b[e].labelR=g),d--,e--,d=0>d?d+b.length:d,e=0>e?e+b.length:e}})})},"dojox/charting/plot2d/Bubble":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/has ./CartesianBase ./_PlotEvents ./common dojox/lang/functional dojox/lang/functional/reversed dojox/lang/utils dojox/gfx/fx".split(" "),function(l,n,h,k,g,b,e,d,a,c,m){var f=a.lambda("item.purgeGroup()");return n("dojox.charting.plot2d.Bubble",[g,b],{defaultParams:{animate:null},optionalParams:{stroke:{},
outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:"",labelFunc:null},constructor:function(a,b){this.opt=l.clone(l.mixin(this.opt,this.defaultParams));c.updateWithObject(this.opt,b);c.updateWithPattern(this.opt,b,this.optionalParams);this.opt.labelFunc||(this.opt.labelFunc=function(a,b,c){return this._getLabel(a.size,b,c)});this.animate=this.opt.animate},render:function(a,b){var c;if(this.zoom&&!this.isDataDirty())return this.performZoom(a,b);this.resetEvents();if(this.dirty=
this.isDirty())h.forEach(this.series,f),this._eventSeries={},this.cleanGroup(),c=this.getGroup(),d.forEachRev(this.series,function(a){a.cleanGroup(c)});for(var g=this.chart.theme,l=this._hScaler.scaler.getTransformerFromModel(this._hScaler),m=this._vScaler.scaler.getTransformerFromModel(this._vScaler),n=this.events(),Q=this.series.length-1;0<=Q;--Q){var s=this.series[Q];if(!this.dirty&&!s.dirty)g.skip(),this._reconnectEvents(s.name);else if(s.cleanGroup(),s.data.length)if("number"==typeof s.data[0])console.warn("dojox.charting.plot2d.Bubble: the data in the following series cannot be rendered as a bubble chart; ",
s);else{var y=g.next("circle",[this.opt,s]),v=h.map(s.data,function(c){return c?{x:l(c.x)+b.l,y:a.height-b.b-m(c.y),radius:this._vScaler.bounds.scale*(c.size/2)}:null},this);if(s.hidden)s.dyn.fill=y.series.fill,s.dyn.stroke=y.series.stroke;else{c=s.group;var D=null,x=null,u=null,B=this.opt.styleFunc,E=function(a){return B?g.addMixin(y,"circle",[a,B(a)],!0):g.addMixin(y,"circle",a,!0)};y.series.shadow&&(u=h.map(v,function(d,f){if(null!==d){var e=E(s.data[f]).series.shadow,e=c.createCircle({cx:d.x+
e.dx,cy:d.y+e.dy,r:d.radius}).setStroke(e).setFill(e.color);this.animate&&this._animateBubble(e,a.height-b.b,d.radius);return e}return null},this),u.length&&(s.dyn.shadow=u[u.length-1].getStroke()));y.series.outline&&(x=h.map(v,function(d,f){if(null!==d){var g=E(s.data[f]),g=e.makeStroke(g.series.outline);g.width=2*g.width+y.series.stroke.width;g=c.createCircle({cx:d.x,cy:d.y,r:d.radius}).setStroke(g);this.animate&&this._animateBubble(g,a.height-b.b,d.radius);return g}return null},this),x.length&&
(s.dyn.outline=x[x.length-1].getStroke()));D=h.map(v,function(d,e){if(null!==d){var f=E(s.data[e]),g={x:d.x-d.radius,y:d.y-d.radius,width:2*d.radius,height:2*d.radius},h=this._plotFill(f.series.fill,a,b),h=this._shapeFill(h,g),h=c.createCircle({cx:d.x,cy:d.y,r:d.radius}).setFill(h).setStroke(f.series.stroke);h.setFilter&&f.series.filter&&h.setFilter(f.series.filter);this.animate&&this._animateBubble(h,a.height-b.b,d.radius);this.createLabel(c,s.data[e],g,f);return h}return null},this);D.length&&(s.dyn.fill=
D[D.length-1].getFill(),s.dyn.stroke=D[D.length-1].getStroke());if(n){var t=Array(D.length);h.forEach(D,function(a,b){if(null!==a){var c={element:"circle",index:b,run:s,shape:a,outline:x&&x[b]||null,shadow:u&&u[b]||null,x:s.data[b].x,y:s.data[b].y,r:s.data[b].size/2,cx:v[b].x,cy:v[b].y,cr:v[b].radius};this._connectEvents(c);t[b]=c}},this);this._eventSeries[s.name]=t}else delete this._eventSeries[s.name];s.dirty=!1}}else s.dirty=!1,g.skip()}this.dirty=!1;k("dojo-bidi")&&this._checkOrientation(this.group,
a,b);return this},_animateBubble:function(a,b,c){m.animateTransform(l.delegate({shape:a,duration:1200,transform:[{name:"translate",start:[0,b],end:[0,0]},{name:"scale",start:[0,1/c],end:[1,1]},{name:"original"}]},this.animate)).play()}})})},"dojox/charting/plot2d/Candlesticks":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/has ./CartesianBase ./_PlotEvents ./common dojox/lang/functional dojox/lang/functional/reversed dojox/lang/utils dojox/gfx/fx".split(" "),function(l,
n,h,k,g,b,e,d,a,c,m){var f=a.lambda("item.purgeGroup()");return n("dojox.charting.plot2d.Candlesticks",[g,b],{defaultParams:{gap:2,animate:null},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(a,b){this.opt=l.clone(this.defaultParams);c.updateWithObject(this.opt,b);c.updateWithPattern(this.opt,b,this.optionalParams);this.animate=this.opt.animate},collectStats:function(a){for(var b=l.delegate(e.defaultStats),c=0;c<a.length;c++){var d=
a[c];if(d.data.length){var f=b.vmin,g=b.vmax;(!("ymin"in d)||!("ymax"in d))&&h.forEach(d.data,function(a,c){if(null!==a){var d=a.x||c+1;b.hmin=Math.min(b.hmin,d);b.hmax=Math.max(b.hmax,d);b.vmin=Math.min(b.vmin,a.open,a.close,a.high,a.low);b.vmax=Math.max(b.vmax,a.open,a.close,a.high,a.low)}});"ymin"in d&&(b.vmin=Math.min(f,d.ymin));"ymax"in d&&(b.vmax=Math.max(g,d.ymax))}}return b},getSeriesStats:function(){var a=this.collectStats(this.series);a.hmin-=0.5;a.hmax+=0.5;return a},render:function(a,
b){if(this.zoom&&!this.isDataDirty())return this.performZoom(a,b);this.resetEvents();this.dirty=this.isDirty();var c;this.dirty&&(h.forEach(this.series,f),this._eventSeries={},this.cleanGroup(),c=this.getGroup(),d.forEachRev(this.series,function(a){a.cleanGroup(c)}));var g=this.chart.theme,l,m,n=this._hScaler.scaler.getTransformerFromModel(this._hScaler),Q=this._vScaler.scaler.getTransformerFromModel(this._vScaler),s=this.events();l=e.calculateBarSize(this._hScaler.bounds.scale,this.opt);m=l.gap;
l=l.size;for(var y=this.series.length-1;0<=y;--y){var v=this.series[y];if(!this.dirty&&!v.dirty)g.skip(),this._reconnectEvents(v.name);else{v.cleanGroup();var D=g.next("candlestick",[this.opt,v]),x=Array(v.data.length);if(v.hidden)v.dyn.fill=D.series.fill,v.dyn.stroke=D.series.stroke;else{c=v.group;for(var u=0;u<v.data.length;++u){var B=v.data[u];if(null!==B){var E=g.addMixin(D,"candlestick",B,!0),t=n(B.x||u+0.5)+b.l+m,K=a.height-b.b,H=Q(B.open),I=Q(B.close),C=Q(B.high),J=Q(B.low);if("mid"in B)var M=
Q(B.mid);if(J>C)var F=C,C=J,J=F;if(1<=l){var F=H>I,L={x1:l/2,x2:l/2,y1:K-C,y2:K-J},N={x:0,y:K-Math.max(H,I),width:l,height:Math.max(F?H-I:I-H,1)},O=c.createGroup();O.setTransform({dx:t,dy:0});var Z=O.createGroup();Z.createLine(L).setStroke(E.series.stroke);Z.createRect(N).setStroke(E.series.stroke).setFill(F?E.series.fill:"white");"mid"in B&&Z.createLine({x1:E.series.stroke.width||1,x2:l-(E.series.stroke.width||1),y1:K-M,y2:K-M}).setStroke(F?"white":E.series.stroke);v.dyn.fill=E.series.fill;v.dyn.stroke=
E.series.stroke;s&&(B={element:"candlestick",index:u,run:v,shape:Z,x:t,y:K-Math.max(H,I),cx:l/2,cy:K-Math.max(H,I)+Math.max(F?H-I:I-H,1)/2,width:l,height:Math.max(F?H-I:I-H,1),data:B},this._connectEvents(B),x[u]=B)}this.animate&&this._animateCandlesticks(O,K-J,C-J)}}this._eventSeries[v.name]=x;v.dirty=!1}}}this.dirty=!1;k("dojo-bidi")&&this._checkOrientation(this.group,a,b);return this},tooltipFunc:function(a){return'\x3ctable cellpadding\x3d"1" cellspacing\x3d"0" border\x3d"0" style\x3d"font-size:0.9em;"\x3e\x3ctr\x3e\x3ctd\x3eOpen:\x3c/td\x3e\x3ctd align\x3d"right"\x3e\x3cstrong\x3e'+
a.data.open+'\x3c/strong\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3eHigh:\x3c/td\x3e\x3ctd align\x3d"right"\x3e\x3cstrong\x3e'+a.data.high+'\x3c/strong\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3eLow:\x3c/td\x3e\x3ctd align\x3d"right"\x3e\x3cstrong\x3e'+a.data.low+'\x3c/strong\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3eClose:\x3c/td\x3e\x3ctd align\x3d"right"\x3e\x3cstrong\x3e'+a.data.close+"\x3c/strong\x3e\x3c/td\x3e\x3c/tr\x3e"+(void 0!==a.data.mid?'\x3ctr\x3e\x3ctd\x3eMid:\x3c/td\x3e\x3ctd align\x3d"right"\x3e\x3cstrong\x3e'+
a.data.mid+"\x3c/strong\x3e\x3c/td\x3e\x3c/tr\x3e":"")+"\x3c/table\x3e"},_animateCandlesticks:function(a,b,c){m.animateTransform(l.delegate({shape:a,duration:1200,transform:[{name:"translate",start:[0,b-b/c],end:[0,0]},{name:"scale",start:[1,1/c],end:[1,1]},{name:"original"}]},this.animate)).play()}})})},"dojox/charting/plot2d/OHLC":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/has ./CartesianBase ./_PlotEvents ./common dojox/lang/functional dojox/lang/functional/reversed dojox/lang/utils dojox/gfx/fx".split(" "),
function(l,n,h,k,g,b,e,d,a,c,m){var f=a.lambda("item.purgeGroup()");return h("dojox.charting.plot2d.OHLC",[g,b],{defaultParams:{gap:2,animate:null},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(a,b){this.opt=l.clone(this.defaultParams);c.updateWithObject(this.opt,b);c.updateWithPattern(this.opt,b,this.optionalParams);this.animate=this.opt.animate},collectStats:function(a){for(var b=l.delegate(e.defaultStats),c=0;c<a.length;c++){var d=
a[c];if(d.data.length){var f=b.vmin,g=b.vmax;(!("ymin"in d)||!("ymax"in d))&&n.forEach(d.data,function(a,c){if(null!==a){var d=a.x||c+1;b.hmin=Math.min(b.hmin,d);b.hmax=Math.max(b.hmax,d);b.vmin=Math.min(b.vmin,a.open,a.close,a.high,a.low);b.vmax=Math.max(b.vmax,a.open,a.close,a.high,a.low)}});"ymin"in d&&(b.vmin=Math.min(f,d.ymin));"ymax"in d&&(b.vmax=Math.max(g,d.ymax))}}return b},getSeriesStats:function(){var a=this.collectStats(this.series);a.hmin-=0.5;a.hmax+=0.5;return a},render:function(a,
b){if(this.zoom&&!this.isDataDirty())return this.performZoom(a,b);this.resetEvents();if(this.dirty=this.isDirty()){n.forEach(this.series,f);this._eventSeries={};this.cleanGroup();var c=this.getGroup();d.forEachRev(this.series,function(a){a.cleanGroup(c)})}var g=this.chart.theme,h,l,m=this._hScaler.scaler.getTransformerFromModel(this._hScaler),Q=this._vScaler.scaler.getTransformerFromModel(this._vScaler),s=this.events();h=e.calculateBarSize(this._hScaler.bounds.scale,this.opt);l=h.gap;h=h.size;for(var y=
this.series.length-1;0<=y;--y){var v=this.series[y];if(!this.dirty&&!v.dirty)g.skip(),this._reconnectEvents(v.name);else{v.cleanGroup();for(var D=g.next("candlestick",[this.opt,v]),c=v.group,x=Array(v.data.length),u=0;u<v.data.length;++u){var B=v.data[u];if(null!==B){var E=g.addMixin(D,"candlestick",B,!0),t=m(B.x||u+0.5)+b.l+l,K=a.height-b.b,H=Q(B.open),I=Q(B.close),C=Q(B.high),J=Q(B.low);if(J>C)var M=C,C=J,J=M;if(1<=h){var M={x1:h/2,x2:h/2,y1:K-C,y2:K-J},F={x1:0,x2:h/2+(E.series.stroke.width||1)/
2,y1:K-H,y2:K-H},L={x1:h/2-(E.series.stroke.width||1)/2,x2:h,y1:K-I,y2:K-I},N=c.createGroup();N.setTransform({dx:t,dy:0});var O=N.createGroup();O.createLine(M).setStroke(E.series.stroke);O.createLine(F).setStroke(E.series.stroke);O.createLine(L).setStroke(E.series.stroke);v.dyn.stroke=E.series.stroke;s&&(B={element:"candlestick",index:u,run:v,shape:O,x:t,y:K-Math.max(H,I),cx:h/2,cy:K-Math.max(H,I)+Math.max(H>I?H-I:I-H,1)/2,width:h,height:Math.max(H>I?H-I:I-H,1),data:B},this._connectEvents(B),x[u]=
B)}this.animate&&this._animateOHLC(N,K-J,C-J)}}this._eventSeries[v.name]=x;v.dirty=!1}}this.dirty=!1;k("dojo-bidi")&&this._checkOrientation(this.group,a,b);return this},_animateOHLC:function(a,b,c){m.animateTransform(l.delegate({shape:a,duration:1200,transform:[{name:"translate",start:[0,b-b/c],end:[0,0]},{name:"scale",start:[1,1/c],end:[1,1]},{name:"original"}]},this.animate)).play()}})})},"dojox/charting/plot2d/Spider":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/connect dojo/_base/array dojo/dom-geometry dojo/_base/fx dojo/fx dojo/sniff ./Base ./_PlotEvents ./common ../axis2d/common dojox/gfx dojox/gfx/matrix dojox/gfx/fx dojox/lang/functional dojox/lang/utils dojo/fx/easing".split(" "),
function(l,n,h,k,g,b,e,d,a,c,m,f,q,p,G,z,w,r){return n("dojox.charting.plot2d.Spider",[a,c],{defaultParams:{labels:!0,ticks:!1,fixed:!0,precision:1,labelOffset:-10,labelStyle:"default",htmlLabels:!0,startAngle:-90,divisions:3,axisColor:"",axisWidth:0,spiderColor:"",spiderWidth:0,seriesWidth:0,seriesFillAlpha:0.2,spiderOrigin:0.16,markerSize:3,spiderType:"polygon",animationType:r.backOut,animate:null,axisTickFont:"",axisTickFontColor:"",axisFont:"",axisFontColor:""},optionalParams:{radius:0,font:"",
fontColor:""},constructor:function(a,b){this.opt=l.clone(this.defaultParams);w.updateWithObject(this.opt,b);w.updateWithPattern(this.opt,b,this.optionalParams);this.dyn=[];this.datas={};this.labelKey=[];this.oldSeriePoints={};this.animate=null===this.opt.animate?{}:this.opt.animate;this.animations={}},clear:function(){this.inherited(arguments);this.dyn=[];this.axes=[];this.datas={};this.labelKey=[];this.oldSeriePoints={};this.animations={};return this},setAxis:function(a){a&&(void 0!=a.opt.min&&(this.datas[a.name].min=
a.opt.min),void 0!=a.opt.max&&(this.datas[a.name].max=a.opt.max));return this},addSeries:function(a){this.series.push(a);for(var b in a.data){var c=a.data[b],d=this.datas[b];d?(d.vlist.push(c),d.min=Math.min(d.min,c),d.max=Math.max(d.max,c)):(d="__"+b,this.axes.push(d),this[d]=b,this.datas[b]={min:c,max:c,vlist:[c]})}if(0>=this.labelKey.length)for(b in a.data)this.labelKey.push(b);return this},getSeriesStats:function(){return m.collectSimpleStats(this.series)},render:function(a,b){if(!this.dirty)return this;
this.dirty=!1;this.cleanGroup();var c=this.group,d=this.chart.theme;this.resetEvents();if(!this.series||!this.series.length)return this;var e=this.opt,h=d.axis,l=(a.width-b.l-b.r)/2,m=(a.height-b.t-b.b)/2,n=Math.min(l,m),G=e.font||h.majorTick&&h.majorTick.font||h.tick&&h.tick.font||"normal normal normal 7pt Tahoma",w=e.axisFont||h.tick&&h.tick.titleFont||"normal normal normal 11pt Tahoma",r=e.axisTickFontColor||h.majorTick&&h.majorTick.fontColor||h.tick&&h.tick.fontColor||"silver",H=e.axisFontColor||
h.tick&&h.tick.titleFontColor||"black",I=e.axisColor||h.tick&&h.tick.axisColor||"silver",C=e.spiderColor||h.tick&&h.tick.spiderColor||"silver",J=e.axisWidth||h.stroke&&h.stroke.width||2,M=e.spiderWidth||h.stroke&&h.stroke.width||2,h=e.seriesWidth||h.stroke&&h.stroke.width||2,F=q.normalizedLength(q.splitFontString(w).size),L=p._degToRad(e.startAngle),N,O,Z,X,S,V,U=e.spiderOrigin,aa=3<=e.divisions?e.divisions:3,ea=e.markerSize,T=e.spiderType,ca=e.animationType,P=-10>e.labelOffset?e.labelOffset:-10,
R;e.labels&&(n=k.map(this.series,function(a){return a.name},this),n=z.foldl1(z.map(n,function(a){return q._base._getTextBox(a,{font:d.series.font}).w},this),"Math.max(a, b)")/2,n=Math.min(l-2*n,m-F)+P,N=n-P);"radius"in e&&(n=e.radius,N=n-P);n/=1.2;l={cx:b.l+l,cy:b.t+m,r:n};for(m=this.series.length-1;0<=m;m--)if(R=this.series[m],!this.dirty&&!R.dirty)d.skip();else if(R.cleanGroup(),P=R.data,null!==P&&(F=this._getObjectLength(P),!O||0>=O.length))if(O=[],Z=[],V=[],this._buildPoints(O,F,l,n,L,!0,a),this._buildPoints(Z,
F,l,n*U,L,!0,a),this._buildPoints(V,F,l,N,L,!1,a),2<aa){X=[];S=[];for(P=0;P<aa-2;P++)X[P]=[],this._buildPoints(X[P],F,l,n*(U+(1-U)*(P+1)/(aa-1)),L,!0,a),S[P]=n*(U+(1-U)*(P+1)/(aa-1))}F=c.createGroup();I={color:I,width:J};m={color:C,width:M};for(P=O.length-1;0<=P;--P)C=O[P],M={x:C.x+0.2*(C.x-l.cx),y:C.y+0.2*(C.y-l.cy)},C={x:C.x+0.2*(C.x-l.cx)/2,y:C.y+0.2*(C.y-l.cy)/2},F.createLine({x1:l.cx,y1:l.cy,x2:M.x,y2:M.y}).setStroke(I),this._drawArrow(F,M,C,I);F=c.createGroup();for(P=V.length-1;0<=P;--P)C=V[P],
M=q._base._getTextBox(this.labelKey[P],{font:w}).w||0,I=this.opt.htmlLabels&&"vml"!=q.renderer?"html":"gfx",C=f.createText[I](this.chart,F,!g.isBodyLtr()&&"html"==I?C.x+M-a.width:C.x,C.y,"middle",this.labelKey[P],w,H),this.opt.htmlLabels&&this.htmlElements.push(C);w=c.createGroup();if("polygon"==T){if(w.createPolyline(O).setStroke(m),w.createPolyline(Z).setStroke(m),0<X.length)for(P=X.length-1;0<=P;--P)w.createPolyline(X[P]).setStroke(m)}else if(w.createCircle({cx:l.cx,cy:l.cy,r:n}).setStroke(m),
w.createCircle({cx:l.cx,cy:l.cy,r:n*U}).setStroke(m),0<S.length)for(P=S.length-1;0<=P;--P)w.createCircle({cx:l.cx,cy:l.cy,r:S[P]}).setStroke(m);F=this._getObjectLength(this.datas);H=c.createGroup();X=0;for(var ba in this.datas){S=this.datas[ba];O=S.min;S=S.max;S-=O;w=L+2*Math.PI*X/F;for(m=0;m<aa;m++)V=O+S*m/(aa-1),C=this._getCoordinate(l,n*(U+(1-U)*m/(aa-1)),w,a),V=this._getLabel(V),M=q._base._getTextBox(V,{font:G}).w||0,I=this.opt.htmlLabels&&"vml"!=q.renderer?"html":"gfx",this.opt.htmlLabels&&this.htmlElements.push(f.createText[I](this.chart,
H,!g.isBodyLtr()&&"html"==I?C.x+M-a.width:C.x,C.y,"start",V,G,r));X++}this.chart.seriesShapes={};for(m=this.series.length-1;0<=m;m--)if(R=this.series[m],P=R.data,null!==P){var G=d.next("spider",[e,R]),Y=q.normalizeColor(G.series.fill),G={color:G.series.fill,width:h};Y.a=e.seriesFillAlpha;R.dyn={fill:Y,stroke:G};if(!R.hidden){var W=[],$=[];X=0;for(ba in P)S=this.datas[ba],O=S.min,S=S.max,S-=O,r=P[ba],w=L+2*Math.PI*X/F,C=this._getCoordinate(l,n*(U+(1-U)*(r-O)/S),w,a),W.push(C),$.push({sname:R.name,
key:ba,data:r}),X++;W[W.length]=W[0];$[$.length]=$[0];var r=this._getBoundary(W),da=R.group,G=this._createSeriesEntry(da,this.oldSeriePoints[R.name]||Z,W,Y,G,n,U,ea,ca);this.chart.seriesShapes[R.name]=G;this.oldSeriePoints[R.name]=W;this._connectEvents({element:"spider_poly",index:m,id:"spider_poly_"+R.name,run:R,plot:this,shape:G.poly,parent:da,brect:r,cx:l.cx,cy:l.cy,cr:n,f:Y,s:c});this._connectEvents({element:"spider_plot",index:m,id:"spider_plot_"+R.name,run:R,plot:this,shape:R.group});k.forEach(G.circles,
function(a,b){this._connectEvents({element:"spider_circle",index:b,id:"spider_circle_"+R.name+b,run:R,plot:this,shape:a,parent:da,tdata:$[b],cx:W[b].x,cy:W[b].y,f:Y,s:c})},this)}}return this},_createSeriesEntry:function(a,c,d,f,g,m,p,n,q){m=this.animate?c:d;var z=a.createPolyline(m).setFill(f).setStroke(g),G=[];for(p=0;p<m.length;p++){var w=m[p],w=a.createCircle({cx:w.x,cy:w.y,r:n}).setFill(f).setStroke(g);G.push(w)}this.animate&&(f=k.map(d,function(a,d){var e=new b.Animation(l.delegate({duration:1E3,
easing:q,curve:[c[d].y,a.y]},this.animate)),f=G[d];h.connect(e,"onAnimate",function(a){var b=z.getShape();b.points[d].y=a;z.setShape(b);b=f.getShape();b.cy=a;f.setShape(b)});return e},this),d=k.map(d,function(a,d){var e=new b.Animation(l.delegate({duration:1E3,easing:q,curve:[c[d].x,a.x]},this.animate)),f=G[d];h.connect(e,"onAnimate",function(a){var b=z.getShape();b.points[d].x=a;z.setShape(b);b=f.getShape();b.cx=a;f.setShape(b)});return e},this),e.combine(f.concat(d)).play());return{group:a,poly:z,
circles:G}},plotEvent:function(a){"spider_plot"==a.element&&"onmouseover"==a.type&&!d("ie")&&a.shape.moveToFront()},tooltipFunc:function(a){return"spider_circle"==a.element?a.tdata.sname+"\x3cbr/\x3e"+a.tdata.key+"\x3cbr/\x3e"+a.tdata.data:null},_getBoundary:function(a){for(var b=a[0].x,c=a[0].x,d=a[0].y,e=a[0].y,f=0;f<a.length;f++)var g=a[f],b=Math.max(g.x,b),d=Math.max(g.y,d),c=Math.min(g.x,c),e=Math.min(g.y,e);return{x:c,y:e,width:b-c,height:d-e}},_drawArrow:function(a,b,c,d){var e=Math.sqrt(Math.pow(c.x-
b.x,2)+Math.pow(c.y-b.y,2)),f=(c.y-b.y)/e,g=(c.x-b.x)/e;a.createPolyline([b,{x:c.x+e/3*-f,y:c.y+e/3*g},{x:c.x+e/3*f,y:c.y+e/3*-g}]).setFill(d.color).setStroke(d)},_buildPoints:function(a,b,c,d,e,f,g){for(var h=0;h<b;h++)a.push(this._getCoordinate(c,d,e+2*Math.PI*h/b,g));f&&a.push(this._getCoordinate(c,d,e+2*Math.PI,g))},_getCoordinate:function(a,b,c,e){var f=a.cx+b*Math.cos(c);d("dojo-bidi")&&(this.chart.isRightToLeft()&&e)&&(f=e.width-f);return{x:f,y:a.cy+b*Math.sin(c)}},_getObjectLength:function(a){var b=
0;if(l.isObject(a))for(var c in a)b++;return b},_getLabel:function(a){return m.getLabel(a,this.opt.fixed,this.opt.precision)}})})},"dojo/fx/easing":function(){define(["../_base/lang"],function(l){var n={linear:function(h){return h},quadIn:function(h){return Math.pow(h,2)},quadOut:function(h){return-1*h*(h-2)},quadInOut:function(h){h*=2;return 1>h?Math.pow(h,2)/2:-1*(--h*(h-2)-1)/2},cubicIn:function(h){return Math.pow(h,3)},cubicOut:function(h){return Math.pow(h-1,3)+1},cubicInOut:function(h){h*=2;
return 1>h?Math.pow(h,3)/2:(Math.pow(h-2,3)+2)/2},quartIn:function(h){return Math.pow(h,4)},quartOut:function(h){return-1*(Math.pow(h-1,4)-1)},quartInOut:function(h){h*=2;return 1>h?Math.pow(h,4)/2:-0.5*(Math.pow(h-2,4)-2)},quintIn:function(h){return Math.pow(h,5)},quintOut:function(h){return Math.pow(h-1,5)+1},quintInOut:function(h){h*=2;return 1>h?Math.pow(h,5)/2:(Math.pow(h-2,5)+2)/2},sineIn:function(h){return-1*Math.cos(h*(Math.PI/2))+1},sineOut:function(h){return Math.sin(h*(Math.PI/2))},sineInOut:function(h){return-1*
(Math.cos(Math.PI*h)-1)/2},expoIn:function(h){return 0==h?0:Math.pow(2,10*(h-1))},expoOut:function(h){return 1==h?1:-1*Math.pow(2,-10*h)+1},expoInOut:function(h){if(0==h)return 0;if(1==h)return 1;h*=2;if(1>h)return Math.pow(2,10*(h-1))/2;--h;return(-1*Math.pow(2,-10*h)+2)/2},circIn:function(h){return-1*(Math.sqrt(1-Math.pow(h,2))-1)},circOut:function(h){return Math.sqrt(1-Math.pow(h-1,2))},circInOut:function(h){h*=2;return 1>h?-0.5*(Math.sqrt(1-Math.pow(h,2))-1):0.5*(Math.sqrt(1-Math.pow(h-2,2))+
1)},backIn:function(h){return Math.pow(h,2)*(2.70158*h-1.70158)},backOut:function(h){h-=1;return Math.pow(h,2)*(2.70158*h+1.70158)+1},backInOut:function(h){h*=2;if(1>h)return Math.pow(h,2)*(3.5949095*h-2.5949095)/2;h-=2;return(Math.pow(h,2)*(3.5949095*h+2.5949095)+2)/2},elasticIn:function(h){if(0==h||1==h)return h;h-=1;return-1*Math.pow(2,10*h)*Math.sin((h-0.075)*2*Math.PI/0.3)},elasticOut:function(h){return 0==h||1==h?h:Math.pow(2,-10*h)*Math.sin((h-0.075)*2*Math.PI/0.3)+1},elasticInOut:function(h){if(0==
h)return 0;h*=2;if(2==h)return 1;var k=0.3*1.5,g=k/4;if(1>h)return h-=1,-0.5*Math.pow(2,10*h)*Math.sin((h-g)*2*Math.PI/k);h-=1;return 0.5*Math.pow(2,-10*h)*Math.sin((h-g)*2*Math.PI/k)+1},bounceIn:function(h){return 1-n.bounceOut(1-h)},bounceOut:function(h){h<1/2.75?h=7.5625*Math.pow(h,2):h<2/2.75?h=7.5625*Math.pow(h-1.5/2.75,2)+0.75:h<2.5/2.75?(h-=2.25/2.75,h=7.5625*Math.pow(h,2)+0.9375):(h-=2.625/2.75,h=7.5625*Math.pow(h,2)+0.984375);return h},bounceInOut:function(h){return 0.5>h?n.bounceIn(2*h)/
2:n.bounceOut(2*h-1)/2+0.5}};l.setObject("dojo.fx.easing",n);return n})},"widgets/RelatedTableCharts/setting/FieldSelector":function(){define("dojo/_base/declare jimu/BaseWidgetSetting dijit/_WidgetsInTemplateMixin dojo/text!./FieldSelector.html dijit/TooltipDialog dijit/popup dojo/_base/lang dojo/_base/html dojo/on dojo/dom-style dojo/dom-attr dojo/dom-construct dojo/_base/array".split(" "),function(l,n,h,k,g,b,e,d,a,c,m,f,q){return l([n,h],{baseClass:"jimu-widget-RelatedTableCharts-setting",templateString:k,
_stringFieldType:"esriFieldTypeString",_oidFieldType:"esriFieldTypeOID",_numberFieldTypes:["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble"],_isTooltipDialogOpened:!1,fields:[],hideOnSelect:!1,showOnlyNumericFields:!1,startup:function(){this.inherited(arguments)},postCreate:function(){this._createTooltipDialog(this.domNode);this._hideTooltipDialog()},destroy:function(){b.close(this.tooltipDialog);this.tooltipDialog.destroy();this.inherited(arguments)},
isPartOfPopup:function(a){var b;b=this.tooltipDialog.domNode;return a===b||d.isDescendant(a,b)},onSelect:function(a){},_showTooltipDialog:function(){b.open({parent:this.getParent(),popup:this.tooltipDialog,around:this.domNode});this._isTooltipDialogOpened=!0},_hideTooltipDialog:function(){b.close(this.tooltipDialog);this._isTooltipDialogOpened=!1},_createTooltipDialog:function(){var b=this._createFieldList();this.tooltipDialog=new g({content:b});this.own(a(this.domNode,"click",e.hitch(this,function(a){a.stopPropagation();
a.preventDefault();this._isTooltipDialogOpened?this._hideTooltipDialog():this._showTooltipDialog()})));this.own(a(document.body,"click",e.hitch(this,function(a){this.isPartOfPopup(a.target||a.srcElement)||this._hideTooltipDialog()})))},_createFieldList:function(){var b,d;d=f.create("div",{style:{"max-height":"150px",overflow:"auto"}});this.fields&&(b=e.clone(this.fields),q.forEach(b,e.hitch(this,function(b){var g,h;h=!0;this.showOnlyNumericFields&&0>this._numberFieldTypes.indexOf(b.type)&&(h=!1);
h&&(h=b.alias+" {"+b.name+"}",g=f.create("div",{innerHTML:h,style:{cursor:"pointer",padding:"4px 2px"}},d),m.set(g,"name",b.name),m.set(g,"alias",b.alias),a(g,"mouseover",e.hitch(this,function(){c.set(g,"background-color","#e4e4e4")})),a(g,"mouseout",e.hitch(this,function(){c.set(g,"background-color","#FFFFFF")})),a(g,"click",e.hitch(this,function(){var a={};a.name=m.get(g,"name");a.alias=m.get(g,"alias");this.onSelect(a);this.hideOnSelect&&this._hideTooltipDialog()})))})));return d}})})},"widgets/RelatedTableCharts/ChartLayout":function(){define("jimu/BaseWidgetSetting jimu/utils dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/_base/declare dojo/_base/lang dijit/_WidgetsInTemplateMixin dojo/text!./ChartLayout.html dojox/charting/Chart dojox/charting/plot2d/Pie dojox/charting/action2d/Tooltip dojox/charting/action2d/Highlight dojox/charting/action2d/MoveSlice dojox/charting/plot2d/Bars dojox/charting/axis2d/Default".split(" "),
function(l,n,h,k,g,b,e,d,a,c,m,f,q,p){return b([l,d],{baseClass:"jimu-widget-RelatedTableCharts-layout",templateString:a,postCreate:function(){this.inherited(arguments)},startup:function(){this._createChartLayout()},_createChartLayout:function(){this._setNodeValue(this.layoutHeaderTitle,this.config.chartConfig.chartTitle,!0);this._setNodeValue(this.chartDescription,this.config.chartConfig.description,!1);this._initChart()},resize:function(a){this.chart&&setTimeout(e.hitch(this,function(){"PieChart"===
this.config.chartConfig.chartType?this._createPieChart():this.chart.resize()}),a)},_setNodeValue:function(a,b,c){var d=b;this.config.isPreview||(d=this._getFieldValues(b,this.config.selectedFeature.attributes));d?(d=n.sanitizeHTML(d),h.set(a,"innerHTML",d),c&&h.set(a,"title",d)):g.set(a,"display","none")},_initChart:function(){switch(this.config.chartConfig.chartType){case "BarChart":this._createBarChart();break;case "PieChart":this._createPieChart();break;default:h.set(this.chartContainer,"innerHTML",
this.nls.errMsgNoFeaturesFound)}},_getBarChartContainerHeight:function(){var a=30;0<this.config.chartData.chartSeries.length&&(a=30*this.config.chartData.chartSeries.length);150>=a&&(a+=100);return a+"px"},_createBarChart:function(){var a,b={},d={};a=40;var e,h,l={};k.empty(this.chartContainer);a=this._getBarChartContainerHeight();a=new c(k.create("div",{style:"overflow:hidden; width:100%; height:"+a},this.chartContainer));a.addPlot("default",{type:"Bars",gap:4,minBarSize:10,maxBarSize:15});d=g.get(this.chartDescription,
"fontFamily");e=g.get(this.chartDescription,"fontSize");h=g.get(this.chartDescription,"color");b={labels:this.config.chartData.chartLabels,maxLabelCharCount:30,trailingSymbol:"...",natural:!0,majorTickStep:1,minorTicks:!1,fixUpper:!0,includeZero:!1,vertical:!0,titleFontColor:h,titleFont:"normal normal normal "+e+" "+d};d={fixLower:"major",fixUpper:"major",minorTicks:!1,includeZero:!0,titleFontColor:h,titleFont:"normal normal normal "+e+" "+d};this.config.isPreview?(d.titleGap=5,b.majorTick={length:0},
d.majorTick={length:0},b.majorLabels=!1,d.majorLabels=!1,b.minorLabels=!1,d.minorLabels=!1,b.title=this.config.chartConfig.labelYAxis,d.title=this.config.chartConfig.labelXAxis,l.stroke={width:0}):(new f(a,"default"),b.title=this._getFieldValues(this.config.chartConfig.labelYAxis,this.config.selectedFeature.attributes),d.title=this._getFieldValues(this.config.chartConfig.labelXAxis,this.config.selectedFeature.attributes),l.stroke={width:1});d.titleOrientation="away";a.addAxis("y",b);a.addAxis("x",
d);this.config.chartData.selectedTheme&&a.setTheme(this.config.chartData.selectedTheme);this.config.chartData.fill&&(l.fill=this.config.chartData.fill);a.addSeries(this.config.chartConfig.dataSeriesField,this.config.chartData.chartSeries,l,{plot:"default"});new q(a,"default");a.render();this.chart=a;this.onChartCreated()},_createPieChart:function(){var a,b={},d=45;k.empty(this.chartContainer);a=k.create("div",{style:"width:100%; height:100%; overflow:auto"},this.chartContainer);a=new c(a);b={type:m,
labels:!0,ticks:!0,fixed:!0,precision:0,radius:d,labelWiring:"#ccc",labelStyle:"columns",htmlLabels:!0,startAngle:-10,maxLabelCharCount:20,trailingSymbol:"..."};d=(g.get(this.chartContainer,"width")-180)/2;45>d&&(d=45);100<d&&(d=100);b.radius=d;"esriCTEmptyOption"===this.config.chartConfig.labelField&&(b.labels=!1);a.addPlot("default",b);this.config.isPreview||new f(a,"default");this.config.chartData.fill?a.addSeries(this.config.chartConfig.dataSeriesField,this.config.chartData.chartSeries,{fill:this.config.chartData.fill},
{plot:"default"}):a.addSeries(this.config.dataSeriesField,this.config.chartData.chartSeries,{plot:"default"});this.config.chartData.selectedTheme&&a.setTheme(this.config.chartData.selectedTheme);new p(a,"default");new q(a,"default");a.render();this.chart=a;this.onChartCreated()},onChartCreated:function(){},_getFieldValues:function(a,b){var c,d="",e,f,g;a=a.replace(/(\n|\r|\r\n)/g,"\x3cbr\x3e");e=a.split("{");for(f=0;f<e.length;f++)if(0===f)d+=e[f];else if(-1!==e[f].indexOf("}")){c=e[f].split("}");
for(g=0;g<c.length;g++)if(0===g){if(b[c[g]]||0===b[c[g]])d+=b[c[g]]}else d=1===g?d+c[g]:d+("}"+c[g])}else d+="{";return d}})})},"dojox/charting/action2d/Tooltip":function(){define("dijit/Tooltip dojo/_base/lang dojo/_base/declare dojo/_base/window dojo/_base/connect dojo/dom-style ./PlotAction dojox/gfx/matrix dojo/has dojo/has!dojo-bidi?../bidi/action2d/Tooltip dojox/lang/functional dojox/lang/functional/scan dojox/lang/functional/fold".split(" "),function(l,n,h,k,g,b,e,d,a,c,m){var f=function(a,
b){var c=a.run&&a.run.data&&a.run.data[a.index];return c&&"number"!=typeof c&&(c.tooltip||c.text)?c.tooltip||c.text:b.tooltipFunc?b.tooltipFunc(a):a.y},q=Math.PI/4,p=Math.PI/2;b=h(a("dojo-bidi")?"dojox.charting.action2d.NonBidiTooltip":"dojox.charting.action2d.Tooltip",e,{defaultParams:{text:f,mouseOver:!0},optionalParams:{},constructor:function(a,b,c){this.text=c&&c.text?c.text:f;this.mouseOver=c&&void 0!=c.mouseOver?c.mouseOver:!0;this.connect()},process:function(b){if("onplotreset"===b.type||"onmouseout"===
b.type)l.hide(this.aroundRect),this.aroundRect=null,"onplotreset"===b.type&&delete this.angles;else if(b.shape&&!(this.mouseOver&&"onmouseover"!==b.type||!this.mouseOver&&"onclick"!==b.type)){var c={type:"rect"},e=["after-centered","before-centered"];switch(b.element){case "marker":c.x=b.cx;c.y=b.cy;c.w=c.h=1;break;case "circle":c.x=b.cx-b.cr;c.y=b.cy-b.cr;c.w=c.h=2*b.cr;break;case "spider_circle":c.x=b.cx;c.y=b.cy;c.w=c.h=1;break;case "spider_plot":return;case "column":e=["above-centered","below-centered"];
case "bar":c=n.clone(b.shape.getShape());c.w=c.width;c.h=c.height;break;case "candlestick":c.x=b.x;c.y=b.y;c.w=b.width;c.h=b.height;break;default:if(!this.angles){var f="number"==typeof b.run.data[0]?m.map(b.run.data,"x ? Math.max(x, 0) : 0"):m.map(b.run.data,"x ? Math.max(x.y, 0) : 0");this.angles=m.map(m.scanl(f,"+",0),"* 2 * Math.PI / this",m.foldl(f,"+",0))}var f=d._degToRad(b.plot.opt.startAngle),h=(this.angles[b.index]+this.angles[b.index+1])/2+f;c.x=b.cx+b.cr*Math.cos(h);c.y=b.cy+b.cr*Math.sin(h);
c.w=c.h=1;if(f&&(0>h||h>2*Math.PI))h=Math.abs(2*Math.PI-Math.abs(h));h<q||(h<p+q?e=["below-centered","above-centered"]:h<Math.PI+q?e=["before-centered","after-centered"]:h<2*Math.PI-q&&(e=["above-centered","below-centered"]))}a("dojo-bidi")&&this._recheckPosition(b,c,e);f=this.chart.getCoords();c.x+=f.x;c.y+=f.y;c.x=Math.round(c.x);c.y=Math.round(c.y);c.w=Math.ceil(c.w);c.h=Math.ceil(c.h);this.aroundRect=c;(b=this.text(b,this.plot))&&l.show(this._format(b),this.aroundRect,e);this.mouseOver||(this._handle=
g.connect(k.doc,"onclick",this,"onClick"))}},onClick:function(){this.process({type:"onmouseout"})},_recheckPosition:function(a,b,c){},_format:function(a){return a}});return a("dojo-bidi")?h("dojox.charting.action2d.Tooltip",[b,c]):b})},"dojox/charting/action2d/PlotAction":function(){define(["dojo/_base/connect","dojo/_base/declare","./Base","dojo/fx/easing","dojox/lang/functional"],function(l,n,h,k,g){var b=k.backOut;return n("dojox.charting.action2d.PlotAction",h,{overOutEvents:{onmouseover:1,onmouseout:1},
constructor:function(e,d,a){this.anim={};a||(a={});this.duration=a.duration?a.duration:400;this.easing=a.easing?a.easing:b},connect:function(){this.handle=this.chart.connectToPlot(this.plot.name,this,"process")},disconnect:function(){this.handle&&(l.disconnect(this.handle),this.handle=null)},reset:function(){},destroy:function(){this.inherited(arguments);g.forIn(this.anim,function(b){g.forIn(b,function(b){b.action.stop(!0)})});this.anim={}}})})},"dojox/charting/action2d/Base":function(){define(["dojo/_base/lang",
"dojo/_base/declare","dojo/Evented"],function(l,n,h){return n("dojox.charting.action2d.Base",h,{constructor:function(h,g){this.chart=h;this.plot=g?l.isString(g)?this.chart.getPlot(g):g:this.chart.getPlot("default")},connect:function(){},disconnect:function(){},destroy:function(){this.disconnect()}})})},"dojox/lang/functional/scan":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(l,n,h){var k={};n.mixin(h,{scanl:function(g,b,e,d){"string"==typeof g&&(g=g.split(""));d=d||
l.global;b=h.lambda(b);var a,c,m;if(n.isArray(g)){a=Array((c=g.length)+1);a[0]=e;for(m=0;m<c;e=b.call(d,e,g[m],m,g),a[++m]=e);}else if("function"==typeof g.hasNext&&"function"==typeof g.next){a=[e];for(m=0;g.hasNext();a.push(e=b.call(d,e,g.next(),m++,g)));}else for(m in a=[e],g)m in k||a.push(e=b.call(d,e,g[m],m,g));return a},scanl1:function(g,b,e){"string"==typeof g&&(g=g.split(""));e=e||l.global;b=h.lambda(b);var d,a,c;a=!0;if(n.isArray(g)){d=Array(a=g.length);d[0]=c=g[0];for(var m=1;m<a;d[m]=c=
b.call(e,c,g[m],m,g),++m);}else if("function"==typeof g.hasNext&&"function"==typeof g.next){if(g.hasNext()){d=[c=g.next()];for(m=1;g.hasNext();d.push(c=b.call(e,c,g.next(),m++,g)));}}else for(m in g)m in k||(a?(d=[c=g[m]],a=!1):d.push(c=b.call(e,c,g[m],m,g)));return d},scanr:function(g,b,e,d){"string"==typeof g&&(g=g.split(""));d=d||l.global;b=h.lambda(b);var a=g.length,c=Array(a+1),k=a;for(c[a]=e;0<k;--k,e=b.call(d,e,g[k],k,g),c[k]=e);return c},scanr1:function(g,b,e){"string"==typeof g&&(g=g.split(""));
e=e||l.global;b=h.lambda(b);var d=g.length,a=Array(d),c=g[d-1],d=d-1;for(a[d]=c;0<d;--d,c=b.call(e,c,g[d],d,g),a[d]=c);return a}})})},"dojox/charting/action2d/Highlight":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/Color dojo/_base/connect dojox/color/_base ./PlotAction dojo/fx/easing dojox/gfx/fx".split(" "),function(l,n,h,k,g,b,e,d){var a=function(a){return function(){return a}},c=function(a){a=new g.Color(a);var b=a.toHsl();0==b.s?b.l=50>b.l?100:0:(b.s=100,b.l=50>b.l?75:75<
b.l?50:b.l-50>75-b.l?50:75);b=g.fromHsl(b);b.a=a.a;return b},m=function(a){a=c(a);a.a=0.7;return a};return n("dojox.charting.action2d.Highlight",b,{defaultParams:{duration:400,easing:e.backOut},optionalParams:{highlight:"red"},constructor:function(b,d,e){this.colorFunc=(b=e&&e.highlight)?l.isFunction(b)?b:a(b):c;this.connect()},process:function(a){if(a.shape&&a.type in this.overOutEvents&&!("spider_circle"==a.element||"spider_plot"==a.element)){"spider_poly"==a.element&&this.colorFunc==c&&(this.colorFunc=
m);var b=a.run.name,e=a.index,g;b in this.anim?g=this.anim[b][e]:this.anim[b]={};if(g)g.action.stop(!0);else{g=a.shape.getFill();if(!g||!(g instanceof h))return;this.anim[b][e]=g={start:g,end:this.colorFunc(g)}}var l=g.start,n=g.end;if("onmouseout"==a.type)var r=l,l=n,n=r;g.action=d.animateFill({shape:a.shape,duration:this.duration,easing:this.easing,color:{start:l,end:n}});"onmouseout"==a.type&&k.connect(g.action,"onEnd",this,function(){this.anim[b]&&delete this.anim[b][e]});g.action.play()}}})})},
"dojox/charting/action2d/MoveSlice":function(){define("dojo/_base/connect dojo/_base/declare dojo/_base/array ./PlotAction dojo/fx/easing dojox/gfx/matrix dojox/gfx/fx dojox/lang/functional dojox/lang/functional/scan dojox/lang/functional/fold".split(" "),function(l,n,h,k,g,b,e,d){return n("dojox.charting.action2d.MoveSlice",k,{defaultParams:{duration:400,easing:g.backOut,scale:1.05,shift:7},optionalParams:{},constructor:function(a,b,d){d||(d={});this.scale="number"==typeof d.scale?d.scale:1.05;this.shift=
"number"==typeof d.shift?d.shift:7;this.connect()},process:function(a){if(a.shape&&"slice"==a.element&&a.type in this.overOutEvents){if(!this.angles){var c=b._degToRad(a.plot.opt.startAngle);this.angles="number"==typeof a.run.data[0]?d.map(d.scanl(a.run.data,"+",0),"* 2 * Math.PI / this",d.foldl(a.run.data,"+",0)):d.map(d.scanl(a.run.data,"a + b.y",0),"* 2 * Math.PI / this",d.foldl(a.run.data,"a + b.y",0));this.angles=h.map(this.angles,function(a){return a+c})}var g=a.index,f,k,n,G,z;f=(this.angles[g]+
this.angles[g+1])/2;var w=b.rotateAt(-f,a.cx,a.cy),r=b.rotateAt(f,a.cx,a.cy);(f=this.anim[g])?f.action.stop(!0):this.anim[g]=f={};"onmouseover"==a.type?(G=0,z=this.shift,k=1,n=this.scale):(G=this.shift,z=0,k=this.scale,n=1);f.action=e.animateTransform({shape:a.shape,duration:this.duration,easing:this.easing,transform:[r,{name:"translate",start:[G,0],end:[z,0]},{name:"scaleAt",start:[k,a.cx,a.cy],end:[n,a.cx,a.cy]},w]});"onmouseout"==a.type&&l.connect(f.action,"onEnd",this,function(){delete this.anim[g]});
f.action.play()}},reset:function(){delete this.angles}})})},"dojox/charting/themes/GreySkies":function(){define(["../SimpleTheme","./common"],function(l,n){n.GreySkies=new l;return n.GreySkies})},"dojox/charting/themes/common":function(){define(["dojo/_base/lang"],function(l){return l.getObject("dojox.charting.themes",!0)})},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(l,n,h,k){return l("dijit.form.Textarea",
[k,h],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);n.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),function(l,n,h,k,g,b,e){h.add("textarea-needs-help-shrinking",
function(){var d=b.body(),a=n.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},d,"last"),c=a.scrollHeight>=a.clientHeight;d.removeChild(a);return c});return l("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);
this.resize()},postCreate:function(){this.inherited(arguments);var b=this.textbox;b.style.overflowY="hidden";this.own(g(b,"focus, resize",k.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(e.on("resize",k.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(b){this.inherited(arguments);this.resize()},_estimateHeight:function(){var b=this.textbox;b.rows=(b.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},resize:function(){function b(){var c=
!1;""===a.value&&(a.value=" ",c=!0);var d=a.scrollHeight;c&&(a.value="");return d}var a=this.textbox;"hidden"==a.style.overflowY&&(a.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(b()||a.offsetHeight){var c=b()+Math.max(a.offsetHeight-a.clientHeight,0),e=c+"px";e!=a.style.height&&(a.style.height=e,a.rows=1);if(h("textarea-needs-help-shrinking")){var f=b(),g=a.style.minHeight,k=4,l=a.scrollTop;a.style.minHeight=e;for(a.style.height="auto";0<c;){a.style.minHeight=Math.max(c-k,4)+"px";e=
b();f-=e;c-=f;if(f<k)break;f=e;k<<=1}a.style.height=c+"px";a.style.minHeight=g;a.scrollTop=l}a.style.overflowY=b()>a.clientHeight?"auto":"hidden";"hidden"==a.style.overflowY&&(a.scrollTop=0)}else this._estimateHeight();this.busyResizing=!1}}})})},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(l,n,h,k){return l("dijit.form.SimpleTextarea",k,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"\x3ctextarea ${!nameAttrSetting} data-dojo-attach-point\x3d'focusNode,containerNode,textbox' autocomplete\x3d'off'\x3e\x3c/textarea\x3e",
postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value);this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);h("ie")&&this.cols&&n.add(this.textbox,"dijitTextAreaCols")},filter:function(g){g&&(g=g.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(g){if(this.maxLength){var b=parseInt(this.maxLength),e=this.textbox.value.replace(/\r/g,""),b=e.length-b;if(0<b){var d=this.textbox;if(d.selectionStart){var a=d.selectionStart,
c=0;h("opera")&&(c=(this.textbox.value.substring(0,a).match(/\r/g)||[]).length);this.textbox.value=e.substring(0,a-b-c)+e.substring(a-c);d.setSelectionRange(a-b,a-b)}else this.ownerDocument.selection&&(d.focus(),e=this.ownerDocument.selection.createRange(),e.moveStart("character",-b),e.text="",e.select())}}this.inherited(arguments)}})})},"widgets/RelatedTableCharts/setting/GeneralSetting":function(){define("jimu/BaseWidgetSetting dojo/_base/declare dojo/_base/lang dojo/on dijit/_WidgetsInTemplateMixin ./SymbolChooserPopup jimu/symbolUtils jimu/utils dojo/text!./GeneralSetting.html esri/symbols/jsonUtils jimu/dijit/Message dojo/dom-construct".split(" "),
function(l,n,h,k,g,b,e,d,a,c,m,f){return n([l,g],{baseClass:"jimu-widget-RelatedTableCharts-setting",templateString:a,nls:this.nls,config:this.config,graphicLocatoionSymbolJSON:null,postCreate:function(){this._createSymbolPickerNode();this._setRefreshIntervalTxtBxValue()},_createSymbolPickerNode:function(){var a={},b,e;a.type=d.getSymbolTypeByGeometryType("esriGeometryPoint");this.config&&(this.config.symbol&&this.config.symbol.graphicLocationSymbol)&&(a.symbol=c.fromJson(this.config.symbol.graphicLocationSymbol));
b=this._createPreviewContainer(this.locationSymbolIconNode);e={symbolChooserTitle:this.nls.locationSymbolLabel,symbolParams:a};this._showSelectedSymbol(b,a.symbol);this.own(k(b,"click",h.hitch(this,function(){a.symbol=c.fromJson(this.graphicLocatoionSymbolJSON);this._initSymbolChooserPopup(e,b)})))},_createPreviewContainer:function(a){var b;a=f.create("table",{cellspacing:"0",cellpadding:"0"},a);a=f.create("tr",{style:"height:30px"},a);b=f.create("td",{},a);f.create("div",{innerHTML:this.nls.symbolPickerPreviewText,
"class":"esriCTSymbolPreviewText"},b);a=f.create("td",{},a);return f.create("div",{"class":"esriCTSymbolChooserNode"},a)},_initSymbolChooserPopup:function(a,c){var d=new b(a);d.onOkClick=h.hitch(this,function(){var a=d.symbolChooser.getSymbol();this._showSelectedSymbol(c,a);d.popup.close()})},_showSelectedSymbol:function(a,b){f.empty(a);if(b){var c=e.createSymbolNode(b);c||(c=f.create("div"));f.place(c,a);this.graphicLocatoionSymbolJSON=b.toJson()}},getConfig:function(){var a={symbol:{graphicLocationSymbol:this.graphicLocatoionSymbolJSON},
refreshInterval:this.refreshIntervalTxtBx.value};if(this.refreshIntervalTxtBx.isValid())return a;this._errorMessage(this.nls.errMsgRefreshInterval);return!1},_setRefreshIntervalTxtBxValue:function(){this.config&&this.config.refreshInterval&&this.refreshIntervalTxtBx.set("value",this.config.refreshInterval)},_onRefreshIntervalChanged:function(){isNaN(this.refreshIntervalTxtBx.get("value"))&&this.refreshIntervalTxtBx.set("value",0)},_errorMessage:function(a){(new m({message:a})).message=a}})})},"widgets/RelatedTableCharts/setting/SymbolChooserPopup":function(){define("dojo/_base/declare jimu/BaseWidgetSetting dijit/_WidgetsInTemplateMixin dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dojo/text!./SymbolChooserPopup.html jimu/dijit/SymbolChooser jimu/dijit/Popup dojo/domReady!".split(" "),
function(l,n,h,k,g,b,e,d,a,c){return l([n,h],{templateString:d,baseClass:"jimu-widget-RelatedTableCharts-setting",postCreate:function(){this.own(e(this.okButton,"click",k.hitch(this,this._onOKButtonClicked)));this._initSymbolChooser();this._createSymbolChooserPopup()},_initSymbolChooser:function(){this.symbolChooser=new a(this.symbolParams,b.create("div",{},this.symbolData));this.symbolChooser.startup()},_createSymbolChooserPopup:function(){this.popup=new c({titleLabel:this.symbolChooserTitle,width:420,
height:400,content:this.domNode})},_onOKButtonClicked:function(){if(!g.contains(this.okButton,"jimu-state-disabled"))this.onOkClick()},onOkClick:function(a){return a}})})},"widgets/RelatedTableCharts/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/RelatedTableCharts/setting/LayerChooser.html":'\x3cdiv style\x3d"width: 100%; height: 100%;"\x3e\r\n    \x3cdiv class\x3d"esriCTLayerSelectorDiv"\x3e\r\n        \x3cdiv class\x3d"esriCTLayerChooserContainer row"\x3e\r\n            \x3cdiv class\x3d"esriCTlabel esriCTLabelContainer" title\x3d"${nls.layerChooser.selectPolygonLayerLabel}"\x3e\r\n                ${nls.layerChooser.selectPolygonLayerLabel}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"esriCTLayerField"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"itemSelectDiv"\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriCTHint"\x3e\r\n                    ${nls.layerChooser.selectPolygonLayerHintText}\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTLayerChooserContainer row"\x3e\r\n            \x3cdiv class\x3d"esriCTlabel esriCTLabelContainer" title\x3d"${nls.layerChooser.selectRelatedTableLayerLabel}"\x3e\r\n                ${nls.layerChooser.selectRelatedTableLayerLabel}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"esriCTLayerField"\x3e\r\n                \x3cselect data-dojo-attach-point\x3d"relationshipSelect" style\x3d"width: 232px;" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n                \x3c/select\x3e\r\n                \x3cdiv class\x3d"esriCTHint"\x3e\r\n                    ${nls.layerChooser.selectRelatedTableLayerHintText}\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"buttonsDiv" class\x3d"buttonsDiv"\x3e\r\n        \x3cdiv class\x3d"button-container button-container-absolute" style\x3d"padding: 0px;"\x3e\r\n            \x3cdiv class\x3d"jimu-btn jimu-float-trailing jimu-leading-margin1" data-dojo-attach-point\x3d"cancelButton"\x3e\r\n                ${nls.layerChooser.cancelButton}\x3c/div\x3e\r\n            \x3cdiv class\x3d"jimu-btn jimu-float-trailing jimu-leading-margin1 jimu-state-disabled"\r\n                data-dojo-attach-point\x3d"okButton"\x3e\r\n                ${nls.layerChooser.okButton}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:jimu/dijit/templates/_TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"contentNode" class\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem" tabindex\x3d"-1" aria-selected\x3d"false"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation" style\x3d"display: none;"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/templates/TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"contentNode"\r\n\t\t\tclass\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem"\r\n\t\t\t\t   tabindex\x3d"-1" aria-selected\x3d"false" id\x3d"${id}_label"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\r\n\t\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation"\r\n\t\t style\x3d"display: none;" aria-labelledby\x3d"${id}_label"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/Tree.html":'\x3cdiv role\x3d"tree"\x3e\r\n\t\x3cdiv class\x3d"dijitInline dijitTreeIndent" style\x3d"position: absolute; top: -9999px" data-dojo-attach-point\x3d"indentDetector"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTreeExpando dijitTreeExpandoLoading" data-dojo-attach-point\x3d"rootLoadingIndicator"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeContainer" role\x3d"presentation"\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:jimu/dijit/templates/LayerChooserFromMapWithDropbox.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"layer-name" data-dojo-attach-point\x3d"layerNameNode"\r\n      data-dojo-attach-event\x3d"onclick: _onDropDownClick"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"drop-select jimu-float-trailing" data-dojo-attach-point\x3d"dropArrowNode"\r\n      data-dojo-attach-event\x3d"onclick: _onDropDownClick"\x3e\r\n      \x3cdiv class\x3d"jimu-icon jimu-icon-down-arrow-8"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"layer-chooser" data-dojo-attach-point\x3d"layerChooseNode" style\x3d"display: none"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/RelatedTableCharts/setting/ChartSetting.html":'\x3cdiv class\x3d"esriCTFullHeight"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"tabDiv" class\x3d"esriCTFullHeight"\x3e\r\n        \x3c!-- Settings tab --\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"settingsTabNode" class\x3d"esriCTFullHeight"\x3e\r\n            \x3cdiv class\x3d"esriCTChartSettingsNode"\x3e\r\n                \x3cdiv class\x3d"esriCTmainContainer"\x3e\r\n                    \x3c!-- Section Title --\x3e\r\n                    \x3cdiv\x3e\r\n                        \x3cdiv class\x3d"esriCTChartTitleDiv"\x3e\r\n                            \x3cdiv class\x3d"esriCTChartSettingLabel" title\x3d"${nls.sectionTitle}"\x3e\r\n                                ${nls.sectionTitle}\r\n                            \x3c/div\x3e\r\n                            \x3cdiv class\x3d"esriCTFieldInput"\x3e\r\n                                \x3cdiv class\x3d"esriCTControlWidth" data-dojo-attach-point\x3d"sectionTitleTextBox" data-dojo-type\x3d"dijit/form/ValidationTextBox"\r\n                                    required\x3d"true" trim\x3d"true" data-dojo-attach-event\x3d"change:_onSectionTitleChanged"\x3e\r\n                                \x3c/div\x3e\r\n                                \x3cdiv class\x3d"esriCTHint " title\x3d"${nls.sectionTitleHintText}"\x3e\r\n                                    ${nls.sectionTitleHintText}\r\n                                \x3c/div\x3e\r\n                            \x3c/div\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3c!-- Chart Title --\x3e\r\n                    \x3cdiv\x3e\r\n                        \x3cdiv class\x3d"esriCTChartTitleDiv"\x3e\r\n                            \x3cdiv class\x3d"esriCTChartSettingLabel" title\x3d"${nls.chartTitle}"\x3e\r\n                                ${nls.chartTitle}\r\n                            \x3c/div\x3e\r\n                            \x3cdiv class\x3d"esriCTFieldInput"\x3e\r\n                                \x3cdiv class\x3d"esriCTControlWidth" data-dojo-attach-point\x3d"chartTitleTextBox" data-dojo-type\x3d"dijit/form/ValidationTextBox"\x3e\r\n                                \x3c/div\x3e\r\n                                \x3cdiv class\x3d"esriCTHint " title\x3d"${nls.chartTitleHintText}"\x3e\r\n                                    ${nls.chartTitleHintText}\r\n                                \x3c/div\x3e\r\n                            \x3c/div\x3e\r\n                            \x3cdiv class\x3d"esriCTFieldSelectorDiv" data-dojo-attach-point\x3d"titleFieldSelectorDiv"\x3e\r\n                            \x3c/div\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3c!-- Chart Description --\x3e\r\n                    \x3cdiv\x3e\r\n                        \x3cdiv class\x3d"esriCTChartDescriptionDiv "\x3e\r\n                            \x3cdiv class\x3d"esriCTChartSettingLabel" title\x3d"${nls.chartDescription}"\x3e\r\n                                ${nls.chartDescription}\r\n                            \x3c/div\x3e\r\n                            \x3cdiv class\x3d"esriCTFieldInput"\x3e\r\n                                \x3ctextarea class\x3d"esriCTTextAreaFont esriCTControlWidth esriCTTextAreaHeight" data-dojo-type\x3d"dijit/form/Textarea"\r\n                                    data-dojo-attach-point\x3d"chartDescriptionTextBoxArea"\x3e\x3c/textarea\x3e\r\n                                \x3cdiv class\x3d"esriCTHint " title\x3d"${nls.chartDescriptionHintText}"\x3e\r\n                                    ${nls.chartDescriptionHintText}\r\n                                \x3c/div\x3e\r\n                            \x3c/div\x3e\r\n                            \x3cdiv class\x3d"esriCTFieldSelectorDiv" data-dojo-attach-point\x3d"descriptionFieldSelectorDiv"\x3e\r\n                            \x3c/div\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3c!-- Select chart type--\x3e\r\n                    \x3cdiv class\x3d"esriCTChartChartTypeDiv esriCTFieldRow"\x3e\r\n                        \x3cdiv class\x3d"esriCTChartSettingLabel" data-dojo-attach-point\x3d"chartTypeLabelNode"\r\n                            title\x3d"${nls.chartType}"\x3e\r\n                            ${nls.chartType}\r\n                        \x3c/div\x3e\r\n                        \x3cdiv class\x3d"esriCTFieldInput"\x3e\r\n                            \x3cdiv class\x3d"esriCTMarginRight"\x3e\r\n                                \x3cinput class\x3d"esriCTCursorPointer" checked\x3d"checked" id\x3d"rdoBarChart" value\x3d"rdoBarChart" type\x3d"radio" data-dojo-type\x3d"dijit/form/RadioButton"\r\n                                    name\x3d"chart" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"rdoBarChart" /\x3e\r\n                                \x3clabel class\x3d"esriCTChartTypeEllipsis esriCTCursorPointer" for\x3d"rdoBarChart" data-dojo-attach-point\x3d"barLabel"\r\n                                    title\x3d"${nls.barChart}"\x3e\r\n                                    ${nls.barChart}\x3c/label\x3e\r\n                            \x3c/div\x3e\r\n                            \x3cdiv class\x3d"esriCTMarginRight"\x3e\r\n                                \x3cinput class\x3d"esriCTCursorPointer" id\x3d"rdoPieChart" value\x3d"rdoPieChart" type\x3d"radio" data-dojo-type\x3d"dijit/form/RadioButton"\r\n                                    name\x3d"chart" data-dojo-attach-point\x3d"rdoPieChart"  data-dojo-attach-event\x3d"change:_onChartTypeChanged"/\x3e\r\n                                \x3clabel class\x3d"esriCTChartTypeEllipsis esriCTCursorPointer" for\x3d"rdoPieChart" data-dojo-attach-point\x3d"pieLabel"\r\n                                    title\x3d"${nls.pieChart}"\x3e\r\n                                    ${nls.pieChart}\x3c/label\x3e\r\n                            \x3c/div\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3c!-- Data Series Field--\x3e\r\n                    \x3cdiv class\x3d"esriCTControlWidth esriCTLeftAlign esriCTFieldRow"\x3e\r\n                        \x3cdiv class\x3d"esriCTChartDescriptionDiv "\x3e\r\n                            \x3cdiv class\x3d"esriCTChartSettingLabel" title\x3d"${nls.dataSeriesField}"\x3e\r\n                                ${nls.dataSeriesField}\r\n                            \x3c/div\x3e\r\n                            \x3cdiv class\x3d"esriCTFieldInput"\x3e\r\n                                \x3cselect style\x3d"width: 232px;" data-dojo-attach-point\x3d"dataSeriesFieldDropdown" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n                                \x3c/select\x3e\r\n                            \x3c/div\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3c!-- Label Field --\x3e\r\n                    \x3cdiv class\x3d"esriCTControlWidth esriCTLeftAlign esriCTFieldRow esriCTChartChartTypeDiv"\x3e\r\n                        \x3cdiv class\x3d"esriCTChartDescriptionDiv "\x3e\r\n                            \x3cdiv class\x3d"esriCTChartSettingLabel" title\x3d"${nls.labelField}"\x3e\r\n                                ${nls.labelField}\r\n                            \x3c/div\x3e\r\n                            \x3cdiv class\x3d"esriCTFieldInput"\x3e\r\n                                \x3cselect style\x3d"width: 232px;" data-dojo-attach-point\x3d"labelSeriesFieldDropdown" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n                                \x3c/select\x3e\r\n                            \x3c/div\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3c!-- Chart Color --\x3e\r\n                    \x3cdiv\x3e\r\n                        \x3cdiv\x3e\r\n                            \x3cdiv class\x3d"esriCTChartSettingLabel" title\x3d" ${nls.chartColor}"\x3e\r\n                                ${nls.chartColor}\r\n                            \x3c/div\x3e\r\n                            \x3cdiv class\x3d"esriCTFieldInput"\x3e\r\n                                \x3cdiv class\x3d"esriCTChartColorMargin esriCTSingleColorContainer"\x3e\r\n                                    \x3cdiv class\x3d"jimu-trailing-margin2 esriCTLeftAlign esriCTChartColorWidth"\x3e\r\n                                        \x3cinput class\x3d"esriCTCursorPointer" checked\x3d"checked" id\x3d"rdoSingleColor" value\x3d"rdoSingleColor" type\x3d"radio"\r\n                                            data-dojo-type\x3d"dijit/form/RadioButton" name\x3d"ChartColor" data-dojo-attach-point\x3d"rdoSingleColor" /\x3e\r\n                                        \x3clabel class\x3d"esriCTChartColorEllipsis esriCTCursorPointer" for\x3d"rdoSingleColor" title\x3d"${nls.singleColor}"\x3e\r\n                                            ${nls.singleColor}\x3c/label\x3e\r\n                                    \x3c/div\x3e\r\n                                    \x3cdiv class\x3d"esriCTColorPicker" data-dojo-attach-point\x3d"colorPicker" data-dojo-type\x3d"jimu/dijit/ColorPicker"\x3e\r\n                                    \x3c/div\x3e\r\n                                \x3c/div\x3e\r\n                                \x3cdiv class\x3d"esriCTChartColorMargin esriCTChartColorHeight"\x3e\r\n                                    \x3cdiv class\x3d"jimu-trailing-margin2 esriCTLeftAlign esriCTChartColorWidth esriCTColorByThemeContainer"\x3e\r\n                                        \x3cinput id\x3d"rdoColorByTheme" class\x3d"esriCTCursorPointer" value\x3d"rdoColorByTheme" type\x3d"radio" data-dojo-type\x3d"dijit/form/RadioButton"\r\n                                            name\x3d"ChartColor" data-dojo-attach-point\x3d"rdoColorByTheme" /\x3e\r\n                                        \x3clabel class\x3d"esriCTChartColorEllipsis esriCTCursorPointer" for\x3d"rdoColorByTheme" title\x3d"${nls.colorByTheme}"\x3e\r\n                                            ${nls.colorByTheme}\x3c/label\x3e\r\n                                    \x3c/div\x3e\r\n                                    \x3cdiv class\x3d"esriCTThemeSelectorDiv" data-dojo-attach-point\x3d"themeSelectorDiv"\x3e\r\n                                    \x3c/div\x3e\r\n                                \x3c/div\x3e\r\n                                \x3cdiv class\x3d"esriCTChartColorMargin esriCTHidden" data-dojo-attach-point\x3d"colorByFieldContainer"\x3e\r\n                                    \x3cdiv class\x3d"jimu-trailing-margin2 esriCTLeftAlign esriCTChartColorWidth"\x3e\r\n                                        \x3cinput id\x3d"rdoColorByFieldValue" class\x3d"esriCTCursorPointer" value\x3d"rdoColorByFieldValue" type\x3d"radio" data-dojo-type\x3d"dijit/form/RadioButton"\r\n                                            name\x3d"ChartColor" data-dojo-attach-point\x3d"rdoColorByFieldValue" /\x3e\r\n                                        \x3clabel class\x3d"esriCTChartColorEllipsis esriCTCursorPointer" for\x3d"rdoColorByFieldValue" title\x3d"${nls.colorByFieldValue}"\x3e\r\n                                            ${nls.colorByFieldValue}\x3c/label\x3e\r\n                                    \x3c/div\x3e\r\n                                    \x3cselect style\x3d"width: 232px;" data-dojo-attach-point\x3d"ColorByFieldValueDropdown"\r\n                                        data-dojo-type\x3d"dijit/form/Select"\x3e\r\n                                    \x3c/select\x3e\r\n                                \x3c/div\x3e\r\n                            \x3c/div\x3e\r\n                        \x3c/div\x3e\r\n                        \x3cdiv class\x3d"esriCTColorByFieldContainer esriCTHidden" data-dojo-attach-point\x3d"colorByFieldTableContainer"\x3e\r\n                            \x3cdiv class\x3d"esriCTChartTypeDiv"\x3e\r\n                                \x3cdiv data-dojo-attach-point\x3d"colorByFieldTablePanel"\x3e\r\n                                \x3c/div\x3e\r\n                            \x3c/div\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3c!-- X-axis label --\x3e\r\n                    \x3cdiv data-dojo-attach-point\x3d"xAxisArea"\x3e\r\n                        \x3cdiv class\x3d"esriCTChartTitleDiv"\x3e\r\n                            \x3cdiv class\x3d"esriCTChartSettingLabel" title\x3d"${nls.xAxisTitle}"\x3e\r\n                                ${nls.xAxisTitle}\r\n                            \x3c/div\x3e\r\n                            \x3cdiv class\x3d"esriCTFieldInput"\x3e\r\n                                \x3cdiv class\x3d"esriCTControlWidth" data-dojo-attach-point\x3d"xAxisTextBox" data-dojo-type\x3d"dijit/form/ValidationTextBox"\x3e\r\n                                \x3c/div\x3e\r\n                                \x3cdiv class\x3d"esriCTHint " title\x3d"${nls.xAxisHintText}"\x3e\r\n                                    ${nls.xAxisHintText}\r\n                                \x3c/div\x3e\r\n                            \x3c/div\x3e\r\n                            \x3cdiv class\x3d"esriCTFieldSelectorDiv" data-dojo-attach-point\x3d"xAxisFieldSelectorDiv"\x3e\r\n                            \x3c/div\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3c!-- Y-axis label --\x3e\r\n                    \x3cdiv data-dojo-attach-point\x3d"yAxisArea"\x3e\r\n                        \x3cdiv class\x3d"esriCTChartTitleDiv"\x3e\r\n                            \x3cdiv class\x3d"esriCTChartSettingLabel" title\x3d"${nls.yAxisTitle}"\x3e\r\n                                ${nls.yAxisTitle}\r\n                            \x3c/div\x3e\r\n                            \x3cdiv class\x3d"esriCTFieldInput"\x3e\r\n                                \x3cdiv class\x3d"esriCTControlWidth" data-dojo-attach-point\x3d"yAxisTextBox" data-dojo-type\x3d"dijit/form/ValidationTextBox"\x3e\r\n                                \x3c/div\x3e\r\n                                \x3cdiv class\x3d"esriCTHint " title\x3d"${nls.yAxisHintText}"\x3e\r\n                                    ${nls.yAxisHintText}\r\n                                \x3c/div\x3e\r\n                            \x3c/div\x3e\r\n                            \x3cdiv class\x3d"esriCTFieldSelectorDiv" data-dojo-attach-point\x3d"yAxisFieldSelectorDiv"\x3e\r\n                            \x3c/div\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c!-- Layout tab --\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"layoutTabNode"\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"layoutDiv" class\x3d"esriCTLayoutContainer"\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/RelatedTableCharts/setting/ChartThemeSelector.html":'\x3cdiv style\x3d"width: 232px; position: relative;"\x3e\r\n    \x3cdiv class\x3d"esriCTselectedItemNode"  data-dojo-attach-event\x3d"onclick: _onDropDownClick"\x3e\r\n        \x3cdiv class\x3d"esriCTThemeItem"\x3e\r\n            \x3cdiv class\x3d"esriCTThemeChart" data-dojo-attach-point\x3d"selectedThemeChart"\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv  class\x3d"esriCTThemeName" data-dojo-attach-point\x3d"selectedThemeName"\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTDropSelect jimu-float-trailing" data-dojo-attach-point\x3d"dropArrowNode"\r\n        data-dojo-attach-event\x3d"onclick: _onDropDownClick"\x3e\r\n        \x3cdiv class\x3d"jimu-icon jimu-icon-down-arrow-8"\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTThemeChooserList" data-dojo-attach-point\x3d"themeChooseNode" style\x3d"display: block"\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"themeList"\x3e\r\n            \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/RelatedTableCharts/setting/FieldSelector.html":'\x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"showFieldsButton" class\x3d"jimu-icon jimu-icon-add esriCTHover"\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:widgets/RelatedTableCharts/ChartLayout.html":'\x3cdiv\x3e\r\n    \x3cdiv class\x3d"esriCTLayoutContent"\x3e\r\n        \x3cdiv class\x3d"esriCTLabels"\x3e\r\n            \x3cdiv class\x3d"esriCTLayoutHeaderTitle" data-dojo-attach-point\x3d"layoutHeaderTitle"\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTChartContainer" data-dojo-attach-point\x3d"chartContainer"\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTChartDescription" data-dojo-attach-point\x3d"chartDescription"\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/RelatedTableCharts/setting/SymbolChooserPopup.html":'\x3cdiv style\x3d"width: 100%; height: 100%;"\x3e\r\n    \x3cdiv class\x3d"esriCTSymbolChooserContainer"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"symbolData" title\x3d"${symbolChooserTitle}" class\x3d"common-input esriCTSymbolData"\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"buttonsDiv" class\x3d"buttonsDiv"\x3e\r\n        \x3cdiv class\x3d"button-container button-container-absolute" style\x3d"padding: 0px;"\x3e\r\n            \x3cdiv class\x3d"jimu-btn jimu-float-trailing jimu-leading-margin1" data-dojo-attach-point\x3d"okButton"\x3e\r\n                OK\x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/RelatedTableCharts/setting/GeneralSetting.html":'\x3cdiv\x3e\r\n    \x3cdiv class\x3d"esriCTmainContainer"\x3e\r\n        \x3cfieldset class\x3d"esriCTGeneralSettingFieldset"\x3e\r\n            \x3clegend class\x3d"esriCTGeneralSettingLegend" title\x3d"${nls.legendGeneralSettingText}"\x3e\r\n                ${nls.legendGeneralSettingText} \x3c/legend\x3e\r\n            \x3c!-- All components of general setting --\x3e\r\n            \x3cdiv class\x3d"esriCTGeneralSettingComponentsDiv"\x3e\r\n                \x3c!-- This part of html contains Label, Hint and icon for Graphic Location Symbol --\x3e\r\n                \x3cdiv class\x3d"esriCTGraphicLocationSymbolMainDiv"\x3e\r\n                    \x3cdiv class\x3d"esriCTLocationSymbolLabelMainDiv"\x3e\r\n                        \x3cdiv class\x3d"esriCTLocationSymbolLabel esriCTGeneralSettingLabel"\x3e\r\n                            ${nls.locationSymbolLabel}\r\n                        \x3c/div\x3e\r\n                        \x3cdiv class\x3d"esriCTLocationSymbolHint esriCTHint"\x3e\r\n                            ${nls.locationSymbolHintText}\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3c!-- End of esriCTLocationSymbolLabelMainDiv --\x3e\r\n                    \x3cdiv class\x3d"esriCTLocationSymbolIconDiv"\x3e\r\n                        \x3cdiv class\x3d"esriCTLocationSymbolIcon" data-dojo-attach-point\x3d"locationSymbolIconNode"\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3c!-- End of esriCTLocationSymbolIconDiv --\x3e\r\n                \x3c/div\x3e\r\n                \x3c!-- End of esriCTGraphicLocationSymbolMainDiv --\x3e\r\n\r\n                \x3c!-- This part of html contains Label, Hint and textbox for refresh interval --\x3e\r\n                \x3cdiv class\x3d"esriCTRefreshIntervalMainDiv"\x3e\r\n                    \x3cdiv class\x3d"esriCTRefreshIntervalLabelMainDiv"\x3e\r\n                        \x3cdiv class\x3d"esriCTRefreshIntervalLabel esriCTGeneralSettingLabel"\x3e\r\n                            ${nls.refreshIntervalLabel}\r\n                        \x3c/div\x3e\r\n                        \x3cdiv class\x3d"esriCTRefreshIntervalHint esriCTHint"\x3e\r\n                            ${nls.refreshIntervalHintText}\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3c!-- End of esriCTRefreshIntervalLabelMainDiv --\x3e\r\n                    \x3cdiv class\x3d"esriCTRefreshIntervalTxtBxDiv"\x3e\r\n                        \x3cinput type\x3d"text" value\x3d"0"  data-dojo-attach-point\x3d"refreshIntervalTxtBx"\r\n                            data-dojo-type\x3d"dijit/form/NumberTextBox" trim\x3d"true" constraints\x3d"{min:0,max:1440}"\r\n                            data-dojo-attach-event\x3d"change:_onRefreshIntervalChanged" /\x3e\r\n                    \x3c/div\x3e\r\n                    \x3c!-- End of esriCTRefreshIntervalTxtBxDiv --\x3e\r\n                \x3c/div\x3e\r\n                \x3c!-- End of esriCTRefreshIntervalMainDiv --\x3e\r\n            \x3c/div\x3e\r\n            \x3c!-- End of general setting components --\x3e\r\n        \x3c/fieldset\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/RelatedTableCharts/setting/Setting.html":'\x3cdiv style\x3d"height: 98%;"\x3e\r\n    \x3cdiv class\x3d"esriCTListContainer" data-dojo-attach-point\x3d"chartListContainer"\x3e\r\n        \x3cdiv class\x3d"esriCTListHeader" style\x3d"overflow: hidden;"\x3e\r\n            \x3cdiv class\x3d"jimu-float-leading"\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"jimu-float-trailing"\x3e\r\n                \x3cdiv class\x3d"add-with-icon" data-dojo-attach-event\x3d"onclick:_onAddNewClicked"\x3e\r\n                    \x3cspan class\x3d"jimu-icon jimu-icon-add"\x3e\x3c/span\x3e\x3cspan class\x3d"add-label"\x3e${nls.addNewLabel}\x3c/span\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTListContent"\x3e\r\n            \x3cdiv class\x3d"esriCTListTable" data-dojo-attach-point\x3d"chartListPanel"\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"esriCTGeneralSettingButton jimu-btn jimu-float-trailing jimu-leading-margin1"\r\n                data-dojo-attach-point\x3d"generalSettingButton"\x3e\r\n                ${nls.generalSettingLabel}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTChartSettingsContainer"\x3e\r\n        \x3cdiv class\x3d"esriCTHidden esriCTFullHeight" data-dojo-attach-point\x3d"chartSettingsContainer"\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTHidden esriCTFullHeight esriCTGeneralSettingsContainer" data-dojo-attach-point\x3d"generalSettingsContainer"\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"loadingIndicator" data-dojo-type\x3d"jimu/dijit/LoadingShelter"\r\n        hidden\x3d"true"\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/RelatedTableCharts/setting/css/style.css":".jimu-widget-RelatedTableCharts-layout .esriCTLabels{width: 100%; clear: both;}.jimu-widget-RelatedTableCharts-layout .esriCTLayoutHeaderTitle{font-weight: bold; text-align: center; margin: 10px 10px 0 10px;}.jimu-widget-RelatedTableCharts-layout .esriCTLayoutContent{width: calc(100% - 140px); border: 1px solid #d2dae2; margin: 20px auto;}.jimu-widget-RelatedTableCharts-layout .esriCTChartContainer{width: calc(100% - 100px); margin: 10px 50px; display: inline-block; direction: ltr;}.jimu-widget-RelatedTableCharts-layout .esriCTChartDescription{margin: 0 10px 10px 10px; word-break: break-word;}.jimu-widget-RelatedTableCharts-setting .esriCTHint{margin: 5px 5px 10px 0; float: left; font-size: 12px; color: #a0acbf; font-style: oblique;}.esriCTHidden{display: none;}.esriCTFullHeight, .jimu-tab3, .container-node.jimu-viewstack{height: 100%;}.jimu-widget-RelatedTableCharts-setting .esriCTListContainer{width: 270px; height: 100%; float: left;}.jimu-widget-RelatedTableCharts-setting .esriCTHover{cursor: pointer;}.jimu-widget-RelatedTableCharts-setting .esriCTListContent{height: calc(100% - 70px); width: 100%; top: 10px; bottom: 5px;}.jimu-widget-RelatedTableCharts-setting .esriCTGeneralSettingsContainer{overflow: auto;}.jimu-widget-RelatedTableCharts-setting .esriCTGeneralSettingButton{margin-top: 10px; width: 100%;}.jimu-widget-RelatedTableCharts-setting .esriCTChartSettingsContainer{position: absolute; left: 300px; right: 0; height: 100%; overflow: hidden;}.jimu-widget-RelatedTableCharts-setting .esriCTLayoutContainer{height: calc(100% - 40px); width: 100%; overflow: auto;}.jimu-widget-RelatedTableCharts-setting .jimu-simple-table .simple-table-field, .jimu-simple-table .simple-table-cell{cursor: pointer;}.jimu-widget-RelatedTableCharts-setting .esriCTChartSettingsNode{height: calc(100% - 40px); width: 100%; overflow: auto;}.jimu-widget-RelatedTableCharts-setting .esriCTmainContainer{margin-top: 20px;}.jimu-widget-RelatedTableCharts-setting .esriCTChartColorMargin{margin: 0px 0px 10px 0px; line-height: 26px; clear: both;}.jimu-widget-RelatedTableCharts-setting .esriCTSingleColorContainer{line-height: 30px; margin-bottom: 3px;}.jimu-widget-RelatedTableCharts-setting .esriCTColorByThemeContainer{line-height: 30px;}.jimu-widget-RelatedTableCharts-setting .esriCTChartColorWidth{width: 227px;}.jimu-widget-RelatedTableCharts-setting .esriCTChartColorHeight{height: 30px;}.jimu-widget-RelatedTableCharts-setting .esriCTChartTitleInput{width: 62%; float: left;}.jimu-widget-RelatedTableCharts-setting .esriCTColorPicker{display: inline-block; width: 24px; height: 24px; margin-top: 2px; margin-left: 10px;}.jimu-widget-RelatedTableCharts-setting .esriCTTextAreaFont{font-family: 'Open Sans' , Helvetica, Arial;}.jimu-widget-RelatedTableCharts-setting .esriCTTextAreaHeight{max-height: 150px; min-height: 60px; resize: none;}.jimu-widget-RelatedTableCharts-setting .esriCTCursorPointer{cursor: pointer;}.dijitRadio input, .jimu-widget-RelatedTableCharts-setting .esriCTCursorPointer{cursor: pointer;}.jimu-widget-RelatedTableCharts-setting .esriCTChartTypeEllipsis{text-overflow: ellipsis; white-space: nowrap; min-width: 80px; width: 80px; overflow: hidden; display: inline-block; vertical-align: middle; margin-left: 1px; color: #7989a0; font-size: 14px;}.jimu-widget-RelatedTableCharts-setting .esriCTChartColorEllipsis{text-overflow: ellipsis; white-space: nowrap; min-width: 140px; width: 140px; overflow: hidden; display: inline-block; vertical-align: middle; margin-left: 1px; color: #7989a0; font-size: 14px;}.jimu-widget-RelatedTableCharts-setting .esriCTChartSettingLabel{width: 18%; word-break: break-all; float: left; padding-right: 10px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; min-width: 109px; line-height: 30px; font-size: 14px; color: #596679;}.jimu-widget-RelatedTableCharts-setting .esriCTFieldInput{width: 77%; float: left;}.jimu-widget-RelatedTableCharts-setting .esriCTLeftAlign{float: left;}.jimu-widget-RelatedTableCharts-setting .esriCTControlWidth{width: 100%;}.jimu-widget-RelatedTableCharts-setting .fieldColorPicker{width: 25px; height: 25px; border-radius: 5px;}.jimu-widget-RelatedTableCharts-setting .esriCTColorByFieldContainer{float: left; width: 100%; margin-bottom: 10px;}.jimu-widget-RelatedTableCharts-setting .esriCTChartTypeDiv{float: left; width: 70%; margin-left: 25%; max-height: 230px;}.jimu-widget-RelatedTableCharts-setting .esriCTColorByFieldContainer .jimu-simple-table{max-height: 230px;}.jimu-widget-RelatedTableCharts-setting .esriCTMarginRight{float: left; margin-right: 40px; line-height: 24px;}.jimu-widget-RelatedTableCharts-setting .esriCTFieldSelectorDiv{margin-left: 10px; margin-top: 6px; float: left;}.jimu-widget-RelatedTableCharts-setting .esriCTThemeSelectorDiv{float: left;}.jimu-widget-RelatedTableCharts-setting .esriCTThemeChart{float: left;}.jimu-widget-RelatedTableCharts-setting .esriCTThemeItem{padding: 2px 2px 8px 10px; height: 28px; cursor: pointer;}.jimu-widget-RelatedTableCharts-setting .esriCTThemeItem:hover{background-color: #edf2f5;}.jimu-widget-RelatedTableCharts-setting .esriCTThemeName{float: left; line-height: 24px; white-space: nowrap; margin-left: 10px; overflow: hidden; text-overflow: ellipsis; width: 130px; color: #7989a0;}div.chart{width: 24px; height: 24px;}.jimu-widget-RelatedTableCharts-setting .esriCTThemeChooserList{position: absolute; top: 30px; overflow: auto; max-height: 186px; background-color: #FFFFFF; border: 1px solid #aaaaaa; width: 232px; z-index: 1; background-color: #fafafc;}.jimu-widget-RelatedTableCharts-setting .esriCTselectedItemNode{height: 30px; line-height: 36px; width: 100%; border: solid 1px #d2dae2; cursor: pointer; background-color: #fafafc;}.jimu-widget-RelatedTableCharts-setting .esriCTDropSelect{width: 30px; height: 30px; cursor: pointer; margin-top: -30px;}.jimu-widget-RelatedTableCharts-setting .esriCTDropSelect .jimu-icon-down-arrow-8{position: relative; left: 9px; top: 1px;}.jimu-widget-RelatedTableCharts-setting .esriCTFieldRow{float: left; width: 100%; margin-bottom: 10px;}.jimu-widget-RelatedTableCharts-setting .esriCTLabelContainer{width: 45%; float: left;}.jimu-widget-RelatedTableCharts-setting .esriCTlabel{width: 45%; padding: 5px; word-break: break-all; margin-top: 5px; margin-bottom: 5px; float: left; padding-left: 0px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; min-width: 330px; color: #596679;}.jimu-widget-RelatedTableCharts-setting .row{clear: both;}.jimu-widget-RelatedTableCharts-setting .esriCTLayerField{width: 53%; float: left;}.jimu-widget-RelatedTableCharts-setting .esriCTLayerSelectorDiv{height: 135px; overflow-y: auto;}.jimu-widget-RelatedTableCharts-setting .esriCTLayerChooserContainer{width: 99%; float: left; margin: 0 0 0 5px;}.jimu-widget-RelatedTableCharts-setting .jimu-layer-chooser-from-map-withdropbox .layer-name{text-overflow: ellipsis; overflow: hidden; white-space: nowrap; padding: 0px 18px 0px 9px;}.jimu-widget-RelatedTableCharts-setting .dijitValidationTextBoxLabel{max-width: 232px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; float: left;}.jimu-widget-RelatedTableCharts-setting .esriCTGeneralSettingFieldset{width: 99%; position: relative; top: 10px; height: 250px; border: 1px solid #D2DAE2; border-radius: 5px; font-size: 14px;}.jimu-widget-RelatedTableCharts-setting .esriCTGeneralSettingLegend{margin-left: 10px;}.jimu-widget-RelatedTableCharts-setting .esriCTGeneralSettingComponentsDiv{height: 100%; margin: 4px;}.jimu-widget-RelatedTableCharts-setting .esriCTGraphicLocationSymbolMainDiv, .jimu-widget-RelatedTableCharts-setting .esriCTRefreshIntervalMainDiv{height: 40%; width: 100%; float: left; margin-bottom: 10px;}.jimu-widget-RelatedTableCharts-setting .esriCTLocationSymbolLabelMainDiv, .jimu-widget-RelatedTableCharts-setting .esriCTRefreshIntervalLabelMainDiv{float: left; width: 40%; margin: 25px 0px 10px 10px;}.jimu-widget-RelatedTableCharts-setting .esriCTLocationSymbolIconDiv, .jimu-widget-RelatedTableCharts-setting .esriCTRefreshIntervalTxtBxDiv{float: right; width: 40%; margin: 35px 10px 10px 0px;}.jimu-widget-RelatedTableCharts-setting .esriCTLocationSymbolIcon{float: left;}.jimu-widget-RelatedTableCharts-setting table{border-spacing: 0;}.jimu-widget-RelatedTableCharts-setting .esriCTGeneralSettingLabel{color: #596679;}.jimu-widget-RelatedTableCharts-setting .esriCTSymbolChooserNode{text-align: center; cursor: pointer;}.jimu-widget-RelatedTableCharts-setting .esriCTSymbolPreviewText{padding-right: 5px; color: #7989a0;}.jimu-widget-RelatedTableCharts-setting .esriCTSymbolChooserContainer{height: calc(100% - 50px); overflow: auto;}.claro .dijitTextBox .dijitInputInner, .claro .dijitTextBox, .claro .dijitSelect, .claro .dijitSelect .dijitInputField, .claro .dijitInputContainer{color: #7989a0; background-color: #fafafc; font-size: 14px; border-color: #d2dae2;}.claro .dijitMenuItem{color: #7989a0;}.jimu-widget-RelatedTableCharts-setting .esriCTChartChartTypeDiv{margin-bottom: 6px !important;}.claro .dijitSelect .dijitArrowButton{background-color: #fafafc; background-image: none; border-color: #fafafc;}.jimu-widget-RelatedTableCharts-setting .dijitSelect .dijitButtonContents{border-style: none none none none; background-color: #fafafc;}.claro .dijitSelect .dijitInputField{margin-right: 8px;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTDropSelect .jimu-icon-down-arrow-8{right: 9px;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTThemeChart{float: right;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTThemeItem{padding: 2px 10px 8px 2px;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTThemeName{float: right; margin-right: 10px;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTColorPicker{float: right; margin-right: 10px;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTThemeSelectorDiv{float: right;}.esriRtl .claro .dijitSelect .dijitInputField{margin-left: 8px;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTHint{margin: 5px 0px 10px 5px; float: right;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTChartSettingsContainer{right: 300px; left: 0;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTListContainer{float: right;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTChartSettingLabel{float: right;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTFieldInput{float: right;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTMarginRight{float: right; margin-right: 0px; margin-left: 40px;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTLeftAlign{float: right;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTlabel{float: right; padding-right: 0; padding-left: 5px;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTLayerField{float: right;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTLayerChooserContainer{float: none;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTLocationSymbolLabelMainDiv,.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTRefreshIntervalLabelMainDiv{float: right; margin: 25px 10px 10px 0px;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTGraphicLocationSymbolMainDiv,.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTRefreshIntervalMainDiv{float: right;}.esriRtl .jimu-widget-RelatedTableCharts-setting .esriCTLocationSymbolIcon{float: right;}",
"*now":function(l){l(['dojo/i18n!*preload*widgets/RelatedTableCharts/setting/nls/Setting*["ar","cs","da","de","en","el","es","et","fi","fr","he","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/_base/declare jimu/BaseWidgetSetting dijit/_WidgetsInTemplateMixin jimu/dijit/Popup dojo/query dojo/_base/lang ./LayerChooser ./ChartSetting ./GeneralSetting dojo/dom-class dojo/dom-style dojo/on dojo/dom-construct jimu/dijit/Message jimu/dijit/SimpleTable".split(" "),function(l,n,h,k,g,b,e,d,a,c,m,f,q,p,G){return l([n,h],{baseClass:"jimu-widget-RelatedTableCharts-setting",generalSettings:null,currentChartSettings:null,startup:function(){this.generalSettings=new a({nls:this.nls.GeneralSetting,
config:this.config.generalSettings});this.generalSettings.placeAt(this.generalSettingsContainer);this._handelEvents()},postCreate:function(){this._createChartListTable();this.setConfig(this.config)},_createChartListTable:function(){this.chartList=new G({fields:[{name:"name",title:this.nls.chartSettingLabel,width:"auto",type:"text",editable:!1},{name:"actions",title:"",width:"70px",type:"actions",actions:["up","down","delete"]}],autoHeight:!1,selectable:!0,style:{height:"100%",top:"0",bottom:"10px"}},
this.chartListPanel);this.chartList.startup();f(this.chartList,"row-select",b.hitch(this,this._onChartItemSelected));f(this.chartList,"row-delete",b.hitch(this,this._onChartItemRemoved))},setConfig:function(a){var c,d,e;if(a&&""!==a&&a.charts){for(d=0;d<a.charts.length;d++)e=this.chartList.addRow({name:a.charts[d].chartConfig.sectionTitle}),e.success&&(e=e.tr,e.layerDetails=b.clone(a.charts[d].layerDetails),e.chartConfig=b.clone(a.charts[d].chartConfig),0===d&&(c=e));c&&setTimeout(b.hitch(this,function(){this.chartList.selectRow(c)}),
500)}},getConfig:function(){var a,c,d,e,f;if(this.currentChartSettings)if(c=this.currentChartSettings.getConfig(!0))this.currentChartSettings.tr.chartConfig=b.clone(c);else return!1;if(this.generalSettings&&(a=this.generalSettings.getConfig(!0),!a))return!1;a={charts:[],generalSettings:a};c=this.chartList.getRows();for(d=0;d<c.length;d++)e=c[d],f={},f.layerDetails=b.clone(e.layerDetails),f.chartConfig=b.clone(e.chartConfig),a.charts.push(f);this.config=b.clone(a);return a},_handelEvents:function(){var a=
g(".simple-table-title",this.chartListContainer)[0];f(this.generalSettingButton,"click",b.hitch(this,function(){c.contains(this.generalSettingsContainer,"esriCTHidden")&&this._showSettingsView("general")}));a&&(m.set(a,"cursor","pointer"),f(a,"click",b.hitch(this,function(){c.contains(this.chartSettingsContainer,"esriCTHidden")&&this._showSettingsView("chart")})))},_showSettingsView:function(a){"general"===a?(c.add(this.chartSettingsContainer,"esriCTHidden"),c.remove(this.generalSettingsContainer,
"esriCTHidden")):"chart"===a&&(c.add(this.generalSettingsContainer,"esriCTHidden"),c.remove(this.chartSettingsContainer,"esriCTHidden"))},_onAddNewClicked:function(){var a,c,d;if(this.currentChartSettings&&""===this.currentChartSettings.sectionTitleTextBox.get("value"))return this._errorMessage(this.nls.ChartSetting.errMsgSectionTitle),!1;d="*";a=this.chartList.getRows();0<a.length&&(a[0].layerDetails&&a[0].layerDetails.polygonLayerInfo)&&(d=a[0].layerDetails.polygonLayerInfo.geometryType);a=new e({nls:this.nls,
map:this.map,geometryType:d});c=new k({titleLabel:this.nls.layerChooser.title,width:800,height:250,content:a});a.onOkClick=b.hitch(this,function(a){this._addLayer(a);c.close()});a.onCancleClick=b.hitch(this,function(){c.close()})},_errorMessage:function(a){(new p({message:a})).message=a},_addLayer:function(a){var b;b=this.chartList.addRow({name:a.polygonLayerInfo.title});b.success&&(b=b.tr,b.layerDetails=a,this.chartList.selectRow(b))},_onChartItemRemoved:function(a){this.currentChartSettings&&this.currentChartSettings.tr===
a&&(this.currentChartSettings.destroy(),this.currentChartSettings=null,a=this.chartList.getRows(),a.length&&this.chartList.selectRow(a[0]))},_onChartItemSelected:function(a){this._showSettingsView("chart");if(this.currentChartSettings){if(this.currentChartSettings.tr!==a){var b=this.currentChartSettings.getConfig(!0);b?(this.currentChartSettings.tr.chartConfig=b,this.currentChartSettings.destroy(),this.currentChartSettings=null,this._createChartSettings(a)):this.chartList.selectRow(this.currentChartSettings.tr)}}else this._createChartSettings(a)},
_createChartSettings:function(a){this.currentChartSettings=new d({map:this.map,nls:this.nls.ChartSetting,config:a.chartConfig,layerDetails:a.layerDetails,tr:a,folderUrl:this.folderUrl,appConfig:this.appConfig},q.create("div",{},this.chartSettingsContainer));this.own(f(this.currentChartSettings,"sectionTitleChanged",b.hitch(this,function(b){this.chartList.editRow(a,{name:b})})));this.own(f(this.currentChartSettings,"showLoadingIndicator",b.hitch(this,function(){this.loadingIndicator.show()})));this.own(f(this.currentChartSettings,
"hideLoadingIndicator",b.hitch(this,function(){this.loadingIndicator.hide()})));this.currentChartSettings.startup();this.currentChartSettings.setConfig(a.chartConfig);return this.currentChartSettings}})});