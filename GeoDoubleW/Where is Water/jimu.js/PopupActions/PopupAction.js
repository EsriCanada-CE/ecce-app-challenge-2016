// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/html dijit/_WidgetBase dojo/Evented dojo/on dojo/query".split(" "),function(f,g,c,b,h,k,d,e){return f([h,k],{popup:null,popupMobile:null,popupUnion:null,buttonInfo:null,_buttons:null,constructor:function(){this.buttonDomNodes=[]},postCreate:function(){this.inherited(arguments);this.popup=this.popupUnion.bigScreen;this.popupMobile=this.popupUnion.mobile;this.buttonInfo&&this._addButtonNode()},_addButtonNode:function(){this._addButtonNodeToPopup();
this._addButtonNodeToPopupMobile()},_addButtonNodeToPopup:function(){var a=e(".actionList",this.popup.domNode)[0],a=b.create("a",{"class":"action "+this.buttonInfo.baseClass,href:" javascript:void(0);"},a);this.buttonDomNodes.push(a);this.popupButtonNode=b.create("span",{innerHTML:this.buttonInfo.label},a);this.own(d(this.popupButtonNode,"click",c.hitch(this,this._onButtonClick)));this.own(d(this.popup,"selection-change",c.hitch(this,this._onSelectionChange,this.popup)));this.own(d(this.popup,"show",
c.hitch(this,this._onShow)))},_addButtonNodeToPopupMobile:function(){var a=e(".esriMobilePopupInfoView .esriMobileInfoViewItem"),a=b.create("a",{"class":"action "+this.buttonInfo.baseClass,href:" javascript:void(0);"},a[a.length-1]);this.buttonDomNodes.push(a);this.popupMobileButtonNode=b.create("span",{innerHTML:this.buttonInfo.label},a);this.own(d(this.popupMobileButtonNode,"click",c.hitch(this,this._onButtonClick)));this.own(d(this.popupMobile,"selection-change",c.hitch(this,this._onSelectionChange,
this.popupMobile)));this.own(d(this.popupMobile,"show",c.hitch(this,this._onShow)))},show:function(){b.setStyle(this.popupButtonNode,"display","inline");b.setStyle(this.popupMobileButtonNode,"display","inline")},hide:function(){b.setStyle(this.popupButtonNode,"display","none");b.setStyle(this.popupMobileButtonNode,"display","none")},_onButtonClick:function(){if(this.buttonInfo.onClick&&c.isFunction(this.buttonInfo.onClick))this.buttonInfo.onClick(this._selectedFeature,this._popupShowEvt,this._popupSelectionChangeEvt)},
_onSelectionChange:function(a,b){-1<b.target.selectedIndex&&(this._selectedFeature=a.getSelectedFeature(),this._popupSelectionChangeEvt=b,this.emit("selectionChange",this._selectedFeature,b))},_onShow:function(a){this._popupShowEvt=a},destroy:function(){g.forEach(this.buttonDomNodes,function(a){b.destroy(a)},this);this.inherited(arguments)}})});